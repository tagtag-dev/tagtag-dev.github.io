[{"data":1,"prerenderedAt":4448},["ShallowReactive",2],{"navigation":3,"/modules/auth":107,"/modules/auth-surround":4443},[4,18,35,60,81,94,103],{"title":5,"path":6,"stem":7,"children":8,"page":17},"Getting Started","/getting-started","1.getting-started",[9,13],{"title":10,"path":11,"stem":12},"项目介绍","/getting-started/introduction","1.getting-started/1.introduction",{"title":14,"path":15,"stem":16},"快速上手","/getting-started/quick-start","1.getting-started/2.quick-start",false,{"title":19,"path":20,"stem":21,"children":22,"page":17},"Architecture","/architecture","2.architecture",[23,27,31],{"title":24,"path":25,"stem":26},"架构概览","/architecture/overview","2.architecture/1.overview",{"title":28,"path":29,"stem":30},"项目结构","/architecture/project-structure","2.architecture/2.project-structure",{"title":32,"path":33,"stem":34},"前端架构","/architecture/frontend-architecture","2.architecture/3.frontend-architecture",{"title":36,"path":37,"stem":38,"children":39,"page":17},"Developer Guide","/developer-guide","3.developer-guide",[40,44,48,52,56],{"title":41,"path":42,"stem":43},"实战教程：开发 CRUD 功能","/developer-guide/crud-tutorial","3.developer-guide/1.crud-tutorial",{"title":45,"path":46,"stem":47},"代码规范与最佳实践","/developer-guide/code-style","3.developer-guide/2.code-style",{"title":49,"path":50,"stem":51},"测试指南","/developer-guide/testing","3.developer-guide/3.testing",{"title":53,"path":54,"stem":55},"前端开发指南","/developer-guide/frontend-development","3.developer-guide/4.frontend-development",{"title":57,"path":58,"stem":59},"AI 辅助开发","/developer-guide/ai-development","3.developer-guide/5.ai-development",{"title":61,"path":62,"stem":63,"children":64,"page":17},"Modules","/modules","3.modules",[65,69,73,77],{"title":66,"path":67,"stem":68},"身份管理 (IAM)","/modules/iam","3.modules/1.iam",{"title":70,"path":71,"stem":72},"系统模块","/modules/system","3.modules/2.system",{"title":74,"path":75,"stem":76},"认证模块","/modules/auth","3.modules/3.auth",{"title":78,"path":79,"stem":80},"存储模块","/modules/storage","3.modules/4.storage",{"title":82,"path":83,"stem":84,"children":85,"page":17},"Deployment","/deployment","4.deployment",[86,90],{"title":87,"path":88,"stem":89},"生产环境部署","/deployment/production","4.deployment/1.production",{"title":91,"path":92,"stem":93},"容器化部署","/deployment/containerization","4.deployment/2.containerization",{"title":95,"path":96,"stem":97,"children":98,"page":17},"Maintenance","/maintenance","5.maintenance",[99],{"title":100,"path":101,"stem":102},"监控与维护","/maintenance/monitoring","5.maintenance/1.monitoring",{"title":104,"path":105,"stem":106},"更新日志","/releases","releases",{"id":108,"title":74,"body":109,"description":4437,"extension":4438,"links":4439,"meta":4440,"navigation":392,"path":75,"seo":4441,"stem":76,"__hash__":4442},"docs/3.modules/3.auth.md",{"type":110,"value":111,"toc":4392},"minimark",[112,120,125,128,133,152,156,182,186,190,193,197,200,220,230,234,258,262,288,292,296,306,310,316,320,326,330,334,340,346,360,365,454,459,583,587,592,596,610,615,1067,1071,1076,1080,1094,1099,1141,1145,1150,1154,1165,1170,1209,1213,1217,1223,1227,1233,1237,1241,1246,1250,1264,1269,2300,2304,2309,2313,2327,2331,3350,3354,3359,3363,3374,3378,4054,4058,4168,4172,4176,4220,4224,4250,4254,4280,4284,4288,4314,4318,4344,4348,4351,4355,4375,4379,4382,4385,4388],[113,114,115,119],"p",{},[116,117,118],"strong",{},"认证 (Auth)"," 模块负责系统的用户认证、授权以及会话管理，基于 JWT (JSON Web Token) 实现无状态认证。",[121,122,124],"h2",{"id":123},"_1-认证模块概述","1. 认证模块概述",[113,126,127],{},"认证模块是系统的安全核心，负责验证用户身份并授予访问权限。Tagtag Starter 认证模块采用现代化的 JWT 认证机制，实现了无状态认证，提高了系统的可扩展性和性能。",[129,130,132],"h3",{"id":131},"_11-核心功能","1.1 核心功能",[134,135,136,140,143,146,149],"ul",{},[137,138,139],"li",{},"用户登录与登出",[137,141,142],{},"JWT 令牌生成与验证",[137,144,145],{},"令牌刷新机制",[137,147,148],{},"权限校验",[137,150,151],{},"会话管理",[129,153,155],{"id":154},"_12-技术栈","1.2 技术栈",[134,157,158,164,170,176],{},[137,159,160,163],{},[116,161,162],{},"JWT",": JSON Web Token，用于无状态认证",[137,165,166,169],{},[116,167,168],{},"BCrypt",": 密码加密算法，确保密码安全",[137,171,172,175],{},[116,173,174],{},"Spring Security",": 安全框架，提供认证和授权功能",[137,177,178,181],{},[116,179,180],{},"Redis",": 用于缓存令牌黑名单和会话信息",[121,183,185],{"id":184},"_2-jwt-认证原理","2. JWT 认证原理",[129,187,189],{"id":188},"_21-jwt-基本概念","2.1 JWT 基本概念",[113,191,192],{},"JWT (JSON Web Token) 是一种开放标准 (RFC 7519)，用于在各方之间安全地传输信息作为 JSON 对象。JWT 可以被验证和信任，因为它是数字签名的。",[129,194,196],{"id":195},"_22-jwt-结构","2.2 JWT 结构",[113,198,199],{},"JWT 由三部分组成，用点 (.) 分隔：",[134,201,202,208,214],{},[137,203,204,207],{},[116,205,206],{},"Header",": 包含令牌类型和签名算法",[137,209,210,213],{},[116,211,212],{},"Payload",": 包含声明（claims），如用户ID、角色、过期时间等",[137,215,216,219],{},[116,217,218],{},"Signature",": 用于验证令牌的完整性",[113,221,222,225,226],{},[116,223,224],{},"格式",": ",[227,228,229],"code",{},"header.payload.signature",[129,231,233],{"id":232},"_23-jwt-工作流程","2.3 JWT 工作流程",[235,236,237,240,243,246,249,252,255],"ol",{},[137,238,239],{},"用户使用用户名和密码登录系统",[137,241,242],{},"服务器验证用户名和密码的正确性",[137,244,245],{},"服务器生成 JWT 令牌并返回给客户端",[137,247,248],{},"客户端存储 JWT 令牌",[137,250,251],{},"客户端在后续请求中携带 JWT 令牌",[137,253,254],{},"服务器验证 JWT 令牌的有效性",[137,256,257],{},"服务器处理请求并返回响应",[129,259,261],{"id":260},"_24-jwt-优势","2.4 JWT 优势",[134,263,264,270,276,282],{},[137,265,266,269],{},[116,267,268],{},"无状态",": 服务器不需要存储会话信息，提高了系统的可扩展性",[137,271,272,275],{},[116,273,274],{},"跨域支持",": JWT 支持跨域认证，便于构建分布式系统",[137,277,278,281],{},[116,279,280],{},"自包含",": 令牌包含了所有必要的用户信息，减少了数据库查询",[137,283,284,287],{},[116,285,286],{},"易于集成",": 可以与各种客户端兼容",[121,289,291],{"id":290},"_3-认证流程","3. 认证流程",[129,293,295],{"id":294},"_31-登录流程","3.1 登录流程",[297,298,303],"pre",{"className":299,"code":301,"language":302},[300],"language-text","┌────────────┐     ┌────────────┐     ┌────────────┐     ┌────────────┐\n│  客户端    │     │  服务器    │     │  数据库    │     │  Redis     │\n└─────┬──────┘     └─────┬──────┘     └─────┬──────┘     └─────┬──────┘\n      │                  │                  │                  │\n      │ 1. 登录请求      │                  │                  │\n      │────────────────▶│                  │                  │\n      │                  │                  │                  │\n      │                  │ 2. 验证用户名密码 │                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │                  │ 3. 生成 JWT 令牌 │                  │\n      │                  │◀────────────────│                  │\n      │                  │                  │                  │\n      │                  │ 4. 存储令牌信息  │                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │ 5. 返回 JWT 令牌 │                  │                  │\n      │◀────────────────│                  │                  │\n      │                  │                  │                  │\n      │                  │                  │                  │\n","text",[227,304,301],{"__ignoreMap":305},"",[129,307,309],{"id":308},"_32-请求认证流程","3.2 请求认证流程",[297,311,314],{"className":312,"code":313,"language":302},[300],"┌────────────┐     ┌────────────┐     ┌────────────┐     ┌────────────┐\n│  客户端    │     │  服务器    │     │  数据库    │     │  Redis     │\n└─────┬──────┘     └─────┬──────┘     └─────┬──────┘     └─────┬──────┘\n      │                  │                  │                  │\n      │ 1. 请求携带 JWT   │                  │                  │\n      │────────────────▶│                  │                  │\n      │                  │                  │                  │\n      │                  │ 2. 验证 JWT 有效性│                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │                  │ 3. 检查令牌黑名单│                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │                  │ 4. 解析用户信息  │                  │\n      │                  │◀────────────────│                  │\n      │                  │                  │                  │\n      │                  │ 5. 权限校验      │                  │\n      │                  │                  │                  │\n      │                  │ 6. 处理请求      │                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │ 7. 返回响应      │◀────────────────│                  │\n      │◀────────────────│                  │                  │\n      │                  │                  │                  │\n",[227,315,313],{"__ignoreMap":305},[129,317,319],{"id":318},"_33-令牌刷新流程","3.3 令牌刷新流程",[297,321,324],{"className":322,"code":323,"language":302},[300],"┌────────────┐     ┌────────────┐     ┌────────────┐     ┌────────────┐\n│  客户端    │     │  服务器    │     │  数据库    │     │  Redis     │\n└─────┬──────┘     └─────┬──────┘     └─────┬──────┘     └─────┬──────┘\n      │                  │                  │                  │\n      │ 1. 刷新令牌请求   │                  │                  │\n      │────────────────▶│                  │                  │\n      │                  │                  │                  │\n      │                  │ 2. 验证刷新令牌  │                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │                  │ 3. 生成新 JWT   │                  │\n      │                  │◀────────────────│                  │\n      │                  │                  │                  │\n      │                  │ 4. 存储新令牌信息│                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │ 5. 返回新 JWT     │                  │                  │\n      │◀────────────────│                  │                  │\n      │                  │                  │                  │\n",[227,325,323],{"__ignoreMap":305},[121,327,329],{"id":328},"_4-核心功能实现","4. 核心功能实现",[129,331,333],{"id":332},"_41-用户登录","4.1 用户登录",[113,335,336,339],{},[116,337,338],{},"功能",": 验证用户身份并生成 JWT 令牌。",[113,341,342,345],{},[116,343,344],{},"实现细节",":",[134,347,348,351,354,357],{},[137,349,350],{},"密码验证：使用 BCrypt 算法验证密码",[137,352,353],{},"令牌生成：生成访问令牌和刷新令牌",[137,355,356],{},"令牌存储：将令牌信息存储到 Redis",[137,358,359],{},"响应格式：返回令牌、用户信息和权限列表",[113,361,362,345],{},[116,363,364],{},"登录请求",[297,366,370],{"className":367,"code":368,"language":369,"meta":305,"style":305},"language-json shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","POST /auth/login\nContent-Type: application/json\n\n{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}\n","json",[227,371,372,381,387,394,401,428,448],{"__ignoreMap":305},[373,374,377],"span",{"class":375,"line":376},"line",1,[373,378,380],{"class":379},"sTEyZ","POST /auth/login\n",[373,382,384],{"class":375,"line":383},2,[373,385,386],{"class":379},"Content-Type: application/json\n",[373,388,390],{"class":375,"line":389},3,[373,391,393],{"emptyLinePlaceholder":392},true,"\n",[373,395,397],{"class":375,"line":396},4,[373,398,400],{"class":399},"sMK4o","{\n",[373,402,404,407,411,414,416,419,423,425],{"class":375,"line":403},5,[373,405,406],{"class":399},"  \"",[373,408,410],{"class":409},"spNyl","username",[373,412,413],{"class":399},"\"",[373,415,345],{"class":399},[373,417,418],{"class":399}," \"",[373,420,422],{"class":421},"sfazB","admin",[373,424,413],{"class":399},[373,426,427],{"class":399},",\n",[373,429,431,433,436,438,440,442,445],{"class":375,"line":430},6,[373,432,406],{"class":399},[373,434,435],{"class":409},"password",[373,437,413],{"class":399},[373,439,345],{"class":399},[373,441,418],{"class":399},[373,443,444],{"class":421},"admin123",[373,446,447],{"class":399},"\"\n",[373,449,451],{"class":375,"line":450},7,[373,452,453],{"class":399},"}\n",[113,455,456,345],{},[116,457,458],{},"登录响应",[297,460,462],{"className":367,"code":461,"language":369,"meta":305,"style":305},"{\n  \"success\": true,\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"tokenType\": \"Bearer\",\n    \"expiresIn\": 3600\n  }\n}\n",[227,463,464,468,482,496,518,537,557,572,578],{"__ignoreMap":305},[373,465,466],{"class":375,"line":376},[373,467,400],{"class":399},[373,469,470,472,475,477,479],{"class":375,"line":383},[373,471,406],{"class":399},[373,473,474],{"class":409},"success",[373,476,413],{"class":399},[373,478,345],{"class":399},[373,480,481],{"class":399}," true,\n",[373,483,484,486,489,491,493],{"class":375,"line":389},[373,485,406],{"class":399},[373,487,488],{"class":409},"data",[373,490,413],{"class":399},[373,492,345],{"class":399},[373,494,495],{"class":399}," {\n",[373,497,498,501,505,507,509,511,514,516],{"class":375,"line":396},[373,499,500],{"class":399},"    \"",[373,502,504],{"class":503},"sBMFI","accessToken",[373,506,413],{"class":399},[373,508,345],{"class":399},[373,510,418],{"class":399},[373,512,513],{"class":421},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",[373,515,413],{"class":399},[373,517,427],{"class":399},[373,519,520,522,525,527,529,531,533,535],{"class":375,"line":403},[373,521,500],{"class":399},[373,523,524],{"class":503},"refreshToken",[373,526,413],{"class":399},[373,528,345],{"class":399},[373,530,418],{"class":399},[373,532,513],{"class":421},[373,534,413],{"class":399},[373,536,427],{"class":399},[373,538,539,541,544,546,548,550,553,555],{"class":375,"line":430},[373,540,500],{"class":399},[373,542,543],{"class":503},"tokenType",[373,545,413],{"class":399},[373,547,345],{"class":399},[373,549,418],{"class":399},[373,551,552],{"class":421},"Bearer",[373,554,413],{"class":399},[373,556,427],{"class":399},[373,558,559,561,564,566,568],{"class":375,"line":450},[373,560,500],{"class":399},[373,562,563],{"class":503},"expiresIn",[373,565,413],{"class":399},[373,567,345],{"class":399},[373,569,571],{"class":570},"sbssI"," 3600\n",[373,573,575],{"class":375,"line":574},8,[373,576,577],{"class":399},"  }\n",[373,579,581],{"class":375,"line":580},9,[373,582,453],{"class":399},[129,584,586],{"id":585},"_42-令牌验证","4.2 令牌验证",[113,588,589,591],{},[116,590,338],{},": 验证 JWT 令牌的有效性。",[113,593,594,345],{},[116,595,344],{},[134,597,598,601,604,607],{},[137,599,600],{},"签名验证：验证令牌的签名是否有效",[137,602,603],{},"过期验证：检查令牌是否过期",[137,605,606],{},"黑名单验证：检查令牌是否在黑名单中",[137,608,609],{},"权限验证：验证用户是否拥有访问权限",[113,611,612,345],{},[116,613,614],{},"实现代码",[297,616,620],{"className":617,"code":618,"language":619,"meta":305,"style":305},"language-java shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","@Component\npublic class JwtProvider {\n    \n    @Value(\"${jwt.secret}\")\n    private String secret;\n    \n    @Value(\"${jwt.expiration}\")\n    private long expiration;\n    \n    public Claims getClaimsFromToken(String token) {\n        return Jwts.parserBuilder()\n                .setSigningKey(secret.getBytes(StandardCharsets.UTF_8))\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n    \n    public boolean validateToken(String token) {\n        try {\n            getClaimsFromToken(token);\n            return !isTokenExpired(token);\n        } catch (SignatureException | MalformedJwtException | ExpiredJwtException | UnsupportedJwtException | IllegalArgumentException ex) {\n            return false;\n        }\n    }\n    \n    private boolean isTokenExpired(String token) {\n        Claims claims = getClaimsFromToken(token);\n        Date expirationDate = claims.getExpiration();\n        return expirationDate.before(new Date());\n    }\n}\n","java",[227,621,622,630,643,648,669,683,687,704,716,720,747,766,798,808,823,834,840,845,866,874,887,905,948,956,962,967,972,992,1012,1033,1057,1062],{"__ignoreMap":305},[373,623,624,627],{"class":375,"line":376},[373,625,626],{"class":399},"@",[373,628,629],{"class":409},"Component\n",[373,631,632,635,638,641],{"class":375,"line":383},[373,633,634],{"class":409},"public",[373,636,637],{"class":409}," class",[373,639,640],{"class":503}," JwtProvider",[373,642,495],{"class":399},[373,644,645],{"class":375,"line":389},[373,646,647],{"class":379},"    \n",[373,649,650,653,656,659,661,664,666],{"class":375,"line":396},[373,651,652],{"class":399},"    @",[373,654,655],{"class":409},"Value",[373,657,658],{"class":399},"(",[373,660,413],{"class":399},[373,662,663],{"class":421},"${jwt.secret}",[373,665,413],{"class":399},[373,667,668],{"class":399},")\n",[373,670,671,674,677,680],{"class":375,"line":403},[373,672,673],{"class":409},"    private",[373,675,676],{"class":409}," String",[373,678,679],{"class":379}," secret",[373,681,682],{"class":399},";\n",[373,684,685],{"class":375,"line":430},[373,686,647],{"class":379},[373,688,689,691,693,695,697,700,702],{"class":375,"line":450},[373,690,652],{"class":399},[373,692,655],{"class":409},[373,694,658],{"class":399},[373,696,413],{"class":399},[373,698,699],{"class":421},"${jwt.expiration}",[373,701,413],{"class":399},[373,703,668],{"class":399},[373,705,706,708,711,714],{"class":375,"line":574},[373,707,673],{"class":409},[373,709,710],{"class":409}," long",[373,712,713],{"class":379}," expiration",[373,715,682],{"class":399},[373,717,718],{"class":375,"line":580},[373,719,647],{"class":379},[373,721,723,726,729,733,735,738,742,745],{"class":375,"line":722},10,[373,724,725],{"class":409},"    public",[373,727,728],{"class":409}," Claims",[373,730,732],{"class":731},"s2Zo4"," getClaimsFromToken",[373,734,658],{"class":399},[373,736,737],{"class":409},"String",[373,739,741],{"class":740},"sHdIc"," token",[373,743,744],{"class":399},")",[373,746,495],{"class":399},[373,748,750,754,757,760,763],{"class":375,"line":749},11,[373,751,753],{"class":752},"s7zQu","        return",[373,755,756],{"class":379}," Jwts",[373,758,759],{"class":399},".",[373,761,762],{"class":731},"parserBuilder",[373,764,765],{"class":399},"()\n",[373,767,769,772,775,777,780,782,785,787,790,792,795],{"class":375,"line":768},12,[373,770,771],{"class":399},"                .",[373,773,774],{"class":731},"setSigningKey",[373,776,658],{"class":399},[373,778,779],{"class":379},"secret",[373,781,759],{"class":399},[373,783,784],{"class":731},"getBytes",[373,786,658],{"class":399},[373,788,789],{"class":379},"StandardCharsets",[373,791,759],{"class":399},[373,793,794],{"class":379},"UTF_8",[373,796,797],{"class":399},"))\n",[373,799,801,803,806],{"class":375,"line":800},13,[373,802,771],{"class":399},[373,804,805],{"class":731},"build",[373,807,765],{"class":399},[373,809,811,813,816,818,821],{"class":375,"line":810},14,[373,812,771],{"class":399},[373,814,815],{"class":731},"parseClaimsJws",[373,817,658],{"class":399},[373,819,820],{"class":379},"token",[373,822,668],{"class":399},[373,824,826,828,831],{"class":375,"line":825},15,[373,827,771],{"class":399},[373,829,830],{"class":731},"getBody",[373,832,833],{"class":399},"();\n",[373,835,837],{"class":375,"line":836},16,[373,838,839],{"class":399},"    }\n",[373,841,843],{"class":375,"line":842},17,[373,844,647],{"class":379},[373,846,848,850,853,856,858,860,862,864],{"class":375,"line":847},18,[373,849,725],{"class":409},[373,851,852],{"class":409}," boolean",[373,854,855],{"class":731}," validateToken",[373,857,658],{"class":399},[373,859,737],{"class":409},[373,861,741],{"class":740},[373,863,744],{"class":399},[373,865,495],{"class":399},[373,867,869,872],{"class":375,"line":868},19,[373,870,871],{"class":752},"        try",[373,873,495],{"class":399},[373,875,877,880,882,884],{"class":375,"line":876},20,[373,878,879],{"class":731},"            getClaimsFromToken",[373,881,658],{"class":399},[373,883,820],{"class":379},[373,885,886],{"class":399},");\n",[373,888,890,893,896,899,901,903],{"class":375,"line":889},21,[373,891,892],{"class":752},"            return",[373,894,895],{"class":399}," !",[373,897,898],{"class":731},"isTokenExpired",[373,900,658],{"class":399},[373,902,820],{"class":379},[373,904,886],{"class":399},[373,906,908,911,914,917,920,923,926,928,931,933,936,938,941,944,946],{"class":375,"line":907},22,[373,909,910],{"class":399},"        }",[373,912,913],{"class":752}," catch",[373,915,916],{"class":399}," (",[373,918,919],{"class":409},"SignatureException",[373,921,922],{"class":399}," |",[373,924,925],{"class":409}," MalformedJwtException",[373,927,922],{"class":399},[373,929,930],{"class":409}," ExpiredJwtException",[373,932,922],{"class":399},[373,934,935],{"class":409}," UnsupportedJwtException",[373,937,922],{"class":399},[373,939,940],{"class":409}," IllegalArgumentException",[373,942,943],{"class":740}," ex",[373,945,744],{"class":399},[373,947,495],{"class":399},[373,949,951,953],{"class":375,"line":950},23,[373,952,892],{"class":752},[373,954,955],{"class":399}," false;\n",[373,957,959],{"class":375,"line":958},24,[373,960,961],{"class":399},"        }\n",[373,963,965],{"class":375,"line":964},25,[373,966,839],{"class":399},[373,968,970],{"class":375,"line":969},26,[373,971,647],{"class":379},[373,973,975,977,979,982,984,986,988,990],{"class":375,"line":974},27,[373,976,673],{"class":409},[373,978,852],{"class":409},[373,980,981],{"class":731}," isTokenExpired",[373,983,658],{"class":399},[373,985,737],{"class":409},[373,987,741],{"class":740},[373,989,744],{"class":399},[373,991,495],{"class":399},[373,993,995,998,1001,1004,1006,1008,1010],{"class":375,"line":994},28,[373,996,997],{"class":409},"        Claims",[373,999,1000],{"class":379}," claims ",[373,1002,1003],{"class":399},"=",[373,1005,732],{"class":731},[373,1007,658],{"class":399},[373,1009,820],{"class":379},[373,1011,886],{"class":399},[373,1013,1015,1018,1021,1023,1026,1028,1031],{"class":375,"line":1014},29,[373,1016,1017],{"class":409},"        Date",[373,1019,1020],{"class":379}," expirationDate ",[373,1022,1003],{"class":399},[373,1024,1025],{"class":379}," claims",[373,1027,759],{"class":399},[373,1029,1030],{"class":731},"getExpiration",[373,1032,833],{"class":399},[373,1034,1036,1038,1041,1043,1046,1048,1051,1054],{"class":375,"line":1035},30,[373,1037,753],{"class":752},[373,1039,1040],{"class":379}," expirationDate",[373,1042,759],{"class":399},[373,1044,1045],{"class":731},"before",[373,1047,658],{"class":399},[373,1049,1050],{"class":752},"new",[373,1052,1053],{"class":731}," Date",[373,1055,1056],{"class":399},"());\n",[373,1058,1060],{"class":375,"line":1059},31,[373,1061,839],{"class":399},[373,1063,1065],{"class":375,"line":1064},32,[373,1066,453],{"class":399},[129,1068,1070],{"id":1069},"_43-令牌刷新","4.3 令牌刷新",[113,1072,1073,1075],{},[116,1074,338],{},": 使用刷新令牌生成新的访问令牌。",[113,1077,1078,345],{},[116,1079,344],{},[134,1081,1082,1085,1088,1091],{},[137,1083,1084],{},"刷新令牌验证：验证刷新令牌的有效性",[137,1086,1087],{},"生成新令牌：生成新的访问令牌",[137,1089,1090],{},"更新令牌信息：更新 Redis 中的令牌信息",[137,1092,1093],{},"过期旧令牌：将旧令牌加入黑名单",[113,1095,1096,345],{},[116,1097,1098],{},"刷新请求",[297,1100,1102],{"className":367,"code":1101,"language":369,"meta":305,"style":305},"POST /auth/refresh\nContent-Type: application/json\n\n{\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n",[227,1103,1104,1109,1113,1117,1121,1137],{"__ignoreMap":305},[373,1105,1106],{"class":375,"line":376},[373,1107,1108],{"class":379},"POST /auth/refresh\n",[373,1110,1111],{"class":375,"line":383},[373,1112,386],{"class":379},[373,1114,1115],{"class":375,"line":389},[373,1116,393],{"emptyLinePlaceholder":392},[373,1118,1119],{"class":375,"line":396},[373,1120,400],{"class":399},[373,1122,1123,1125,1127,1129,1131,1133,1135],{"class":375,"line":403},[373,1124,406],{"class":399},[373,1126,524],{"class":409},[373,1128,413],{"class":399},[373,1130,345],{"class":399},[373,1132,418],{"class":399},[373,1134,513],{"class":421},[373,1136,447],{"class":399},[373,1138,1139],{"class":375,"line":430},[373,1140,453],{"class":399},[129,1142,1144],{"id":1143},"_44-用户登出","4.4 用户登出",[113,1146,1147,1149],{},[116,1148,338],{},": 退出登录并使令牌失效。",[113,1151,1152,345],{},[116,1153,344],{},[134,1155,1156,1159,1162],{},[137,1157,1158],{},"令牌黑名单：将令牌加入黑名单",[137,1160,1161],{},"清除缓存：清除用户相关缓存",[137,1163,1164],{},"会话失效：使当前会话失效",[113,1166,1167,345],{},[116,1168,1169],{},"登出请求",[297,1171,1173],{"className":367,"code":1172,"language":369,"meta":305,"style":305},"POST /auth/logout\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n",[227,1174,1175,1180],{"__ignoreMap":305},[373,1176,1177],{"class":375,"line":376},[373,1178,1179],{"class":379},"POST /auth/logout\n",[373,1181,1182,1185,1188,1191,1194,1197,1200,1203,1206],{"class":375,"line":383},[373,1183,1184],{"class":379},"Authorization: Bearer eyJhbGciOiJIUzI",[373,1186,1187],{"class":570},"1",[373,1189,1190],{"class":379},"NiIsInR",[373,1192,1193],{"class":570},"5",[373,1195,1196],{"class":379},"cCI",[373,1198,1199],{"class":570},"6",[373,1201,1202],{"class":379},"IkpXVCJ",[373,1204,1205],{"class":570},"9",[373,1207,1208],{"class":379},"...\n",[121,1210,1212],{"id":1211},"_5-核心代码结构","5. 核心代码结构",[129,1214,1216],{"id":1215},"_51-后端代码结构","5.1 后端代码结构",[297,1218,1221],{"className":1219,"code":1220,"language":302},[300],"tagtag-module-auth\n└── src\n    └── main\n        ├── java\n        │   └── dev\n        │       └── tagtag\n        │           └── module\n        │               └── auth\n        │                   ├── controller\n        │                   │   └── AuthController.java\n        │                   ├── entity\n        │                   │   └── AuthUser.java\n        │                   ├── service\n        │                   │   ├── AuthService.java\n        │                   │   └── impl\n        │                   │       └── AuthServiceImpl.java\n        │                   ├── util\n        │                   │   ├── JwtUtil.java\n        │                   │   └── PasswordUtil.java\n        │                   └── vo\n        │                       ├── LoginRequest.java\n        │                       ├── LoginResponse.java\n        │                       └── RefreshTokenRequest.java\n        └── resources\n            └── db\n                ├── schema.sql\n                └── data\n                    └── init.sql\n",[227,1222,1220],{"__ignoreMap":305},[129,1224,1226],{"id":1225},"_52-前端代码结构","5.2 前端代码结构",[297,1228,1231],{"className":1229,"code":1230,"language":302},[300],"frontend/apps/tagtag/src/api/core\n├── auth.ts       # 认证相关 API\n├── captcha.ts    # 验证码相关 API\n└── index.ts      # API 入口\n",[227,1232,1230],{"__ignoreMap":305},[121,1234,1236],{"id":1235},"_6-前端实现","6. 前端实现",[129,1238,1240],{"id":1239},"_61-登录页面","6.1 登录页面",[113,1242,1243,1245],{},[116,1244,338],{},": 提供用户登录界面，支持用户名密码登录和验证码登录。",[113,1247,1248,345],{},[116,1249,344],{},[134,1251,1252,1255,1258,1261],{},[137,1253,1254],{},"表单验证：验证用户名和密码格式",[137,1256,1257],{},"验证码支持：防止暴力破解",[137,1259,1260],{},"记住密码：可选功能，使用 localStorage 存储",[137,1262,1263],{},"登录状态管理：使用 Pinia 管理登录状态",[113,1265,1266,345],{},[116,1267,1268],{},"代码示例",[297,1270,1274],{"className":1271,"code":1272,"language":1273,"meta":305,"style":305},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup lang=\"ts\">\nimport { ref, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useAuthStore } from '@/store/auth';\nimport { loginApi } from '@/api/core/auth';\n\nconst router = useRouter();\nconst authStore = useAuthStore();\n\nconst formData = reactive({\n  username: '',\n  password: '',\n  captcha: '',\n  rememberMe: false\n});\n\nconst loading = ref(false);\n\nasync function handleLogin() {\n  try {\n    loading.value = true;\n    const result = await loginApi(formData);\n    authStore.setToken(result.accessToken);\n    router.push('/');\n  } catch (error) {\n    console.error('登录失败:', error);\n  } finally {\n    loading.value = false;\n  }\n}\n\u003C/script>\n\n\u003Ctemplate>\n  \u003Cdiv class=\"login-container\">\n    \u003Cdiv class=\"login-form\">\n      \u003Ch2>Tagtag Starter 登录\u003C/h2>\n      \u003CForm :model=\"formData\" @submit.prevent=\"handleLogin\">\n        \u003CFormItem label=\"用户名\" required>\n          \u003CInput v-model:value=\"formData.username\" placeholder=\"请输入用户名\" />\n        \u003C/FormItem>\n        \u003CFormItem label=\"密码\" required>\n          \u003CInput.Password v-model:value=\"formData.password\" placeholder=\"请输入密码\" />\n        \u003C/FormItem>\n        \u003CFormItem label=\"验证码\" required>\n          \u003CInput v-model:value=\"formData.captcha\" placeholder=\"请输入验证码\" />\n          \u003Cimg class=\"captcha-img\" src=\"/api/captcha\" @click=\"refreshCaptcha\" />\n        \u003C/FormItem>\n        \u003CFormItem>\n          \u003CCheckbox v-model:checked=\"formData.rememberMe\">记住密码\u003C/Checkbox>\n        \u003C/FormItem>\n        \u003CFormItem>\n          \u003CButton type=\"primary\" html-type=\"submit\" :loading=\"loading\" block>\n            登录\n          \u003C/Button>\n        \u003C/FormItem>\n      \u003C/Form>\n    \u003C/div>\n  \u003C/div>\n\u003C/template>\n","vue",[227,1275,1276,1303,1336,1358,1380,1402,1406,1423,1438,1442,1457,1469,1480,1491,1502,1511,1515,1535,1539,1554,1561,1579,1603,1626,1649,1666,1693,1702,1717,1721,1725,1734,1738,1748,1770,1791,1811,1855,1881,1924,1934,1956,1995,2004,2026,2065,2112,2121,2130,2169,2178,2187,2236,2242,2252,2261,2271,2281,2291],{"__ignoreMap":305},[373,1277,1278,1281,1285,1288,1291,1293,1295,1298,1300],{"class":375,"line":376},[373,1279,1280],{"class":399},"\u003C",[373,1282,1284],{"class":1283},"swJcz","script",[373,1286,1287],{"class":409}," setup",[373,1289,1290],{"class":409}," lang",[373,1292,1003],{"class":399},[373,1294,413],{"class":399},[373,1296,1297],{"class":421},"ts",[373,1299,413],{"class":399},[373,1301,1302],{"class":399},">\n",[373,1304,1305,1308,1311,1314,1317,1320,1323,1326,1329,1331,1334],{"class":375,"line":383},[373,1306,1307],{"class":752},"import",[373,1309,1310],{"class":399}," {",[373,1312,1313],{"class":379}," ref",[373,1315,1316],{"class":399},",",[373,1318,1319],{"class":379}," reactive",[373,1321,1322],{"class":399}," }",[373,1324,1325],{"class":752}," from",[373,1327,1328],{"class":399}," '",[373,1330,1273],{"class":421},[373,1332,1333],{"class":399},"'",[373,1335,682],{"class":399},[373,1337,1338,1340,1342,1345,1347,1349,1351,1354,1356],{"class":375,"line":389},[373,1339,1307],{"class":752},[373,1341,1310],{"class":399},[373,1343,1344],{"class":379}," useRouter",[373,1346,1322],{"class":399},[373,1348,1325],{"class":752},[373,1350,1328],{"class":399},[373,1352,1353],{"class":421},"vue-router",[373,1355,1333],{"class":399},[373,1357,682],{"class":399},[373,1359,1360,1362,1364,1367,1369,1371,1373,1376,1378],{"class":375,"line":396},[373,1361,1307],{"class":752},[373,1363,1310],{"class":399},[373,1365,1366],{"class":379}," useAuthStore",[373,1368,1322],{"class":399},[373,1370,1325],{"class":752},[373,1372,1328],{"class":399},[373,1374,1375],{"class":421},"@/store/auth",[373,1377,1333],{"class":399},[373,1379,682],{"class":399},[373,1381,1382,1384,1386,1389,1391,1393,1395,1398,1400],{"class":375,"line":403},[373,1383,1307],{"class":752},[373,1385,1310],{"class":399},[373,1387,1388],{"class":379}," loginApi",[373,1390,1322],{"class":399},[373,1392,1325],{"class":752},[373,1394,1328],{"class":399},[373,1396,1397],{"class":421},"@/api/core/auth",[373,1399,1333],{"class":399},[373,1401,682],{"class":399},[373,1403,1404],{"class":375,"line":430},[373,1405,393],{"emptyLinePlaceholder":392},[373,1407,1408,1411,1414,1416,1418,1421],{"class":375,"line":450},[373,1409,1410],{"class":409},"const",[373,1412,1413],{"class":379}," router ",[373,1415,1003],{"class":399},[373,1417,1344],{"class":731},[373,1419,1420],{"class":379},"()",[373,1422,682],{"class":399},[373,1424,1425,1427,1430,1432,1434,1436],{"class":375,"line":574},[373,1426,1410],{"class":409},[373,1428,1429],{"class":379}," authStore ",[373,1431,1003],{"class":399},[373,1433,1366],{"class":731},[373,1435,1420],{"class":379},[373,1437,682],{"class":399},[373,1439,1440],{"class":375,"line":580},[373,1441,393],{"emptyLinePlaceholder":392},[373,1443,1444,1446,1449,1451,1453,1455],{"class":375,"line":722},[373,1445,1410],{"class":409},[373,1447,1448],{"class":379}," formData ",[373,1450,1003],{"class":399},[373,1452,1319],{"class":731},[373,1454,658],{"class":379},[373,1456,400],{"class":399},[373,1458,1459,1462,1464,1467],{"class":375,"line":749},[373,1460,1461],{"class":1283},"  username",[373,1463,345],{"class":399},[373,1465,1466],{"class":399}," ''",[373,1468,427],{"class":399},[373,1470,1471,1474,1476,1478],{"class":375,"line":768},[373,1472,1473],{"class":1283},"  password",[373,1475,345],{"class":399},[373,1477,1466],{"class":399},[373,1479,427],{"class":399},[373,1481,1482,1485,1487,1489],{"class":375,"line":800},[373,1483,1484],{"class":1283},"  captcha",[373,1486,345],{"class":399},[373,1488,1466],{"class":399},[373,1490,427],{"class":399},[373,1492,1493,1496,1498],{"class":375,"line":810},[373,1494,1495],{"class":1283},"  rememberMe",[373,1497,345],{"class":399},[373,1499,1501],{"class":1500},"sfNiH"," false\n",[373,1503,1504,1507,1509],{"class":375,"line":825},[373,1505,1506],{"class":399},"}",[373,1508,744],{"class":379},[373,1510,682],{"class":399},[373,1512,1513],{"class":375,"line":836},[373,1514,393],{"emptyLinePlaceholder":392},[373,1516,1517,1519,1522,1524,1526,1528,1531,1533],{"class":375,"line":842},[373,1518,1410],{"class":409},[373,1520,1521],{"class":379}," loading ",[373,1523,1003],{"class":399},[373,1525,1313],{"class":731},[373,1527,658],{"class":379},[373,1529,1530],{"class":1500},"false",[373,1532,744],{"class":379},[373,1534,682],{"class":399},[373,1536,1537],{"class":375,"line":847},[373,1538,393],{"emptyLinePlaceholder":392},[373,1540,1541,1544,1547,1550,1552],{"class":375,"line":868},[373,1542,1543],{"class":409},"async",[373,1545,1546],{"class":409}," function",[373,1548,1549],{"class":731}," handleLogin",[373,1551,1420],{"class":399},[373,1553,495],{"class":399},[373,1555,1556,1559],{"class":375,"line":876},[373,1557,1558],{"class":752},"  try",[373,1560,495],{"class":399},[373,1562,1563,1566,1568,1571,1574,1577],{"class":375,"line":889},[373,1564,1565],{"class":379},"    loading",[373,1567,759],{"class":399},[373,1569,1570],{"class":379},"value",[373,1572,1573],{"class":399}," =",[373,1575,1576],{"class":1500}," true",[373,1578,682],{"class":399},[373,1580,1581,1584,1587,1589,1592,1594,1596,1599,1601],{"class":375,"line":907},[373,1582,1583],{"class":409},"    const",[373,1585,1586],{"class":379}," result",[373,1588,1573],{"class":399},[373,1590,1591],{"class":752}," await",[373,1593,1388],{"class":731},[373,1595,658],{"class":1283},[373,1597,1598],{"class":379},"formData",[373,1600,744],{"class":1283},[373,1602,682],{"class":399},[373,1604,1605,1608,1610,1613,1615,1618,1620,1622,1624],{"class":375,"line":950},[373,1606,1607],{"class":379},"    authStore",[373,1609,759],{"class":399},[373,1611,1612],{"class":731},"setToken",[373,1614,658],{"class":1283},[373,1616,1617],{"class":379},"result",[373,1619,759],{"class":399},[373,1621,504],{"class":379},[373,1623,744],{"class":1283},[373,1625,682],{"class":399},[373,1627,1628,1631,1633,1636,1638,1640,1643,1645,1647],{"class":375,"line":958},[373,1629,1630],{"class":379},"    router",[373,1632,759],{"class":399},[373,1634,1635],{"class":731},"push",[373,1637,658],{"class":1283},[373,1639,1333],{"class":399},[373,1641,1642],{"class":421},"/",[373,1644,1333],{"class":399},[373,1646,744],{"class":1283},[373,1648,682],{"class":399},[373,1650,1651,1654,1656,1658,1661,1664],{"class":375,"line":964},[373,1652,1653],{"class":399},"  }",[373,1655,913],{"class":752},[373,1657,916],{"class":1283},[373,1659,1660],{"class":379},"error",[373,1662,1663],{"class":1283},") ",[373,1665,400],{"class":399},[373,1667,1668,1671,1673,1675,1677,1679,1682,1684,1686,1689,1691],{"class":375,"line":969},[373,1669,1670],{"class":379},"    console",[373,1672,759],{"class":399},[373,1674,1660],{"class":731},[373,1676,658],{"class":1283},[373,1678,1333],{"class":399},[373,1680,1681],{"class":421},"登录失败:",[373,1683,1333],{"class":399},[373,1685,1316],{"class":399},[373,1687,1688],{"class":379}," error",[373,1690,744],{"class":1283},[373,1692,682],{"class":399},[373,1694,1695,1697,1700],{"class":375,"line":974},[373,1696,1653],{"class":399},[373,1698,1699],{"class":752}," finally",[373,1701,495],{"class":399},[373,1703,1704,1706,1708,1710,1712,1715],{"class":375,"line":994},[373,1705,1565],{"class":379},[373,1707,759],{"class":399},[373,1709,1570],{"class":379},[373,1711,1573],{"class":399},[373,1713,1714],{"class":1500}," false",[373,1716,682],{"class":399},[373,1718,1719],{"class":375,"line":1014},[373,1720,577],{"class":399},[373,1722,1723],{"class":375,"line":1035},[373,1724,453],{"class":399},[373,1726,1727,1730,1732],{"class":375,"line":1059},[373,1728,1729],{"class":399},"\u003C/",[373,1731,1284],{"class":1283},[373,1733,1302],{"class":399},[373,1735,1736],{"class":375,"line":1064},[373,1737,393],{"emptyLinePlaceholder":392},[373,1739,1741,1743,1746],{"class":375,"line":1740},33,[373,1742,1280],{"class":399},[373,1744,1745],{"class":1283},"template",[373,1747,1302],{"class":399},[373,1749,1751,1754,1757,1759,1761,1763,1766,1768],{"class":375,"line":1750},34,[373,1752,1753],{"class":399},"  \u003C",[373,1755,1756],{"class":1283},"div",[373,1758,637],{"class":409},[373,1760,1003],{"class":399},[373,1762,413],{"class":399},[373,1764,1765],{"class":421},"login-container",[373,1767,413],{"class":399},[373,1769,1302],{"class":399},[373,1771,1773,1776,1778,1780,1782,1784,1787,1789],{"class":375,"line":1772},35,[373,1774,1775],{"class":399},"    \u003C",[373,1777,1756],{"class":1283},[373,1779,637],{"class":409},[373,1781,1003],{"class":399},[373,1783,413],{"class":399},[373,1785,1786],{"class":421},"login-form",[373,1788,413],{"class":399},[373,1790,1302],{"class":399},[373,1792,1794,1797,1799,1802,1805,1807,1809],{"class":375,"line":1793},36,[373,1795,1796],{"class":399},"      \u003C",[373,1798,121],{"class":1283},[373,1800,1801],{"class":399},">",[373,1803,1804],{"class":379},"Tagtag Starter 登录",[373,1806,1729],{"class":399},[373,1808,121],{"class":1283},[373,1810,1302],{"class":399},[373,1812,1814,1816,1819,1822,1825,1827,1829,1831,1833,1836,1839,1841,1844,1846,1848,1851,1853],{"class":375,"line":1813},37,[373,1815,1796],{"class":399},[373,1817,1818],{"class":1283},"Form",[373,1820,1821],{"class":399}," :",[373,1823,1824],{"class":409},"model",[373,1826,1003],{"class":399},[373,1828,413],{"class":399},[373,1830,1598],{"class":379},[373,1832,413],{"class":399},[373,1834,1835],{"class":399}," @",[373,1837,1838],{"class":409},"submit",[373,1840,759],{"class":399},[373,1842,1843],{"class":409},"prevent",[373,1845,1003],{"class":399},[373,1847,413],{"class":399},[373,1849,1850],{"class":379},"handleLogin",[373,1852,413],{"class":399},[373,1854,1302],{"class":399},[373,1856,1858,1861,1864,1867,1869,1871,1874,1876,1879],{"class":375,"line":1857},38,[373,1859,1860],{"class":399},"        \u003C",[373,1862,1863],{"class":1283},"FormItem",[373,1865,1866],{"class":409}," label",[373,1868,1003],{"class":399},[373,1870,413],{"class":399},[373,1872,1873],{"class":421},"用户名",[373,1875,413],{"class":399},[373,1877,1878],{"class":409}," required",[373,1880,1302],{"class":399},[373,1882,1884,1887,1890,1893,1895,1897,1899,1901,1903,1905,1907,1909,1912,1914,1916,1919,1921],{"class":375,"line":1883},39,[373,1885,1886],{"class":399},"          \u003C",[373,1888,1889],{"class":1283},"Input",[373,1891,1892],{"class":409}," v-model",[373,1894,345],{"class":399},[373,1896,1570],{"class":409},[373,1898,1003],{"class":399},[373,1900,413],{"class":399},[373,1902,1598],{"class":379},[373,1904,759],{"class":399},[373,1906,410],{"class":379},[373,1908,413],{"class":399},[373,1910,1911],{"class":409}," placeholder",[373,1913,1003],{"class":399},[373,1915,413],{"class":399},[373,1917,1918],{"class":421},"请输入用户名",[373,1920,413],{"class":399},[373,1922,1923],{"class":399}," />\n",[373,1925,1927,1930,1932],{"class":375,"line":1926},40,[373,1928,1929],{"class":399},"        \u003C/",[373,1931,1863],{"class":1283},[373,1933,1302],{"class":399},[373,1935,1937,1939,1941,1943,1945,1947,1950,1952,1954],{"class":375,"line":1936},41,[373,1938,1860],{"class":399},[373,1940,1863],{"class":1283},[373,1942,1866],{"class":409},[373,1944,1003],{"class":399},[373,1946,413],{"class":399},[373,1948,1949],{"class":421},"密码",[373,1951,413],{"class":399},[373,1953,1878],{"class":409},[373,1955,1302],{"class":399},[373,1957,1959,1961,1964,1966,1968,1970,1972,1974,1976,1978,1980,1982,1984,1986,1988,1991,1993],{"class":375,"line":1958},42,[373,1960,1886],{"class":399},[373,1962,1963],{"class":1283},"Input.Password",[373,1965,1892],{"class":409},[373,1967,345],{"class":399},[373,1969,1570],{"class":409},[373,1971,1003],{"class":399},[373,1973,413],{"class":399},[373,1975,1598],{"class":379},[373,1977,759],{"class":399},[373,1979,435],{"class":379},[373,1981,413],{"class":399},[373,1983,1911],{"class":409},[373,1985,1003],{"class":399},[373,1987,413],{"class":399},[373,1989,1990],{"class":421},"请输入密码",[373,1992,413],{"class":399},[373,1994,1923],{"class":399},[373,1996,1998,2000,2002],{"class":375,"line":1997},43,[373,1999,1929],{"class":399},[373,2001,1863],{"class":1283},[373,2003,1302],{"class":399},[373,2005,2007,2009,2011,2013,2015,2017,2020,2022,2024],{"class":375,"line":2006},44,[373,2008,1860],{"class":399},[373,2010,1863],{"class":1283},[373,2012,1866],{"class":409},[373,2014,1003],{"class":399},[373,2016,413],{"class":399},[373,2018,2019],{"class":421},"验证码",[373,2021,413],{"class":399},[373,2023,1878],{"class":409},[373,2025,1302],{"class":399},[373,2027,2029,2031,2033,2035,2037,2039,2041,2043,2045,2047,2050,2052,2054,2056,2058,2061,2063],{"class":375,"line":2028},45,[373,2030,1886],{"class":399},[373,2032,1889],{"class":1283},[373,2034,1892],{"class":409},[373,2036,345],{"class":399},[373,2038,1570],{"class":409},[373,2040,1003],{"class":399},[373,2042,413],{"class":399},[373,2044,1598],{"class":379},[373,2046,759],{"class":399},[373,2048,2049],{"class":379},"captcha",[373,2051,413],{"class":399},[373,2053,1911],{"class":409},[373,2055,1003],{"class":399},[373,2057,413],{"class":399},[373,2059,2060],{"class":421},"请输入验证码",[373,2062,413],{"class":399},[373,2064,1923],{"class":399},[373,2066,2068,2070,2073,2075,2077,2079,2082,2084,2087,2089,2091,2094,2096,2098,2101,2103,2105,2108,2110],{"class":375,"line":2067},46,[373,2069,1886],{"class":399},[373,2071,2072],{"class":1283},"img",[373,2074,637],{"class":409},[373,2076,1003],{"class":399},[373,2078,413],{"class":399},[373,2080,2081],{"class":421},"captcha-img",[373,2083,413],{"class":399},[373,2085,2086],{"class":409}," src",[373,2088,1003],{"class":399},[373,2090,413],{"class":399},[373,2092,2093],{"class":421},"/api/captcha",[373,2095,413],{"class":399},[373,2097,1835],{"class":399},[373,2099,2100],{"class":409},"click",[373,2102,1003],{"class":399},[373,2104,413],{"class":399},[373,2106,2107],{"class":379},"refreshCaptcha",[373,2109,413],{"class":399},[373,2111,1923],{"class":399},[373,2113,2115,2117,2119],{"class":375,"line":2114},47,[373,2116,1929],{"class":399},[373,2118,1863],{"class":1283},[373,2120,1302],{"class":399},[373,2122,2124,2126,2128],{"class":375,"line":2123},48,[373,2125,1860],{"class":399},[373,2127,1863],{"class":1283},[373,2129,1302],{"class":399},[373,2131,2133,2135,2138,2140,2142,2145,2147,2149,2151,2153,2156,2158,2160,2163,2165,2167],{"class":375,"line":2132},49,[373,2134,1886],{"class":399},[373,2136,2137],{"class":1283},"Checkbox",[373,2139,1892],{"class":409},[373,2141,345],{"class":399},[373,2143,2144],{"class":409},"checked",[373,2146,1003],{"class":399},[373,2148,413],{"class":399},[373,2150,1598],{"class":379},[373,2152,759],{"class":399},[373,2154,2155],{"class":379},"rememberMe",[373,2157,413],{"class":399},[373,2159,1801],{"class":399},[373,2161,2162],{"class":379},"记住密码",[373,2164,1729],{"class":399},[373,2166,2137],{"class":1283},[373,2168,1302],{"class":399},[373,2170,2172,2174,2176],{"class":375,"line":2171},50,[373,2173,1929],{"class":399},[373,2175,1863],{"class":1283},[373,2177,1302],{"class":399},[373,2179,2181,2183,2185],{"class":375,"line":2180},51,[373,2182,1860],{"class":399},[373,2184,1863],{"class":1283},[373,2186,1302],{"class":399},[373,2188,2190,2192,2195,2198,2200,2202,2205,2207,2210,2212,2214,2216,2218,2220,2223,2225,2227,2229,2231,2234],{"class":375,"line":2189},52,[373,2191,1886],{"class":399},[373,2193,2194],{"class":1283},"Button",[373,2196,2197],{"class":409}," type",[373,2199,1003],{"class":399},[373,2201,413],{"class":399},[373,2203,2204],{"class":421},"primary",[373,2206,413],{"class":399},[373,2208,2209],{"class":409}," html-type",[373,2211,1003],{"class":399},[373,2213,413],{"class":399},[373,2215,1838],{"class":421},[373,2217,413],{"class":399},[373,2219,1821],{"class":399},[373,2221,2222],{"class":409},"loading",[373,2224,1003],{"class":399},[373,2226,413],{"class":399},[373,2228,2222],{"class":379},[373,2230,413],{"class":399},[373,2232,2233],{"class":409}," block",[373,2235,1302],{"class":399},[373,2237,2239],{"class":375,"line":2238},53,[373,2240,2241],{"class":379},"            登录\n",[373,2243,2245,2248,2250],{"class":375,"line":2244},54,[373,2246,2247],{"class":399},"          \u003C/",[373,2249,2194],{"class":1283},[373,2251,1302],{"class":399},[373,2253,2255,2257,2259],{"class":375,"line":2254},55,[373,2256,1929],{"class":399},[373,2258,1863],{"class":1283},[373,2260,1302],{"class":399},[373,2262,2264,2267,2269],{"class":375,"line":2263},56,[373,2265,2266],{"class":399},"      \u003C/",[373,2268,1818],{"class":1283},[373,2270,1302],{"class":399},[373,2272,2274,2277,2279],{"class":375,"line":2273},57,[373,2275,2276],{"class":399},"    \u003C/",[373,2278,1756],{"class":1283},[373,2280,1302],{"class":399},[373,2282,2284,2287,2289],{"class":375,"line":2283},58,[373,2285,2286],{"class":399},"  \u003C/",[373,2288,1756],{"class":1283},[373,2290,1302],{"class":399},[373,2292,2294,2296,2298],{"class":375,"line":2293},59,[373,2295,1729],{"class":399},[373,2297,1745],{"class":1283},[373,2299,1302],{"class":399},[129,2301,2303],{"id":2302},"_62-认证状态管理","6.2 认证状态管理",[113,2305,2306,2308],{},[116,2307,338],{},": 管理用户登录状态，包括令牌存储、用户信息存储和权限管理。",[113,2310,2311,345],{},[116,2312,344],{},[134,2314,2315,2318,2321,2324],{},[137,2316,2317],{},"令牌存储：使用 localStorage 或 cookie 存储令牌",[137,2319,2320],{},"用户信息缓存：缓存用户信息，减少请求次数",[137,2322,2323],{},"权限管理：根据用户权限控制菜单和按钮显示",[137,2325,2326],{},"自动刷新令牌：在令牌过期前自动刷新",[113,2328,2329,345],{},[116,2330,1268],{},[297,2332,2336],{"className":2333,"code":2334,"language":2335,"meta":305,"style":305},"language-typescript shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","import { defineStore } from 'pinia';\nimport { loginApi, logoutApi, refreshTokenApi } from '@/api/core/auth';\n\nexport const useAuthStore = defineStore('auth', {\n  state: () => ({\n    token: localStorage.getItem('token') || '',\n    refreshToken: localStorage.getItem('refreshToken') || '',\n    userInfo: JSON.parse(localStorage.getItem('userInfo') || 'null'),\n    permissions: JSON.parse(localStorage.getItem('permissions') || '[]'),\n    roles: JSON.parse(localStorage.getItem('roles') || '[]')\n  }),\n  actions: {\n    setToken(token: string) {\n      this.token = token;\n      localStorage.setItem('token', token);\n    },\n    setRefreshToken(refreshToken: string) {\n      this.refreshToken = refreshToken;\n      localStorage.setItem('refreshToken', refreshToken);\n    },\n    setUserInfo(userInfo: any) {\n      this.userInfo = userInfo;\n      this.permissions = userInfo.permissions || [];\n      this.roles = userInfo.roles || [];\n      localStorage.setItem('userInfo', JSON.stringify(userInfo));\n      localStorage.setItem('permissions', JSON.stringify(this.permissions));\n      localStorage.setItem('roles', JSON.stringify(this.roles));\n    },\n    async login(loginData: any) {\n      const result = await loginApi(loginData);\n      this.setToken(result.accessToken);\n      this.setRefreshToken(result.refreshToken);\n      return result;\n    },\n    async logout() {\n      await logoutApi();\n      this.clearAuth();\n    },\n    async refreshToken() {\n      const result = await refreshTokenApi({ refreshToken: this.refreshToken });\n      this.setToken(result.accessToken);\n      this.setRefreshToken(result.refreshToken);\n      return result;\n    },\n    clearAuth() {\n      this.token = '';\n      this.refreshToken = '';\n      this.userInfo = null;\n      this.permissions = [];\n      this.roles = [];\n      localStorage.removeItem('token');\n      localStorage.removeItem('refreshToken');\n      localStorage.removeItem('userInfo');\n      localStorage.removeItem('permissions');\n      localStorage.removeItem('roles');\n    }\n  }\n});\n","typescript",[227,2337,2338,2360,2390,2394,2422,2439,2471,2500,2546,2589,2629,2637,2646,2664,2677,2703,2708,2725,2738,2762,2766,2784,2797,2819,2839,2873,2908,2942,2946,2967,2988,3006,3025,3034,3038,3049,3060,3071,3075,3085,3117,3135,3153,3161,3165,3174,3186,3198,3209,3221,3233,3254,3274,3294,3314,3334,3338,3342],{"__ignoreMap":305},[373,2339,2340,2342,2344,2347,2349,2351,2353,2356,2358],{"class":375,"line":376},[373,2341,1307],{"class":752},[373,2343,1310],{"class":399},[373,2345,2346],{"class":379}," defineStore",[373,2348,1322],{"class":399},[373,2350,1325],{"class":752},[373,2352,1328],{"class":399},[373,2354,2355],{"class":421},"pinia",[373,2357,1333],{"class":399},[373,2359,682],{"class":399},[373,2361,2362,2364,2366,2368,2370,2373,2375,2378,2380,2382,2384,2386,2388],{"class":375,"line":383},[373,2363,1307],{"class":752},[373,2365,1310],{"class":399},[373,2367,1388],{"class":379},[373,2369,1316],{"class":399},[373,2371,2372],{"class":379}," logoutApi",[373,2374,1316],{"class":399},[373,2376,2377],{"class":379}," refreshTokenApi",[373,2379,1322],{"class":399},[373,2381,1325],{"class":752},[373,2383,1328],{"class":399},[373,2385,1397],{"class":421},[373,2387,1333],{"class":399},[373,2389,682],{"class":399},[373,2391,2392],{"class":375,"line":389},[373,2393,393],{"emptyLinePlaceholder":392},[373,2395,2396,2399,2402,2405,2407,2409,2411,2413,2416,2418,2420],{"class":375,"line":396},[373,2397,2398],{"class":752},"export",[373,2400,2401],{"class":409}," const",[373,2403,2404],{"class":379}," useAuthStore ",[373,2406,1003],{"class":399},[373,2408,2346],{"class":731},[373,2410,658],{"class":379},[373,2412,1333],{"class":399},[373,2414,2415],{"class":421},"auth",[373,2417,1333],{"class":399},[373,2419,1316],{"class":399},[373,2421,495],{"class":399},[373,2423,2424,2427,2429,2432,2435,2437],{"class":375,"line":403},[373,2425,2426],{"class":731},"  state",[373,2428,345],{"class":399},[373,2430,2431],{"class":399}," ()",[373,2433,2434],{"class":409}," =>",[373,2436,916],{"class":379},[373,2438,400],{"class":399},[373,2440,2441,2444,2446,2449,2451,2454,2456,2458,2460,2462,2464,2467,2469],{"class":375,"line":430},[373,2442,2443],{"class":1283},"    token",[373,2445,345],{"class":399},[373,2447,2448],{"class":379}," localStorage",[373,2450,759],{"class":399},[373,2452,2453],{"class":731},"getItem",[373,2455,658],{"class":379},[373,2457,1333],{"class":399},[373,2459,820],{"class":421},[373,2461,1333],{"class":399},[373,2463,1663],{"class":379},[373,2465,2466],{"class":399},"||",[373,2468,1466],{"class":399},[373,2470,427],{"class":399},[373,2472,2473,2476,2478,2480,2482,2484,2486,2488,2490,2492,2494,2496,2498],{"class":375,"line":450},[373,2474,2475],{"class":1283},"    refreshToken",[373,2477,345],{"class":399},[373,2479,2448],{"class":379},[373,2481,759],{"class":399},[373,2483,2453],{"class":731},[373,2485,658],{"class":379},[373,2487,1333],{"class":399},[373,2489,524],{"class":421},[373,2491,1333],{"class":399},[373,2493,1663],{"class":379},[373,2495,2466],{"class":399},[373,2497,1466],{"class":399},[373,2499,427],{"class":399},[373,2501,2502,2505,2507,2510,2512,2515,2518,2520,2522,2524,2526,2529,2531,2533,2535,2537,2540,2542,2544],{"class":375,"line":574},[373,2503,2504],{"class":1283},"    userInfo",[373,2506,345],{"class":399},[373,2508,2509],{"class":379}," JSON",[373,2511,759],{"class":399},[373,2513,2514],{"class":731},"parse",[373,2516,2517],{"class":379},"(localStorage",[373,2519,759],{"class":399},[373,2521,2453],{"class":731},[373,2523,658],{"class":379},[373,2525,1333],{"class":399},[373,2527,2528],{"class":421},"userInfo",[373,2530,1333],{"class":399},[373,2532,1663],{"class":379},[373,2534,2466],{"class":399},[373,2536,1328],{"class":399},[373,2538,2539],{"class":421},"null",[373,2541,1333],{"class":399},[373,2543,744],{"class":379},[373,2545,427],{"class":399},[373,2547,2548,2551,2553,2555,2557,2559,2561,2563,2565,2567,2569,2572,2574,2576,2578,2580,2583,2585,2587],{"class":375,"line":580},[373,2549,2550],{"class":1283},"    permissions",[373,2552,345],{"class":399},[373,2554,2509],{"class":379},[373,2556,759],{"class":399},[373,2558,2514],{"class":731},[373,2560,2517],{"class":379},[373,2562,759],{"class":399},[373,2564,2453],{"class":731},[373,2566,658],{"class":379},[373,2568,1333],{"class":399},[373,2570,2571],{"class":421},"permissions",[373,2573,1333],{"class":399},[373,2575,1663],{"class":379},[373,2577,2466],{"class":399},[373,2579,1328],{"class":399},[373,2581,2582],{"class":421},"[]",[373,2584,1333],{"class":399},[373,2586,744],{"class":379},[373,2588,427],{"class":399},[373,2590,2591,2594,2596,2598,2600,2602,2604,2606,2608,2610,2612,2615,2617,2619,2621,2623,2625,2627],{"class":375,"line":722},[373,2592,2593],{"class":1283},"    roles",[373,2595,345],{"class":399},[373,2597,2509],{"class":379},[373,2599,759],{"class":399},[373,2601,2514],{"class":731},[373,2603,2517],{"class":379},[373,2605,759],{"class":399},[373,2607,2453],{"class":731},[373,2609,658],{"class":379},[373,2611,1333],{"class":399},[373,2613,2614],{"class":421},"roles",[373,2616,1333],{"class":399},[373,2618,1663],{"class":379},[373,2620,2466],{"class":399},[373,2622,1328],{"class":399},[373,2624,2582],{"class":421},[373,2626,1333],{"class":399},[373,2628,668],{"class":379},[373,2630,2631,2633,2635],{"class":375,"line":749},[373,2632,1653],{"class":399},[373,2634,744],{"class":379},[373,2636,427],{"class":399},[373,2638,2639,2642,2644],{"class":375,"line":768},[373,2640,2641],{"class":1283},"  actions",[373,2643,345],{"class":399},[373,2645,495],{"class":399},[373,2647,2648,2651,2653,2655,2657,2660,2662],{"class":375,"line":800},[373,2649,2650],{"class":1283},"    setToken",[373,2652,658],{"class":399},[373,2654,820],{"class":740},[373,2656,345],{"class":399},[373,2658,2659],{"class":503}," string",[373,2661,744],{"class":399},[373,2663,495],{"class":399},[373,2665,2666,2669,2671,2673,2675],{"class":375,"line":810},[373,2667,2668],{"class":399},"      this.",[373,2670,820],{"class":379},[373,2672,1573],{"class":399},[373,2674,741],{"class":379},[373,2676,682],{"class":399},[373,2678,2679,2682,2684,2687,2689,2691,2693,2695,2697,2699,2701],{"class":375,"line":825},[373,2680,2681],{"class":379},"      localStorage",[373,2683,759],{"class":399},[373,2685,2686],{"class":731},"setItem",[373,2688,658],{"class":1283},[373,2690,1333],{"class":399},[373,2692,820],{"class":421},[373,2694,1333],{"class":399},[373,2696,1316],{"class":399},[373,2698,741],{"class":379},[373,2700,744],{"class":1283},[373,2702,682],{"class":399},[373,2704,2705],{"class":375,"line":836},[373,2706,2707],{"class":399},"    },\n",[373,2709,2710,2713,2715,2717,2719,2721,2723],{"class":375,"line":842},[373,2711,2712],{"class":1283},"    setRefreshToken",[373,2714,658],{"class":399},[373,2716,524],{"class":740},[373,2718,345],{"class":399},[373,2720,2659],{"class":503},[373,2722,744],{"class":399},[373,2724,495],{"class":399},[373,2726,2727,2729,2731,2733,2736],{"class":375,"line":847},[373,2728,2668],{"class":399},[373,2730,524],{"class":379},[373,2732,1573],{"class":399},[373,2734,2735],{"class":379}," refreshToken",[373,2737,682],{"class":399},[373,2739,2740,2742,2744,2746,2748,2750,2752,2754,2756,2758,2760],{"class":375,"line":868},[373,2741,2681],{"class":379},[373,2743,759],{"class":399},[373,2745,2686],{"class":731},[373,2747,658],{"class":1283},[373,2749,1333],{"class":399},[373,2751,524],{"class":421},[373,2753,1333],{"class":399},[373,2755,1316],{"class":399},[373,2757,2735],{"class":379},[373,2759,744],{"class":1283},[373,2761,682],{"class":399},[373,2763,2764],{"class":375,"line":876},[373,2765,2707],{"class":399},[373,2767,2768,2771,2773,2775,2777,2780,2782],{"class":375,"line":889},[373,2769,2770],{"class":1283},"    setUserInfo",[373,2772,658],{"class":399},[373,2774,2528],{"class":740},[373,2776,345],{"class":399},[373,2778,2779],{"class":503}," any",[373,2781,744],{"class":399},[373,2783,495],{"class":399},[373,2785,2786,2788,2790,2792,2795],{"class":375,"line":907},[373,2787,2668],{"class":399},[373,2789,2528],{"class":379},[373,2791,1573],{"class":399},[373,2793,2794],{"class":379}," userInfo",[373,2796,682],{"class":399},[373,2798,2799,2801,2803,2805,2807,2809,2811,2814,2817],{"class":375,"line":950},[373,2800,2668],{"class":399},[373,2802,2571],{"class":379},[373,2804,1573],{"class":399},[373,2806,2794],{"class":379},[373,2808,759],{"class":399},[373,2810,2571],{"class":379},[373,2812,2813],{"class":399}," ||",[373,2815,2816],{"class":1283}," []",[373,2818,682],{"class":399},[373,2820,2821,2823,2825,2827,2829,2831,2833,2835,2837],{"class":375,"line":958},[373,2822,2668],{"class":399},[373,2824,2614],{"class":379},[373,2826,1573],{"class":399},[373,2828,2794],{"class":379},[373,2830,759],{"class":399},[373,2832,2614],{"class":379},[373,2834,2813],{"class":399},[373,2836,2816],{"class":1283},[373,2838,682],{"class":399},[373,2840,2841,2843,2845,2847,2849,2851,2853,2855,2857,2859,2861,2864,2866,2868,2871],{"class":375,"line":964},[373,2842,2681],{"class":379},[373,2844,759],{"class":399},[373,2846,2686],{"class":731},[373,2848,658],{"class":1283},[373,2850,1333],{"class":399},[373,2852,2528],{"class":421},[373,2854,1333],{"class":399},[373,2856,1316],{"class":399},[373,2858,2509],{"class":379},[373,2860,759],{"class":399},[373,2862,2863],{"class":731},"stringify",[373,2865,658],{"class":1283},[373,2867,2528],{"class":379},[373,2869,2870],{"class":1283},"))",[373,2872,682],{"class":399},[373,2874,2875,2877,2879,2881,2883,2885,2887,2889,2891,2893,2895,2897,2899,2902,2904,2906],{"class":375,"line":969},[373,2876,2681],{"class":379},[373,2878,759],{"class":399},[373,2880,2686],{"class":731},[373,2882,658],{"class":1283},[373,2884,1333],{"class":399},[373,2886,2571],{"class":421},[373,2888,1333],{"class":399},[373,2890,1316],{"class":399},[373,2892,2509],{"class":379},[373,2894,759],{"class":399},[373,2896,2863],{"class":731},[373,2898,658],{"class":1283},[373,2900,2901],{"class":399},"this.",[373,2903,2571],{"class":379},[373,2905,2870],{"class":1283},[373,2907,682],{"class":399},[373,2909,2910,2912,2914,2916,2918,2920,2922,2924,2926,2928,2930,2932,2934,2936,2938,2940],{"class":375,"line":974},[373,2911,2681],{"class":379},[373,2913,759],{"class":399},[373,2915,2686],{"class":731},[373,2917,658],{"class":1283},[373,2919,1333],{"class":399},[373,2921,2614],{"class":421},[373,2923,1333],{"class":399},[373,2925,1316],{"class":399},[373,2927,2509],{"class":379},[373,2929,759],{"class":399},[373,2931,2863],{"class":731},[373,2933,658],{"class":1283},[373,2935,2901],{"class":399},[373,2937,2614],{"class":379},[373,2939,2870],{"class":1283},[373,2941,682],{"class":399},[373,2943,2944],{"class":375,"line":994},[373,2945,2707],{"class":399},[373,2947,2948,2951,2954,2956,2959,2961,2963,2965],{"class":375,"line":1014},[373,2949,2950],{"class":409},"    async",[373,2952,2953],{"class":1283}," login",[373,2955,658],{"class":399},[373,2957,2958],{"class":740},"loginData",[373,2960,345],{"class":399},[373,2962,2779],{"class":503},[373,2964,744],{"class":399},[373,2966,495],{"class":399},[373,2968,2969,2972,2974,2976,2978,2980,2982,2984,2986],{"class":375,"line":1035},[373,2970,2971],{"class":409},"      const",[373,2973,1586],{"class":379},[373,2975,1573],{"class":399},[373,2977,1591],{"class":752},[373,2979,1388],{"class":731},[373,2981,658],{"class":1283},[373,2983,2958],{"class":379},[373,2985,744],{"class":1283},[373,2987,682],{"class":399},[373,2989,2990,2992,2994,2996,2998,3000,3002,3004],{"class":375,"line":1059},[373,2991,2668],{"class":399},[373,2993,1612],{"class":731},[373,2995,658],{"class":1283},[373,2997,1617],{"class":379},[373,2999,759],{"class":399},[373,3001,504],{"class":379},[373,3003,744],{"class":1283},[373,3005,682],{"class":399},[373,3007,3008,3010,3013,3015,3017,3019,3021,3023],{"class":375,"line":1064},[373,3009,2668],{"class":399},[373,3011,3012],{"class":731},"setRefreshToken",[373,3014,658],{"class":1283},[373,3016,1617],{"class":379},[373,3018,759],{"class":399},[373,3020,524],{"class":379},[373,3022,744],{"class":1283},[373,3024,682],{"class":399},[373,3026,3027,3030,3032],{"class":375,"line":1740},[373,3028,3029],{"class":752},"      return",[373,3031,1586],{"class":379},[373,3033,682],{"class":399},[373,3035,3036],{"class":375,"line":1750},[373,3037,2707],{"class":399},[373,3039,3040,3042,3045,3047],{"class":375,"line":1772},[373,3041,2950],{"class":409},[373,3043,3044],{"class":1283}," logout",[373,3046,1420],{"class":399},[373,3048,495],{"class":399},[373,3050,3051,3054,3056,3058],{"class":375,"line":1793},[373,3052,3053],{"class":752},"      await",[373,3055,2372],{"class":731},[373,3057,1420],{"class":1283},[373,3059,682],{"class":399},[373,3061,3062,3064,3067,3069],{"class":375,"line":1813},[373,3063,2668],{"class":399},[373,3065,3066],{"class":731},"clearAuth",[373,3068,1420],{"class":1283},[373,3070,682],{"class":399},[373,3072,3073],{"class":375,"line":1857},[373,3074,2707],{"class":399},[373,3076,3077,3079,3081,3083],{"class":375,"line":1883},[373,3078,2950],{"class":409},[373,3080,2735],{"class":1283},[373,3082,1420],{"class":399},[373,3084,495],{"class":399},[373,3086,3087,3089,3091,3093,3095,3097,3099,3102,3104,3106,3109,3111,3113,3115],{"class":375,"line":1926},[373,3088,2971],{"class":409},[373,3090,1586],{"class":379},[373,3092,1573],{"class":399},[373,3094,1591],{"class":752},[373,3096,2377],{"class":731},[373,3098,658],{"class":1283},[373,3100,3101],{"class":399},"{",[373,3103,2735],{"class":1283},[373,3105,345],{"class":399},[373,3107,3108],{"class":399}," this.",[373,3110,524],{"class":379},[373,3112,1322],{"class":399},[373,3114,744],{"class":1283},[373,3116,682],{"class":399},[373,3118,3119,3121,3123,3125,3127,3129,3131,3133],{"class":375,"line":1936},[373,3120,2668],{"class":399},[373,3122,1612],{"class":731},[373,3124,658],{"class":1283},[373,3126,1617],{"class":379},[373,3128,759],{"class":399},[373,3130,504],{"class":379},[373,3132,744],{"class":1283},[373,3134,682],{"class":399},[373,3136,3137,3139,3141,3143,3145,3147,3149,3151],{"class":375,"line":1958},[373,3138,2668],{"class":399},[373,3140,3012],{"class":731},[373,3142,658],{"class":1283},[373,3144,1617],{"class":379},[373,3146,759],{"class":399},[373,3148,524],{"class":379},[373,3150,744],{"class":1283},[373,3152,682],{"class":399},[373,3154,3155,3157,3159],{"class":375,"line":1997},[373,3156,3029],{"class":752},[373,3158,1586],{"class":379},[373,3160,682],{"class":399},[373,3162,3163],{"class":375,"line":2006},[373,3164,2707],{"class":399},[373,3166,3167,3170,3172],{"class":375,"line":2028},[373,3168,3169],{"class":1283},"    clearAuth",[373,3171,1420],{"class":399},[373,3173,495],{"class":399},[373,3175,3176,3178,3180,3182,3184],{"class":375,"line":2067},[373,3177,2668],{"class":399},[373,3179,820],{"class":379},[373,3181,1573],{"class":399},[373,3183,1466],{"class":399},[373,3185,682],{"class":399},[373,3187,3188,3190,3192,3194,3196],{"class":375,"line":2114},[373,3189,2668],{"class":399},[373,3191,524],{"class":379},[373,3193,1573],{"class":399},[373,3195,1466],{"class":399},[373,3197,682],{"class":399},[373,3199,3200,3202,3204,3206],{"class":375,"line":2123},[373,3201,2668],{"class":399},[373,3203,2528],{"class":379},[373,3205,1573],{"class":399},[373,3207,3208],{"class":399}," null;\n",[373,3210,3211,3213,3215,3217,3219],{"class":375,"line":2132},[373,3212,2668],{"class":399},[373,3214,2571],{"class":379},[373,3216,1573],{"class":399},[373,3218,2816],{"class":1283},[373,3220,682],{"class":399},[373,3222,3223,3225,3227,3229,3231],{"class":375,"line":2171},[373,3224,2668],{"class":399},[373,3226,2614],{"class":379},[373,3228,1573],{"class":399},[373,3230,2816],{"class":1283},[373,3232,682],{"class":399},[373,3234,3235,3237,3239,3242,3244,3246,3248,3250,3252],{"class":375,"line":2180},[373,3236,2681],{"class":379},[373,3238,759],{"class":399},[373,3240,3241],{"class":731},"removeItem",[373,3243,658],{"class":1283},[373,3245,1333],{"class":399},[373,3247,820],{"class":421},[373,3249,1333],{"class":399},[373,3251,744],{"class":1283},[373,3253,682],{"class":399},[373,3255,3256,3258,3260,3262,3264,3266,3268,3270,3272],{"class":375,"line":2189},[373,3257,2681],{"class":379},[373,3259,759],{"class":399},[373,3261,3241],{"class":731},[373,3263,658],{"class":1283},[373,3265,1333],{"class":399},[373,3267,524],{"class":421},[373,3269,1333],{"class":399},[373,3271,744],{"class":1283},[373,3273,682],{"class":399},[373,3275,3276,3278,3280,3282,3284,3286,3288,3290,3292],{"class":375,"line":2238},[373,3277,2681],{"class":379},[373,3279,759],{"class":399},[373,3281,3241],{"class":731},[373,3283,658],{"class":1283},[373,3285,1333],{"class":399},[373,3287,2528],{"class":421},[373,3289,1333],{"class":399},[373,3291,744],{"class":1283},[373,3293,682],{"class":399},[373,3295,3296,3298,3300,3302,3304,3306,3308,3310,3312],{"class":375,"line":2244},[373,3297,2681],{"class":379},[373,3299,759],{"class":399},[373,3301,3241],{"class":731},[373,3303,658],{"class":1283},[373,3305,1333],{"class":399},[373,3307,2571],{"class":421},[373,3309,1333],{"class":399},[373,3311,744],{"class":1283},[373,3313,682],{"class":399},[373,3315,3316,3318,3320,3322,3324,3326,3328,3330,3332],{"class":375,"line":2254},[373,3317,2681],{"class":379},[373,3319,759],{"class":399},[373,3321,3241],{"class":731},[373,3323,658],{"class":1283},[373,3325,1333],{"class":399},[373,3327,2614],{"class":421},[373,3329,1333],{"class":399},[373,3331,744],{"class":1283},[373,3333,682],{"class":399},[373,3335,3336],{"class":375,"line":2263},[373,3337,839],{"class":399},[373,3339,3340],{"class":375,"line":2273},[373,3341,577],{"class":399},[373,3343,3344,3346,3348],{"class":375,"line":2283},[373,3345,1506],{"class":399},[373,3347,744],{"class":379},[373,3349,682],{"class":399},[129,3351,3353],{"id":3352},"_63-请求拦截器","6.3 请求拦截器",[113,3355,3356,3358],{},[116,3357,338],{},": 在请求中自动携带 JWT 令牌，处理令牌过期和刷新。",[113,3360,3361,345],{},[116,3362,344],{},[134,3364,3365,3368,3371],{},[137,3366,3367],{},"自动添加令牌：在请求头中添加 Authorization 头",[137,3369,3370],{},"令牌过期处理：捕获 401 错误，尝试刷新令牌",[137,3372,3373],{},"刷新令牌失败：跳转到登录页面",[113,3375,3376,345],{},[116,3377,1268],{},[297,3379,3381],{"className":2333,"code":3380,"language":2335,"meta":305,"style":305},"import axios from 'axios';\nimport { useAuthStore } from '@/store/auth';\n\nconst request = axios.create({\n  baseURL: import.meta.env.VITE_APP_API_BASE_URL,\n  timeout: 10000\n});\n\n// 请求拦截器\nrequest.interceptors.request.use(\n  (config) => {\n    const authStore = useAuthStore();\n    if (authStore.token) {\n      config.headers.Authorization = `Bearer ${authStore.token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// 响应拦截器\nrequest.interceptors.response.use(\n  (response) => {\n    return response.data;\n  },\n  async (error) => {\n    const authStore = useAuthStore();\n    const originalRequest = error.config;\n    \n    // 处理 401 错误\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n      \n      try {\n        // 尝试刷新令牌\n        await authStore.refreshToken();\n        // 使用新令牌重试请求\n        originalRequest.headers.Authorization = `Bearer ${authStore.token}`;\n        return request(originalRequest);\n      } catch (refreshError) {\n        // 刷新令牌失败，跳转到登录页面\n        authStore.clearAuth();\n        window.location.href = '/login';\n        return Promise.reject(refreshError);\n      }\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\nexport default request;\n",[227,3382,3383,3402,3422,3426,3447,3474,3484,3492,3496,3502,3524,3538,3553,3571,3608,3612,3622,3627,3639,3659,3663,3669,3673,3678,3697,3709,3722,3726,3741,3755,3772,3776,3781,3822,3837,3842,3849,3854,3869,3874,3905,3920,3936,3941,3954,3980,3998,4003,4007,4011,4029,4033,4039,4043],{"__ignoreMap":305},[373,3384,3385,3387,3390,3393,3395,3398,3400],{"class":375,"line":376},[373,3386,1307],{"class":752},[373,3388,3389],{"class":379}," axios ",[373,3391,3392],{"class":752},"from",[373,3394,1328],{"class":399},[373,3396,3397],{"class":421},"axios",[373,3399,1333],{"class":399},[373,3401,682],{"class":399},[373,3403,3404,3406,3408,3410,3412,3414,3416,3418,3420],{"class":375,"line":383},[373,3405,1307],{"class":752},[373,3407,1310],{"class":399},[373,3409,1366],{"class":379},[373,3411,1322],{"class":399},[373,3413,1325],{"class":752},[373,3415,1328],{"class":399},[373,3417,1375],{"class":421},[373,3419,1333],{"class":399},[373,3421,682],{"class":399},[373,3423,3424],{"class":375,"line":389},[373,3425,393],{"emptyLinePlaceholder":392},[373,3427,3428,3430,3433,3435,3438,3440,3443,3445],{"class":375,"line":396},[373,3429,1410],{"class":409},[373,3431,3432],{"class":379}," request ",[373,3434,1003],{"class":399},[373,3436,3437],{"class":379}," axios",[373,3439,759],{"class":399},[373,3441,3442],{"class":731},"create",[373,3444,658],{"class":379},[373,3446,400],{"class":399},[373,3448,3449,3452,3454,3457,3459,3462,3464,3467,3469,3472],{"class":375,"line":403},[373,3450,3451],{"class":1283},"  baseURL",[373,3453,345],{"class":399},[373,3455,3456],{"class":752}," import",[373,3458,759],{"class":399},[373,3460,3461],{"class":379},"meta",[373,3463,759],{"class":399},[373,3465,3466],{"class":379},"env",[373,3468,759],{"class":399},[373,3470,3471],{"class":379},"VITE_APP_API_BASE_URL",[373,3473,427],{"class":399},[373,3475,3476,3479,3481],{"class":375,"line":430},[373,3477,3478],{"class":1283},"  timeout",[373,3480,345],{"class":399},[373,3482,3483],{"class":570}," 10000\n",[373,3485,3486,3488,3490],{"class":375,"line":450},[373,3487,1506],{"class":399},[373,3489,744],{"class":379},[373,3491,682],{"class":399},[373,3493,3494],{"class":375,"line":574},[373,3495,393],{"emptyLinePlaceholder":392},[373,3497,3498],{"class":375,"line":580},[373,3499,3501],{"class":3500},"sHwdD","// 请求拦截器\n",[373,3503,3504,3507,3509,3512,3514,3516,3518,3521],{"class":375,"line":722},[373,3505,3506],{"class":379},"request",[373,3508,759],{"class":399},[373,3510,3511],{"class":379},"interceptors",[373,3513,759],{"class":399},[373,3515,3506],{"class":379},[373,3517,759],{"class":399},[373,3519,3520],{"class":731},"use",[373,3522,3523],{"class":379},"(\n",[373,3525,3526,3529,3532,3534,3536],{"class":375,"line":749},[373,3527,3528],{"class":399},"  (",[373,3530,3531],{"class":740},"config",[373,3533,744],{"class":399},[373,3535,2434],{"class":409},[373,3537,495],{"class":399},[373,3539,3540,3542,3545,3547,3549,3551],{"class":375,"line":768},[373,3541,1583],{"class":409},[373,3543,3544],{"class":379}," authStore",[373,3546,1573],{"class":399},[373,3548,1366],{"class":731},[373,3550,1420],{"class":1283},[373,3552,682],{"class":399},[373,3554,3555,3558,3560,3563,3565,3567,3569],{"class":375,"line":800},[373,3556,3557],{"class":752},"    if",[373,3559,916],{"class":1283},[373,3561,3562],{"class":379},"authStore",[373,3564,759],{"class":399},[373,3566,820],{"class":379},[373,3568,1663],{"class":1283},[373,3570,400],{"class":399},[373,3572,3573,3576,3578,3581,3583,3586,3588,3591,3594,3597,3599,3601,3603,3606],{"class":375,"line":810},[373,3574,3575],{"class":379},"      config",[373,3577,759],{"class":399},[373,3579,3580],{"class":379},"headers",[373,3582,759],{"class":399},[373,3584,3585],{"class":379},"Authorization",[373,3587,1573],{"class":399},[373,3589,3590],{"class":399}," `",[373,3592,3593],{"class":421},"Bearer ",[373,3595,3596],{"class":399},"${",[373,3598,3562],{"class":379},[373,3600,759],{"class":399},[373,3602,820],{"class":379},[373,3604,3605],{"class":399},"}`",[373,3607,682],{"class":399},[373,3609,3610],{"class":375,"line":825},[373,3611,839],{"class":399},[373,3613,3614,3617,3620],{"class":375,"line":836},[373,3615,3616],{"class":752},"    return",[373,3618,3619],{"class":379}," config",[373,3621,682],{"class":399},[373,3623,3624],{"class":375,"line":842},[373,3625,3626],{"class":399},"  },\n",[373,3628,3629,3631,3633,3635,3637],{"class":375,"line":847},[373,3630,3528],{"class":399},[373,3632,1660],{"class":740},[373,3634,744],{"class":399},[373,3636,2434],{"class":409},[373,3638,495],{"class":399},[373,3640,3641,3643,3646,3648,3651,3653,3655,3657],{"class":375,"line":868},[373,3642,3616],{"class":752},[373,3644,3645],{"class":503}," Promise",[373,3647,759],{"class":399},[373,3649,3650],{"class":731},"reject",[373,3652,658],{"class":1283},[373,3654,1660],{"class":379},[373,3656,744],{"class":1283},[373,3658,682],{"class":399},[373,3660,3661],{"class":375,"line":876},[373,3662,577],{"class":399},[373,3664,3665,3667],{"class":375,"line":889},[373,3666,744],{"class":379},[373,3668,682],{"class":399},[373,3670,3671],{"class":375,"line":907},[373,3672,393],{"emptyLinePlaceholder":392},[373,3674,3675],{"class":375,"line":950},[373,3676,3677],{"class":3500},"// 响应拦截器\n",[373,3679,3680,3682,3684,3686,3688,3691,3693,3695],{"class":375,"line":958},[373,3681,3506],{"class":379},[373,3683,759],{"class":399},[373,3685,3511],{"class":379},[373,3687,759],{"class":399},[373,3689,3690],{"class":379},"response",[373,3692,759],{"class":399},[373,3694,3520],{"class":731},[373,3696,3523],{"class":379},[373,3698,3699,3701,3703,3705,3707],{"class":375,"line":964},[373,3700,3528],{"class":399},[373,3702,3690],{"class":740},[373,3704,744],{"class":399},[373,3706,2434],{"class":409},[373,3708,495],{"class":399},[373,3710,3711,3713,3716,3718,3720],{"class":375,"line":969},[373,3712,3616],{"class":752},[373,3714,3715],{"class":379}," response",[373,3717,759],{"class":399},[373,3719,488],{"class":379},[373,3721,682],{"class":399},[373,3723,3724],{"class":375,"line":974},[373,3725,3626],{"class":399},[373,3727,3728,3731,3733,3735,3737,3739],{"class":375,"line":994},[373,3729,3730],{"class":409},"  async",[373,3732,916],{"class":399},[373,3734,1660],{"class":740},[373,3736,744],{"class":399},[373,3738,2434],{"class":409},[373,3740,495],{"class":399},[373,3742,3743,3745,3747,3749,3751,3753],{"class":375,"line":1014},[373,3744,1583],{"class":409},[373,3746,3544],{"class":379},[373,3748,1573],{"class":399},[373,3750,1366],{"class":731},[373,3752,1420],{"class":1283},[373,3754,682],{"class":399},[373,3756,3757,3759,3762,3764,3766,3768,3770],{"class":375,"line":1035},[373,3758,1583],{"class":409},[373,3760,3761],{"class":379}," originalRequest",[373,3763,1573],{"class":399},[373,3765,1688],{"class":379},[373,3767,759],{"class":399},[373,3769,3531],{"class":379},[373,3771,682],{"class":399},[373,3773,3774],{"class":375,"line":1059},[373,3775,647],{"class":1283},[373,3777,3778],{"class":375,"line":1064},[373,3779,3780],{"class":3500},"    // 处理 401 错误\n",[373,3782,3783,3785,3787,3789,3791,3793,3796,3799,3802,3805,3808,3810,3813,3815,3818,3820],{"class":375,"line":1740},[373,3784,3557],{"class":752},[373,3786,916],{"class":1283},[373,3788,1660],{"class":379},[373,3790,759],{"class":399},[373,3792,3690],{"class":379},[373,3794,3795],{"class":399},"?.",[373,3797,3798],{"class":379},"status",[373,3800,3801],{"class":399}," ===",[373,3803,3804],{"class":570}," 401",[373,3806,3807],{"class":399}," &&",[373,3809,895],{"class":399},[373,3811,3812],{"class":379},"originalRequest",[373,3814,759],{"class":399},[373,3816,3817],{"class":379},"_retry",[373,3819,1663],{"class":1283},[373,3821,400],{"class":399},[373,3823,3824,3827,3829,3831,3833,3835],{"class":375,"line":1750},[373,3825,3826],{"class":379},"      originalRequest",[373,3828,759],{"class":399},[373,3830,3817],{"class":379},[373,3832,1573],{"class":399},[373,3834,1576],{"class":1500},[373,3836,682],{"class":399},[373,3838,3839],{"class":375,"line":1772},[373,3840,3841],{"class":1283},"      \n",[373,3843,3844,3847],{"class":375,"line":1793},[373,3845,3846],{"class":752},"      try",[373,3848,495],{"class":399},[373,3850,3851],{"class":375,"line":1813},[373,3852,3853],{"class":3500},"        // 尝试刷新令牌\n",[373,3855,3856,3859,3861,3863,3865,3867],{"class":375,"line":1857},[373,3857,3858],{"class":752},"        await",[373,3860,3544],{"class":379},[373,3862,759],{"class":399},[373,3864,524],{"class":731},[373,3866,1420],{"class":1283},[373,3868,682],{"class":399},[373,3870,3871],{"class":375,"line":1883},[373,3872,3873],{"class":3500},"        // 使用新令牌重试请求\n",[373,3875,3876,3879,3881,3883,3885,3887,3889,3891,3893,3895,3897,3899,3901,3903],{"class":375,"line":1926},[373,3877,3878],{"class":379},"        originalRequest",[373,3880,759],{"class":399},[373,3882,3580],{"class":379},[373,3884,759],{"class":399},[373,3886,3585],{"class":379},[373,3888,1573],{"class":399},[373,3890,3590],{"class":399},[373,3892,3593],{"class":421},[373,3894,3596],{"class":399},[373,3896,3562],{"class":379},[373,3898,759],{"class":399},[373,3900,820],{"class":379},[373,3902,3605],{"class":399},[373,3904,682],{"class":399},[373,3906,3907,3909,3912,3914,3916,3918],{"class":375,"line":1936},[373,3908,753],{"class":752},[373,3910,3911],{"class":731}," request",[373,3913,658],{"class":1283},[373,3915,3812],{"class":379},[373,3917,744],{"class":1283},[373,3919,682],{"class":399},[373,3921,3922,3925,3927,3929,3932,3934],{"class":375,"line":1958},[373,3923,3924],{"class":399},"      }",[373,3926,913],{"class":752},[373,3928,916],{"class":1283},[373,3930,3931],{"class":379},"refreshError",[373,3933,1663],{"class":1283},[373,3935,400],{"class":399},[373,3937,3938],{"class":375,"line":1997},[373,3939,3940],{"class":3500},"        // 刷新令牌失败，跳转到登录页面\n",[373,3942,3943,3946,3948,3950,3952],{"class":375,"line":2006},[373,3944,3945],{"class":379},"        authStore",[373,3947,759],{"class":399},[373,3949,3066],{"class":731},[373,3951,1420],{"class":1283},[373,3953,682],{"class":399},[373,3955,3956,3959,3961,3964,3966,3969,3971,3973,3976,3978],{"class":375,"line":2028},[373,3957,3958],{"class":379},"        window",[373,3960,759],{"class":399},[373,3962,3963],{"class":379},"location",[373,3965,759],{"class":399},[373,3967,3968],{"class":379},"href",[373,3970,1573],{"class":399},[373,3972,1328],{"class":399},[373,3974,3975],{"class":421},"/login",[373,3977,1333],{"class":399},[373,3979,682],{"class":399},[373,3981,3982,3984,3986,3988,3990,3992,3994,3996],{"class":375,"line":2067},[373,3983,753],{"class":752},[373,3985,3645],{"class":503},[373,3987,759],{"class":399},[373,3989,3650],{"class":731},[373,3991,658],{"class":1283},[373,3993,3931],{"class":379},[373,3995,744],{"class":1283},[373,3997,682],{"class":399},[373,3999,4000],{"class":375,"line":2114},[373,4001,4002],{"class":399},"      }\n",[373,4004,4005],{"class":375,"line":2123},[373,4006,839],{"class":399},[373,4008,4009],{"class":375,"line":2132},[373,4010,647],{"class":1283},[373,4012,4013,4015,4017,4019,4021,4023,4025,4027],{"class":375,"line":2171},[373,4014,3616],{"class":752},[373,4016,3645],{"class":503},[373,4018,759],{"class":399},[373,4020,3650],{"class":731},[373,4022,658],{"class":1283},[373,4024,1660],{"class":379},[373,4026,744],{"class":1283},[373,4028,682],{"class":399},[373,4030,4031],{"class":375,"line":2180},[373,4032,577],{"class":399},[373,4034,4035,4037],{"class":375,"line":2189},[373,4036,744],{"class":379},[373,4038,682],{"class":399},[373,4040,4041],{"class":375,"line":2238},[373,4042,393],{"emptyLinePlaceholder":392},[373,4044,4045,4047,4050,4052],{"class":375,"line":2244},[373,4046,2398],{"class":752},[373,4048,4049],{"class":752}," default",[373,4051,3911],{"class":379},[373,4053,682],{"class":399},[121,4055,4057],{"id":4056},"_7-api-参考","7. API 参考",[4059,4060,4061,4078],"table",{},[4062,4063,4064],"thead",{},[4065,4066,4067,4072,4075],"tr",{},[4068,4069,4071],"th",{"align":4070},"left","方法",[4068,4073,4074],{"align":4070},"端点",[4068,4076,4077],{"align":4070},"描述",[4079,4080,4081,4095,4107,4119,4132,4144,4156],"tbody",{},[4065,4082,4083,4087,4092],{},[4084,4085,4086],"td",{"align":4070},"POST",[4084,4088,4089],{"align":4070},[227,4090,4091],{},"/auth/login",[4084,4093,4094],{"align":4070},"用户登录",[4065,4096,4097,4099,4104],{},[4084,4098,4086],{"align":4070},[4084,4100,4101],{"align":4070},[227,4102,4103],{},"/auth/logout",[4084,4105,4106],{"align":4070},"用户登出",[4065,4108,4109,4111,4116],{},[4084,4110,4086],{"align":4070},[4084,4112,4113],{"align":4070},[227,4114,4115],{},"/auth/refresh",[4084,4117,4118],{"align":4070},"刷新令牌",[4065,4120,4121,4124,4129],{},[4084,4122,4123],{"align":4070},"GET",[4084,4125,4126],{"align":4070},[227,4127,4128],{},"/auth/me",[4084,4130,4131],{"align":4070},"获取当前用户信息",[4065,4133,4134,4136,4141],{},[4084,4135,4123],{"align":4070},[4084,4137,4138],{"align":4070},[227,4139,4140],{},"/auth/permissions",[4084,4142,4143],{"align":4070},"获取当前用户权限",[4065,4145,4146,4148,4153],{},[4084,4147,4123],{"align":4070},[4084,4149,4150],{"align":4070},[227,4151,4152],{},"/auth/roles",[4084,4154,4155],{"align":4070},"获取当前用户角色",[4065,4157,4158,4160,4165],{},[4084,4159,4123],{"align":4070},[4084,4161,4162],{"align":4070},[227,4163,4164],{},"/captcha",[4084,4166,4167],{"align":4070},"获取验证码",[121,4169,4171],{"id":4170},"_8-最佳实践","8. 最佳实践",[129,4173,4175],{"id":4174},"_81-安全建议","8.1 安全建议",[134,4177,4178,4184,4190,4196,4202,4208,4214],{},[137,4179,4180,4183],{},[116,4181,4182],{},"使用 HTTPS",": 在生产环境中使用 HTTPS 协议，确保数据传输安全",[137,4185,4186,4189],{},[116,4187,4188],{},"强密码策略",": 强制用户使用强密码，定期更换密码",[137,4191,4192,4195],{},[116,4193,4194],{},"令牌过期时间",": 设置合理的令牌过期时间，减少风险",[137,4197,4198,4201],{},[116,4199,4200],{},"刷新令牌机制",": 实现刷新令牌机制，提高用户体验",[137,4203,4204,4207],{},[116,4205,4206],{},"令牌黑名单",": 实现令牌黑名单，支持主动使令牌失效",[137,4209,4210,4213],{},[116,4211,4212],{},"防止 CSRF 攻击",": 实现 CSRF 防护机制",[137,4215,4216,4219],{},[116,4217,4218],{},"防止 XSS 攻击",": 对用户输入进行转义，防止 XSS 攻击",[129,4221,4223],{"id":4222},"_82-性能优化","8.2 性能优化",[134,4225,4226,4232,4238,4244],{},[137,4227,4228,4231],{},[116,4229,4230],{},"令牌缓存",": 缓存令牌，减少数据库查询",[137,4233,4234,4237],{},[116,4235,4236],{},"减少令牌大小",": 只在令牌中包含必要的信息",[137,4239,4240,4243],{},[116,4241,4242],{},"异步验证",": 异步验证令牌，提高系统性能",[137,4245,4246,4249],{},[116,4247,4248],{},"批量权限检查",": 批量检查权限，减少请求次数",[129,4251,4253],{"id":4252},"_83-可扩展性","8.3 可扩展性",[134,4255,4256,4262,4268,4274],{},[137,4257,4258,4261],{},[116,4259,4260],{},"模块化设计",": 认证模块与业务模块分离，便于扩展",[137,4263,4264,4267],{},[116,4265,4266],{},"支持多种认证方式",": 支持用户名密码登录、短信登录、第三方登录等",[137,4269,4270,4273],{},[116,4271,4272],{},"支持多租户",": 支持多租户认证",[137,4275,4276,4279],{},[116,4277,4278],{},"支持 OAuth 2.0",": 支持 OAuth 2.0 协议",[121,4281,4283],{"id":4282},"_9-扩展建议","9. 扩展建议",[129,4285,4287],{"id":4286},"_91-支持多种登录方式","9.1 支持多种登录方式",[134,4289,4290,4296,4302,4308],{},[137,4291,4292,4295],{},[116,4293,4294],{},"短信登录",": 支持短信验证码登录",[137,4297,4298,4301],{},[116,4299,4300],{},"邮箱登录",": 支持邮箱验证码登录",[137,4303,4304,4307],{},[116,4305,4306],{},"第三方登录",": 支持微信、QQ、GitHub 等第三方登录",[137,4309,4310,4313],{},[116,4311,4312],{},"生物识别登录",": 支持指纹、面部识别等生物识别登录",[129,4315,4317],{"id":4316},"_92-增强安全机制","9.2 增强安全机制",[134,4319,4320,4326,4332,4338],{},[137,4321,4322,4325],{},[116,4323,4324],{},"多因素认证",": 支持多因素认证，提高安全性",[137,4327,4328,4331],{},[116,4329,4330],{},"风险控制",": 实现登录风险控制，防止暴力破解",[137,4333,4334,4337],{},[116,4335,4336],{},"审计日志",": 记录认证相关的审计日志",[137,4339,4340,4343],{},[116,4341,4342],{},"异常检测",": 检测异常登录行为",[129,4345,4347],{"id":4346},"_93-支持-sso","9.3 支持 SSO",[113,4349,4350],{},"实现单点登录 (SSO)，支持多系统间的无缝登录。",[129,4352,4354],{"id":4353},"_94-支持-jwt-扩展","9.4 支持 JWT 扩展",[134,4356,4357,4363,4369],{},[137,4358,4359,4362],{},[116,4360,4361],{},"支持 JWT 扩展声明",": 支持自定义声明",[137,4364,4365,4368],{},[116,4366,4367],{},"支持 JWT 加密",": 支持 JWT 加密，提高安全性",[137,4370,4371,4374],{},[116,4372,4373],{},"支持 JWT 吊销",": 支持 JWT 吊销机制",[121,4376,4378],{"id":4377},"_10-总结","10. 总结",[113,4380,4381],{},"认证模块是 Tagtag Starter 系统的安全核心，基于 JWT 实现了无状态认证机制。该模块提供了完整的认证功能，包括用户登录、令牌验证、令牌刷新和用户登出等。",[113,4383,4384],{},"通过认证模块，系统实现了统一的身份验证和授权机制，确保只有授权用户才能访问系统资源。同时，认证模块支持多种扩展方式，可以根据业务需求灵活扩展。",[113,4386,4387],{},"认证模块的设计和实现遵循了安全性、性能和可扩展性原则，为系统提供了可靠的安全保障。",[4389,4390,4391],"style",{},"html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .spNyl, html code.shiki .spNyl{--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sBMFI, html code.shiki .sBMFI{--shiki-light:#E2931D;--shiki-default:#FFCB6B;--shiki-dark:#FFCB6B}html pre.shiki code .sbssI, html code.shiki .sbssI{--shiki-light:#F76D47;--shiki-default:#F78C6C;--shiki-dark:#F78C6C}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .sHdIc, html code.shiki .sHdIc{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#EEFFFF;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s7zQu, html code.shiki .s7zQu{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#89DDFF;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .swJcz, html code.shiki .swJcz{--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178}html pre.shiki code .sfNiH, html code.shiki .sfNiH{--shiki-light:#FF5370;--shiki-default:#FF9CAC;--shiki-dark:#FF9CAC}html pre.shiki code .sHwdD, html code.shiki .sHwdD{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#546E7A;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}",{"title":305,"searchDepth":376,"depth":383,"links":4393},[4394,4398,4404,4409,4415,4419,4424,4425,4430,4436],{"id":123,"depth":383,"text":124,"children":4395},[4396,4397],{"id":131,"depth":389,"text":132},{"id":154,"depth":389,"text":155},{"id":184,"depth":383,"text":185,"children":4399},[4400,4401,4402,4403],{"id":188,"depth":389,"text":189},{"id":195,"depth":389,"text":196},{"id":232,"depth":389,"text":233},{"id":260,"depth":389,"text":261},{"id":290,"depth":383,"text":291,"children":4405},[4406,4407,4408],{"id":294,"depth":389,"text":295},{"id":308,"depth":389,"text":309},{"id":318,"depth":389,"text":319},{"id":328,"depth":383,"text":329,"children":4410},[4411,4412,4413,4414],{"id":332,"depth":389,"text":333},{"id":585,"depth":389,"text":586},{"id":1069,"depth":389,"text":1070},{"id":1143,"depth":389,"text":1144},{"id":1211,"depth":383,"text":1212,"children":4416},[4417,4418],{"id":1215,"depth":389,"text":1216},{"id":1225,"depth":389,"text":1226},{"id":1235,"depth":383,"text":1236,"children":4420},[4421,4422,4423],{"id":1239,"depth":389,"text":1240},{"id":2302,"depth":389,"text":2303},{"id":3352,"depth":389,"text":3353},{"id":4056,"depth":383,"text":4057},{"id":4170,"depth":383,"text":4171,"children":4426},[4427,4428,4429],{"id":4174,"depth":389,"text":4175},{"id":4222,"depth":389,"text":4223},{"id":4252,"depth":389,"text":4253},{"id":4282,"depth":383,"text":4283,"children":4431},[4432,4433,4434,4435],{"id":4286,"depth":389,"text":4287},{"id":4316,"depth":389,"text":4317},{"id":4346,"depth":389,"text":4347},{"id":4353,"depth":389,"text":4354},{"id":4377,"depth":383,"text":4378},"认证与授权模块文档，详细说明JWT认证流程。","md",null,{},{"title":74,"description":4437},"n1xIiLGCucBTVxFYtr54q6iFlf91OaqCCf3fnz9RQco",[4444,4446],{"title":70,"path":71,"stem":72,"description":4445,"children":-1},"Tagtag Starter 系统模块文档，包括系统配置、字典管理和日志管理等功能。",{"title":78,"path":79,"stem":80,"description":4447,"children":-1},"文件存储模块文档，详细说明存储实现、支持的存储模式和核心功能。",1767077440407]