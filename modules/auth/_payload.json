[{"data":1,"prerenderedAt":4405},["ShallowReactive",2],{"navigation":3,"/modules/auth":107,"/modules/auth-surround":4400},[4,18,35,60,81,94,103],{"title":5,"path":6,"stem":7,"children":8,"page":17},"Getting Started","/getting-started","1.getting-started",[9,13],{"title":10,"path":11,"stem":12},"项目介绍","/getting-started/introduction","1.getting-started/1.introduction",{"title":14,"path":15,"stem":16},"快速上手","/getting-started/quick-start","1.getting-started/2.quick-start",false,{"title":19,"path":20,"stem":21,"children":22,"page":17},"Architecture","/architecture","2.architecture",[23,27,31],{"title":24,"path":25,"stem":26},"架构概览","/architecture/overview","2.architecture/1.overview",{"title":28,"path":29,"stem":30},"项目结构","/architecture/project-structure","2.architecture/2.project-structure",{"title":32,"path":33,"stem":34},"前端架构","/architecture/frontend-architecture","2.architecture/3.frontend-architecture",{"title":36,"path":37,"stem":38,"children":39,"page":17},"Developer Guide","/developer-guide","3.developer-guide",[40,44,48,52,56],{"title":41,"path":42,"stem":43},"实战教程：开发 CRUD 功能","/developer-guide/crud-tutorial","3.developer-guide/1.crud-tutorial",{"title":45,"path":46,"stem":47},"代码规范与最佳实践","/developer-guide/code-style","3.developer-guide/2.code-style",{"title":49,"path":50,"stem":51},"测试指南","/developer-guide/testing","3.developer-guide/3.testing",{"title":53,"path":54,"stem":55},"前端开发指南","/developer-guide/frontend-development","3.developer-guide/4.frontend-development",{"title":57,"path":58,"stem":59},"AI 辅助开发","/developer-guide/ai-development","3.developer-guide/5.ai-development",{"title":61,"path":62,"stem":63,"children":64,"page":17},"Modules","/modules","3.modules",[65,69,73,77],{"title":66,"path":67,"stem":68},"身份管理 (IAM)","/modules/iam","3.modules/1.iam",{"title":70,"path":71,"stem":72},"系统模块","/modules/system","3.modules/2.system",{"title":74,"path":75,"stem":76},"认证模块","/modules/auth","3.modules/3.auth",{"title":78,"path":79,"stem":80},"存储模块","/modules/storage","3.modules/4.storage",{"title":82,"path":83,"stem":84,"children":85,"page":17},"Deployment","/deployment","4.deployment",[86,90],{"title":87,"path":88,"stem":89},"生产环境部署","/deployment/production","4.deployment/1.production",{"title":91,"path":92,"stem":93},"容器化部署","/deployment/containerization","4.deployment/2.containerization",{"title":95,"path":96,"stem":97,"children":98,"page":17},"Maintenance","/maintenance","5.maintenance",[99],{"title":100,"path":101,"stem":102},"监控与维护","/maintenance/monitoring","5.maintenance/1.monitoring",{"title":104,"path":105,"stem":106},"更新日志","/releases","releases",{"id":108,"title":74,"body":109,"description":4394,"extension":4395,"links":4396,"meta":4397,"navigation":392,"path":75,"seo":4398,"stem":76,"__hash__":4399},"docs/3.modules/3.auth.md",{"type":110,"value":111,"toc":4349},"minimark",[112,120,125,128,133,152,156,182,186,190,193,197,200,220,230,234,258,262,288,292,296,306,310,316,320,326,330,334,340,346,360,365,454,459,583,587,592,596,610,615,1067,1071,1076,1080,1094,1099,1141,1145,1150,1154,1165,1170,1209,1213,1217,1223,1227,1233,1237,1241,1246,1250,1264,1269,2257,2261,2266,2270,2284,2288,3307,3311,3316,3320,3331,3335,4011,4015,4125,4129,4133,4177,4181,4207,4211,4237,4241,4245,4271,4275,4301,4305,4308,4312,4332,4336,4339,4342,4345],[113,114,115,119],"p",{},[116,117,118],"strong",{},"认证 (Auth)"," 模块负责系统的用户认证、授权以及会话管理，基于 JWT (JSON Web Token) 实现无状态认证。",[121,122,124],"h2",{"id":123},"_1-认证模块概述","1. 认证模块概述",[113,126,127],{},"认证模块是系统的安全核心，负责验证用户身份并授予访问权限。Tagtag Starter 认证模块采用现代化的 JWT 认证机制，实现了无状态认证，提高了系统的可扩展性和性能。",[129,130,132],"h3",{"id":131},"_11-核心功能","1.1 核心功能",[134,135,136,140,143,146,149],"ul",{},[137,138,139],"li",{},"用户登录与登出",[137,141,142],{},"JWT 令牌生成与验证",[137,144,145],{},"令牌刷新机制",[137,147,148],{},"权限校验",[137,150,151],{},"会话管理",[129,153,155],{"id":154},"_12-技术栈","1.2 技术栈",[134,157,158,164,170,176],{},[137,159,160,163],{},[116,161,162],{},"JWT",": JSON Web Token，用于无状态认证",[137,165,166,169],{},[116,167,168],{},"BCrypt",": 密码加密算法，确保密码安全",[137,171,172,175],{},[116,173,174],{},"Spring Security",": 安全框架，提供认证和授权功能",[137,177,178,181],{},[116,179,180],{},"Redis",": 用于缓存令牌黑名单和会话信息",[121,183,185],{"id":184},"_2-jwt-认证原理","2. JWT 认证原理",[129,187,189],{"id":188},"_21-jwt-基本概念","2.1 JWT 基本概念",[113,191,192],{},"JWT (JSON Web Token) 是一种开放标准 (RFC 7519)，用于在各方之间安全地传输信息作为 JSON 对象。JWT 可以被验证和信任，因为它是数字签名的。",[129,194,196],{"id":195},"_22-jwt-结构","2.2 JWT 结构",[113,198,199],{},"JWT 由三部分组成，用点 (.) 分隔：",[134,201,202,208,214],{},[137,203,204,207],{},[116,205,206],{},"Header",": 包含令牌类型和签名算法",[137,209,210,213],{},[116,211,212],{},"Payload",": 包含声明（claims），如用户ID、角色、过期时间等",[137,215,216,219],{},[116,217,218],{},"Signature",": 用于验证令牌的完整性",[113,221,222,225,226],{},[116,223,224],{},"格式",": ",[227,228,229],"code",{},"header.payload.signature",[129,231,233],{"id":232},"_23-jwt-工作流程","2.3 JWT 工作流程",[235,236,237,240,243,246,249,252,255],"ol",{},[137,238,239],{},"用户使用用户名和密码登录系统",[137,241,242],{},"服务器验证用户名和密码的正确性",[137,244,245],{},"服务器生成 JWT 令牌并返回给客户端",[137,247,248],{},"客户端存储 JWT 令牌",[137,250,251],{},"客户端在后续请求中携带 JWT 令牌",[137,253,254],{},"服务器验证 JWT 令牌的有效性",[137,256,257],{},"服务器处理请求并返回响应",[129,259,261],{"id":260},"_24-jwt-优势","2.4 JWT 优势",[134,263,264,270,276,282],{},[137,265,266,269],{},[116,267,268],{},"无状态",": 服务器不需要存储会话信息，提高了系统的可扩展性",[137,271,272,275],{},[116,273,274],{},"跨域支持",": JWT 支持跨域认证，便于构建分布式系统",[137,277,278,281],{},[116,279,280],{},"自包含",": 令牌包含了所有必要的用户信息，减少了数据库查询",[137,283,284,287],{},[116,285,286],{},"易于集成",": 可以与各种客户端兼容",[121,289,291],{"id":290},"_3-认证流程","3. 认证流程",[129,293,295],{"id":294},"_31-登录流程","3.1 登录流程",[297,298,303],"pre",{"className":299,"code":301,"language":302},[300],"language-text","┌────────────┐     ┌────────────┐     ┌────────────┐     ┌────────────┐\n│  客户端    │     │  服务器    │     │  数据库    │     │  Redis     │\n└─────┬──────┘     └─────┬──────┘     └─────┬──────┘     └─────┬──────┘\n      │                  │                  │                  │\n      │ 1. 登录请求      │                  │                  │\n      │────────────────▶│                  │                  │\n      │                  │                  │                  │\n      │                  │ 2. 验证用户名密码 │                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │                  │ 3. 生成 JWT 令牌 │                  │\n      │                  │◀────────────────│                  │\n      │                  │                  │                  │\n      │                  │ 4. 存储令牌信息  │                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │ 5. 返回 JWT 令牌 │                  │                  │\n      │◀────────────────│                  │                  │\n      │                  │                  │                  │\n      │                  │                  │                  │\n","text",[227,304,301],{"__ignoreMap":305},"",[129,307,309],{"id":308},"_32-请求认证流程","3.2 请求认证流程",[297,311,314],{"className":312,"code":313,"language":302},[300],"┌────────────┐     ┌────────────┐     ┌────────────┐     ┌────────────┐\n│  客户端    │     │  服务器    │     │  数据库    │     │  Redis     │\n└─────┬──────┘     └─────┬──────┘     └─────┬──────┘     └─────┬──────┘\n      │                  │                  │                  │\n      │ 1. 请求携带 JWT   │                  │                  │\n      │────────────────▶│                  │                  │\n      │                  │                  │                  │\n      │                  │ 2. 验证 JWT 有效性│                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │                  │ 3. 检查令牌黑名单│                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │                  │ 4. 解析用户信息  │                  │\n      │                  │◀────────────────│                  │\n      │                  │                  │                  │\n      │                  │ 5. 权限校验      │                  │\n      │                  │                  │                  │\n      │                  │ 6. 处理请求      │                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │ 7. 返回响应      │◀────────────────│                  │\n      │◀────────────────│                  │                  │\n      │                  │                  │                  │\n",[227,315,313],{"__ignoreMap":305},[129,317,319],{"id":318},"_33-令牌刷新流程","3.3 令牌刷新流程",[297,321,324],{"className":322,"code":323,"language":302},[300],"┌────────────┐     ┌────────────┐     ┌────────────┐     ┌────────────┐\n│  客户端    │     │  服务器    │     │  数据库    │     │  Redis     │\n└─────┬──────┘     └─────┬──────┘     └─────┬──────┘     └─────┬──────┘\n      │                  │                  │                  │\n      │ 1. 刷新令牌请求   │                  │                  │\n      │────────────────▶│                  │                  │\n      │                  │                  │                  │\n      │                  │ 2. 验证刷新令牌  │                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │                  │ 3. 生成新 JWT   │                  │\n      │                  │◀────────────────│                  │\n      │                  │                  │                  │\n      │                  │ 4. 存储新令牌信息│                  │\n      │                  │────────────────▶│                  │\n      │                  │                  │                  │\n      │ 5. 返回新 JWT     │                  │                  │\n      │◀────────────────│                  │                  │\n      │                  │                  │                  │\n",[227,325,323],{"__ignoreMap":305},[121,327,329],{"id":328},"_4-核心功能实现","4. 核心功能实现",[129,331,333],{"id":332},"_41-用户登录","4.1 用户登录",[113,335,336,339],{},[116,337,338],{},"功能",": 验证用户身份并生成 JWT 令牌。",[113,341,342,345],{},[116,343,344],{},"实现细节",":",[134,347,348,351,354,357],{},[137,349,350],{},"密码验证：使用 BCrypt 算法验证密码",[137,352,353],{},"令牌生成：生成访问令牌和刷新令牌",[137,355,356],{},"令牌存储：将令牌信息存储到 Redis",[137,358,359],{},"响应格式：返回令牌、用户信息和权限列表",[113,361,362,345],{},[116,363,364],{},"登录请求",[297,366,370],{"className":367,"code":368,"language":369,"meta":305,"style":305},"language-json shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","POST /auth/login\nContent-Type: application/json\n\n{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}\n","json",[227,371,372,381,387,394,401,428,448],{"__ignoreMap":305},[373,374,377],"span",{"class":375,"line":376},"line",1,[373,378,380],{"class":379},"sTEyZ","POST /auth/login\n",[373,382,384],{"class":375,"line":383},2,[373,385,386],{"class":379},"Content-Type: application/json\n",[373,388,390],{"class":375,"line":389},3,[373,391,393],{"emptyLinePlaceholder":392},true,"\n",[373,395,397],{"class":375,"line":396},4,[373,398,400],{"class":399},"sMK4o","{\n",[373,402,404,407,411,414,416,419,423,425],{"class":375,"line":403},5,[373,405,406],{"class":399},"  \"",[373,408,410],{"class":409},"spNyl","username",[373,412,413],{"class":399},"\"",[373,415,345],{"class":399},[373,417,418],{"class":399}," \"",[373,420,422],{"class":421},"sfazB","admin",[373,424,413],{"class":399},[373,426,427],{"class":399},",\n",[373,429,431,433,436,438,440,442,445],{"class":375,"line":430},6,[373,432,406],{"class":399},[373,434,435],{"class":409},"password",[373,437,413],{"class":399},[373,439,345],{"class":399},[373,441,418],{"class":399},[373,443,444],{"class":421},"admin123",[373,446,447],{"class":399},"\"\n",[373,449,451],{"class":375,"line":450},7,[373,452,453],{"class":399},"}\n",[113,455,456,345],{},[116,457,458],{},"登录响应",[297,460,462],{"className":367,"code":461,"language":369,"meta":305,"style":305},"{\n  \"success\": true,\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"tokenType\": \"Bearer\",\n    \"expiresIn\": 3600\n  }\n}\n",[227,463,464,468,482,496,518,537,557,572,578],{"__ignoreMap":305},[373,465,466],{"class":375,"line":376},[373,467,400],{"class":399},[373,469,470,472,475,477,479],{"class":375,"line":383},[373,471,406],{"class":399},[373,473,474],{"class":409},"success",[373,476,413],{"class":399},[373,478,345],{"class":399},[373,480,481],{"class":399}," true,\n",[373,483,484,486,489,491,493],{"class":375,"line":389},[373,485,406],{"class":399},[373,487,488],{"class":409},"data",[373,490,413],{"class":399},[373,492,345],{"class":399},[373,494,495],{"class":399}," {\n",[373,497,498,501,505,507,509,511,514,516],{"class":375,"line":396},[373,499,500],{"class":399},"    \"",[373,502,504],{"class":503},"sBMFI","accessToken",[373,506,413],{"class":399},[373,508,345],{"class":399},[373,510,418],{"class":399},[373,512,513],{"class":421},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",[373,515,413],{"class":399},[373,517,427],{"class":399},[373,519,520,522,525,527,529,531,533,535],{"class":375,"line":403},[373,521,500],{"class":399},[373,523,524],{"class":503},"refreshToken",[373,526,413],{"class":399},[373,528,345],{"class":399},[373,530,418],{"class":399},[373,532,513],{"class":421},[373,534,413],{"class":399},[373,536,427],{"class":399},[373,538,539,541,544,546,548,550,553,555],{"class":375,"line":430},[373,540,500],{"class":399},[373,542,543],{"class":503},"tokenType",[373,545,413],{"class":399},[373,547,345],{"class":399},[373,549,418],{"class":399},[373,551,552],{"class":421},"Bearer",[373,554,413],{"class":399},[373,556,427],{"class":399},[373,558,559,561,564,566,568],{"class":375,"line":450},[373,560,500],{"class":399},[373,562,563],{"class":503},"expiresIn",[373,565,413],{"class":399},[373,567,345],{"class":399},[373,569,571],{"class":570},"sbssI"," 3600\n",[373,573,575],{"class":375,"line":574},8,[373,576,577],{"class":399},"  }\n",[373,579,581],{"class":375,"line":580},9,[373,582,453],{"class":399},[129,584,586],{"id":585},"_42-令牌验证","4.2 令牌验证",[113,588,589,591],{},[116,590,338],{},": 验证 JWT 令牌的有效性。",[113,593,594,345],{},[116,595,344],{},[134,597,598,601,604,607],{},[137,599,600],{},"签名验证：验证令牌的签名是否有效",[137,602,603],{},"过期验证：检查令牌是否过期",[137,605,606],{},"黑名单验证：检查令牌是否在黑名单中",[137,608,609],{},"权限验证：验证用户是否拥有访问权限",[113,611,612,345],{},[116,613,614],{},"实现代码",[297,616,620],{"className":617,"code":618,"language":619,"meta":305,"style":305},"language-java shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","@Component\npublic class JwtProvider {\n    \n    @Value(\"${jwt.secret}\")\n    private String secret;\n    \n    @Value(\"${jwt.expiration}\")\n    private long expiration;\n    \n    public Claims getClaimsFromToken(String token) {\n        return Jwts.parserBuilder()\n                .setSigningKey(secret.getBytes(StandardCharsets.UTF_8))\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n    \n    public boolean validateToken(String token) {\n        try {\n            getClaimsFromToken(token);\n            return !isTokenExpired(token);\n        } catch (SignatureException | MalformedJwtException | ExpiredJwtException | UnsupportedJwtException | IllegalArgumentException ex) {\n            return false;\n        }\n    }\n    \n    private boolean isTokenExpired(String token) {\n        Claims claims = getClaimsFromToken(token);\n        Date expirationDate = claims.getExpiration();\n        return expirationDate.before(new Date());\n    }\n}\n","java",[227,621,622,630,643,648,669,683,687,704,716,720,747,766,798,808,823,834,840,845,866,874,887,905,948,956,962,967,972,992,1012,1033,1057,1062],{"__ignoreMap":305},[373,623,624,627],{"class":375,"line":376},[373,625,626],{"class":399},"@",[373,628,629],{"class":409},"Component\n",[373,631,632,635,638,641],{"class":375,"line":383},[373,633,634],{"class":409},"public",[373,636,637],{"class":409}," class",[373,639,640],{"class":503}," JwtProvider",[373,642,495],{"class":399},[373,644,645],{"class":375,"line":389},[373,646,647],{"class":379},"    \n",[373,649,650,653,656,659,661,664,666],{"class":375,"line":396},[373,651,652],{"class":399},"    @",[373,654,655],{"class":409},"Value",[373,657,658],{"class":399},"(",[373,660,413],{"class":399},[373,662,663],{"class":421},"${jwt.secret}",[373,665,413],{"class":399},[373,667,668],{"class":399},")\n",[373,670,671,674,677,680],{"class":375,"line":403},[373,672,673],{"class":409},"    private",[373,675,676],{"class":409}," String",[373,678,679],{"class":379}," secret",[373,681,682],{"class":399},";\n",[373,684,685],{"class":375,"line":430},[373,686,647],{"class":379},[373,688,689,691,693,695,697,700,702],{"class":375,"line":450},[373,690,652],{"class":399},[373,692,655],{"class":409},[373,694,658],{"class":399},[373,696,413],{"class":399},[373,698,699],{"class":421},"${jwt.expiration}",[373,701,413],{"class":399},[373,703,668],{"class":399},[373,705,706,708,711,714],{"class":375,"line":574},[373,707,673],{"class":409},[373,709,710],{"class":409}," long",[373,712,713],{"class":379}," expiration",[373,715,682],{"class":399},[373,717,718],{"class":375,"line":580},[373,719,647],{"class":379},[373,721,723,726,729,733,735,738,742,745],{"class":375,"line":722},10,[373,724,725],{"class":409},"    public",[373,727,728],{"class":409}," Claims",[373,730,732],{"class":731},"s2Zo4"," getClaimsFromToken",[373,734,658],{"class":399},[373,736,737],{"class":409},"String",[373,739,741],{"class":740},"sHdIc"," token",[373,743,744],{"class":399},")",[373,746,495],{"class":399},[373,748,750,754,757,760,763],{"class":375,"line":749},11,[373,751,753],{"class":752},"s7zQu","        return",[373,755,756],{"class":379}," Jwts",[373,758,759],{"class":399},".",[373,761,762],{"class":731},"parserBuilder",[373,764,765],{"class":399},"()\n",[373,767,769,772,775,777,780,782,785,787,790,792,795],{"class":375,"line":768},12,[373,770,771],{"class":399},"                .",[373,773,774],{"class":731},"setSigningKey",[373,776,658],{"class":399},[373,778,779],{"class":379},"secret",[373,781,759],{"class":399},[373,783,784],{"class":731},"getBytes",[373,786,658],{"class":399},[373,788,789],{"class":379},"StandardCharsets",[373,791,759],{"class":399},[373,793,794],{"class":379},"UTF_8",[373,796,797],{"class":399},"))\n",[373,799,801,803,806],{"class":375,"line":800},13,[373,802,771],{"class":399},[373,804,805],{"class":731},"build",[373,807,765],{"class":399},[373,809,811,813,816,818,821],{"class":375,"line":810},14,[373,812,771],{"class":399},[373,814,815],{"class":731},"parseClaimsJws",[373,817,658],{"class":399},[373,819,820],{"class":379},"token",[373,822,668],{"class":399},[373,824,826,828,831],{"class":375,"line":825},15,[373,827,771],{"class":399},[373,829,830],{"class":731},"getBody",[373,832,833],{"class":399},"();\n",[373,835,837],{"class":375,"line":836},16,[373,838,839],{"class":399},"    }\n",[373,841,843],{"class":375,"line":842},17,[373,844,647],{"class":379},[373,846,848,850,853,856,858,860,862,864],{"class":375,"line":847},18,[373,849,725],{"class":409},[373,851,852],{"class":409}," boolean",[373,854,855],{"class":731}," validateToken",[373,857,658],{"class":399},[373,859,737],{"class":409},[373,861,741],{"class":740},[373,863,744],{"class":399},[373,865,495],{"class":399},[373,867,869,872],{"class":375,"line":868},19,[373,870,871],{"class":752},"        try",[373,873,495],{"class":399},[373,875,877,880,882,884],{"class":375,"line":876},20,[373,878,879],{"class":731},"            getClaimsFromToken",[373,881,658],{"class":399},[373,883,820],{"class":379},[373,885,886],{"class":399},");\n",[373,888,890,893,896,899,901,903],{"class":375,"line":889},21,[373,891,892],{"class":752},"            return",[373,894,895],{"class":399}," !",[373,897,898],{"class":731},"isTokenExpired",[373,900,658],{"class":399},[373,902,820],{"class":379},[373,904,886],{"class":399},[373,906,908,911,914,917,920,923,926,928,931,933,936,938,941,944,946],{"class":375,"line":907},22,[373,909,910],{"class":399},"        }",[373,912,913],{"class":752}," catch",[373,915,916],{"class":399}," (",[373,918,919],{"class":409},"SignatureException",[373,921,922],{"class":399}," |",[373,924,925],{"class":409}," MalformedJwtException",[373,927,922],{"class":399},[373,929,930],{"class":409}," ExpiredJwtException",[373,932,922],{"class":399},[373,934,935],{"class":409}," UnsupportedJwtException",[373,937,922],{"class":399},[373,939,940],{"class":409}," IllegalArgumentException",[373,942,943],{"class":740}," ex",[373,945,744],{"class":399},[373,947,495],{"class":399},[373,949,951,953],{"class":375,"line":950},23,[373,952,892],{"class":752},[373,954,955],{"class":399}," false;\n",[373,957,959],{"class":375,"line":958},24,[373,960,961],{"class":399},"        }\n",[373,963,965],{"class":375,"line":964},25,[373,966,839],{"class":399},[373,968,970],{"class":375,"line":969},26,[373,971,647],{"class":379},[373,973,975,977,979,982,984,986,988,990],{"class":375,"line":974},27,[373,976,673],{"class":409},[373,978,852],{"class":409},[373,980,981],{"class":731}," isTokenExpired",[373,983,658],{"class":399},[373,985,737],{"class":409},[373,987,741],{"class":740},[373,989,744],{"class":399},[373,991,495],{"class":399},[373,993,995,998,1001,1004,1006,1008,1010],{"class":375,"line":994},28,[373,996,997],{"class":409},"        Claims",[373,999,1000],{"class":379}," claims ",[373,1002,1003],{"class":399},"=",[373,1005,732],{"class":731},[373,1007,658],{"class":399},[373,1009,820],{"class":379},[373,1011,886],{"class":399},[373,1013,1015,1018,1021,1023,1026,1028,1031],{"class":375,"line":1014},29,[373,1016,1017],{"class":409},"        Date",[373,1019,1020],{"class":379}," expirationDate ",[373,1022,1003],{"class":399},[373,1024,1025],{"class":379}," claims",[373,1027,759],{"class":399},[373,1029,1030],{"class":731},"getExpiration",[373,1032,833],{"class":399},[373,1034,1036,1038,1041,1043,1046,1048,1051,1054],{"class":375,"line":1035},30,[373,1037,753],{"class":752},[373,1039,1040],{"class":379}," expirationDate",[373,1042,759],{"class":399},[373,1044,1045],{"class":731},"before",[373,1047,658],{"class":399},[373,1049,1050],{"class":752},"new",[373,1052,1053],{"class":731}," Date",[373,1055,1056],{"class":399},"());\n",[373,1058,1060],{"class":375,"line":1059},31,[373,1061,839],{"class":399},[373,1063,1065],{"class":375,"line":1064},32,[373,1066,453],{"class":399},[129,1068,1070],{"id":1069},"_43-令牌刷新","4.3 令牌刷新",[113,1072,1073,1075],{},[116,1074,338],{},": 使用刷新令牌生成新的访问令牌。",[113,1077,1078,345],{},[116,1079,344],{},[134,1081,1082,1085,1088,1091],{},[137,1083,1084],{},"刷新令牌验证：验证刷新令牌的有效性",[137,1086,1087],{},"生成新令牌：生成新的访问令牌",[137,1089,1090],{},"更新令牌信息：更新 Redis 中的令牌信息",[137,1092,1093],{},"过期旧令牌：将旧令牌加入黑名单",[113,1095,1096,345],{},[116,1097,1098],{},"刷新请求",[297,1100,1102],{"className":367,"code":1101,"language":369,"meta":305,"style":305},"POST /auth/refresh\nContent-Type: application/json\n\n{\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n",[227,1103,1104,1109,1113,1117,1121,1137],{"__ignoreMap":305},[373,1105,1106],{"class":375,"line":376},[373,1107,1108],{"class":379},"POST /auth/refresh\n",[373,1110,1111],{"class":375,"line":383},[373,1112,386],{"class":379},[373,1114,1115],{"class":375,"line":389},[373,1116,393],{"emptyLinePlaceholder":392},[373,1118,1119],{"class":375,"line":396},[373,1120,400],{"class":399},[373,1122,1123,1125,1127,1129,1131,1133,1135],{"class":375,"line":403},[373,1124,406],{"class":399},[373,1126,524],{"class":409},[373,1128,413],{"class":399},[373,1130,345],{"class":399},[373,1132,418],{"class":399},[373,1134,513],{"class":421},[373,1136,447],{"class":399},[373,1138,1139],{"class":375,"line":430},[373,1140,453],{"class":399},[129,1142,1144],{"id":1143},"_44-用户登出","4.4 用户登出",[113,1146,1147,1149],{},[116,1148,338],{},": 退出登录并使令牌失效。",[113,1151,1152,345],{},[116,1153,344],{},[134,1155,1156,1159,1162],{},[137,1157,1158],{},"令牌黑名单：将令牌加入黑名单",[137,1160,1161],{},"清除缓存：清除用户相关缓存",[137,1163,1164],{},"会话失效：使当前会话失效",[113,1166,1167,345],{},[116,1168,1169],{},"登出请求",[297,1171,1173],{"className":367,"code":1172,"language":369,"meta":305,"style":305},"POST /auth/logout\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n",[227,1174,1175,1180],{"__ignoreMap":305},[373,1176,1177],{"class":375,"line":376},[373,1178,1179],{"class":379},"POST /auth/logout\n",[373,1181,1182,1185,1188,1191,1194,1197,1200,1203,1206],{"class":375,"line":383},[373,1183,1184],{"class":379},"Authorization: Bearer eyJhbGciOiJIUzI",[373,1186,1187],{"class":570},"1",[373,1189,1190],{"class":379},"NiIsInR",[373,1192,1193],{"class":570},"5",[373,1195,1196],{"class":379},"cCI",[373,1198,1199],{"class":570},"6",[373,1201,1202],{"class":379},"IkpXVCJ",[373,1204,1205],{"class":570},"9",[373,1207,1208],{"class":379},"...\n",[121,1210,1212],{"id":1211},"_5-核心代码结构","5. 核心代码结构",[129,1214,1216],{"id":1215},"_51-后端代码结构","5.1 后端代码结构",[297,1218,1221],{"className":1219,"code":1220,"language":302},[300],"tagtag-module-auth\n└── src\n    └── main\n        ├── java\n        │   └── dev\n        │       └── tagtag\n        │           └── module\n        │               └── auth\n        │                   ├── controller\n        │                   │   └── AuthController.java\n        │                   ├── entity\n        │                   │   └── AuthUser.java\n        │                   ├── service\n        │                   │   ├── AuthService.java\n        │                   │   └── impl\n        │                   │       └── AuthServiceImpl.java\n        │                   ├── util\n        │                   │   ├── JwtUtil.java\n        │                   │   └── PasswordUtil.java\n        │                   └── vo\n        │                       ├── LoginRequest.java\n        │                       ├── LoginResponse.java\n        │                       └── RefreshTokenRequest.java\n        └── resources\n            └── db\n                ├── schema.sql\n                └── data\n                    └── init.sql\n",[227,1222,1220],{"__ignoreMap":305},[129,1224,1226],{"id":1225},"_52-前端代码结构","5.2 前端代码结构",[297,1228,1231],{"className":1229,"code":1230,"language":302},[300],"frontend/apps/tagtag/src/api/core\n├── auth.ts       # 认证相关 API\n├── captcha.ts    # 验证码相关 API\n└── index.ts      # API 入口\n",[227,1232,1230],{"__ignoreMap":305},[121,1234,1236],{"id":1235},"_6-前端实现","6. 前端实现",[129,1238,1240],{"id":1239},"_61-登录页面","6.1 登录页面",[113,1242,1243,1245],{},[116,1244,338],{},": 提供用户登录界面，支持用户名密码登录和验证码登录。",[113,1247,1248,345],{},[116,1249,344],{},[134,1251,1252,1255,1258,1261],{},[137,1253,1254],{},"表单验证：验证用户名和密码格式",[137,1256,1257],{},"验证码支持：防止暴力破解",[137,1259,1260],{},"记住密码：可选功能，使用 localStorage 存储",[137,1262,1263],{},"登录状态管理：使用 Pinia 管理登录状态",[113,1265,1266,345],{},[116,1267,1268],{},"代码示例",[297,1270,1274],{"className":1271,"code":1272,"language":1273,"meta":305,"style":305},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup lang=\"ts\">\nimport { ref, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useAuthStore } from '@/store/auth';\nimport { loginApi } from '@/api/core/auth';\n\nconst router = useRouter();\nconst authStore = useAuthStore();\n\nconst formData = reactive({\n  username: '',\n  password: '',\n  captcha: '',\n  rememberMe: false\n});\n\nconst loading = ref(false);\n\nasync function handleLogin() {\n  try {\n    loading.value = true;\n    const result = await loginApi(formData);\n    authStore.setToken(result.accessToken);\n    router.push('/');\n  } catch (error) {\n    console.error('登录失败:', error);\n  } finally {\n    loading.value = false;\n  }\n}\n\u003C/script>\n\n\u003Ctemplate>\n  \u003Cdiv class=\"login-container\">\n    \u003Cdiv class=\"login-form\">\n      \u003Ch2>Tagtag Starter 登录\u003C/h2>\n      \u003CForm :model=\"formData\" @submit.prevent=\"handleLogin\">\n        \u003CFormItem label=\"用户名\" required>\n          \u003CInput v-model:value=\"formData.username\" placeholder=\"请输入用户名\" />\n        \u003C/FormItem>\n        \u003CFormItem label=\"密码\" required>\n          \u003CInput.Password v-model:value=\"formData.password\" placeholder=\"请输入密码\" />\n        \u003C/FormItem>\n        \u003CFormItem label=\"验证码\" required>\n          \u003CInput v-model:value=\"formData.captcha\" placeholder=\"请输入验证码\" />\n          \u003Cimg class=\"captcha-img\" src=\"/api/captcha\" @click=\"refreshCaptcha\" />\n        \u003C/FormItem>\n        \u003CFormItem>\n          \u003CCheckbox v-model:checked=\"formData.rememberMe\">记住密码\u003C/Checkbox>\n        \u003C/FormItem>\n        \u003CFormItem>\n          \u003CButton type=\"primary\" html-type=\"submit\" :loading=\"loading\" block>\n            登录\n          \u003C/Button>\n        \u003C/FormItem>\n      \u003C/Form>\n    \u003C/div>\n  \u003C/div>\n\u003C/template>\n","vue",[227,1275,1276,1303,1336,1358,1380,1402,1406,1423,1438,1442,1457,1469,1480,1491,1502,1511,1515,1535,1539,1554,1561,1579,1603,1626,1649,1666,1693,1702,1717,1721,1725,1734,1738,1748,1770,1791,1811,1844,1870,1906,1916,1938,1970,1979,2001,2032,2077,2086,2095,2126,2135,2144,2193,2199,2209,2218,2228,2238,2248],{"__ignoreMap":305},[373,1277,1278,1281,1285,1288,1291,1293,1295,1298,1300],{"class":375,"line":376},[373,1279,1280],{"class":399},"\u003C",[373,1282,1284],{"class":1283},"swJcz","script",[373,1286,1287],{"class":409}," setup",[373,1289,1290],{"class":409}," lang",[373,1292,1003],{"class":399},[373,1294,413],{"class":399},[373,1296,1297],{"class":421},"ts",[373,1299,413],{"class":399},[373,1301,1302],{"class":399},">\n",[373,1304,1305,1308,1311,1314,1317,1320,1323,1326,1329,1331,1334],{"class":375,"line":383},[373,1306,1307],{"class":752},"import",[373,1309,1310],{"class":399}," {",[373,1312,1313],{"class":379}," ref",[373,1315,1316],{"class":399},",",[373,1318,1319],{"class":379}," reactive",[373,1321,1322],{"class":399}," }",[373,1324,1325],{"class":752}," from",[373,1327,1328],{"class":399}," '",[373,1330,1273],{"class":421},[373,1332,1333],{"class":399},"'",[373,1335,682],{"class":399},[373,1337,1338,1340,1342,1345,1347,1349,1351,1354,1356],{"class":375,"line":389},[373,1339,1307],{"class":752},[373,1341,1310],{"class":399},[373,1343,1344],{"class":379}," useRouter",[373,1346,1322],{"class":399},[373,1348,1325],{"class":752},[373,1350,1328],{"class":399},[373,1352,1353],{"class":421},"vue-router",[373,1355,1333],{"class":399},[373,1357,682],{"class":399},[373,1359,1360,1362,1364,1367,1369,1371,1373,1376,1378],{"class":375,"line":396},[373,1361,1307],{"class":752},[373,1363,1310],{"class":399},[373,1365,1366],{"class":379}," useAuthStore",[373,1368,1322],{"class":399},[373,1370,1325],{"class":752},[373,1372,1328],{"class":399},[373,1374,1375],{"class":421},"@/store/auth",[373,1377,1333],{"class":399},[373,1379,682],{"class":399},[373,1381,1382,1384,1386,1389,1391,1393,1395,1398,1400],{"class":375,"line":403},[373,1383,1307],{"class":752},[373,1385,1310],{"class":399},[373,1387,1388],{"class":379}," loginApi",[373,1390,1322],{"class":399},[373,1392,1325],{"class":752},[373,1394,1328],{"class":399},[373,1396,1397],{"class":421},"@/api/core/auth",[373,1399,1333],{"class":399},[373,1401,682],{"class":399},[373,1403,1404],{"class":375,"line":430},[373,1405,393],{"emptyLinePlaceholder":392},[373,1407,1408,1411,1414,1416,1418,1421],{"class":375,"line":450},[373,1409,1410],{"class":409},"const",[373,1412,1413],{"class":379}," router ",[373,1415,1003],{"class":399},[373,1417,1344],{"class":731},[373,1419,1420],{"class":379},"()",[373,1422,682],{"class":399},[373,1424,1425,1427,1430,1432,1434,1436],{"class":375,"line":574},[373,1426,1410],{"class":409},[373,1428,1429],{"class":379}," authStore ",[373,1431,1003],{"class":399},[373,1433,1366],{"class":731},[373,1435,1420],{"class":379},[373,1437,682],{"class":399},[373,1439,1440],{"class":375,"line":580},[373,1441,393],{"emptyLinePlaceholder":392},[373,1443,1444,1446,1449,1451,1453,1455],{"class":375,"line":722},[373,1445,1410],{"class":409},[373,1447,1448],{"class":379}," formData ",[373,1450,1003],{"class":399},[373,1452,1319],{"class":731},[373,1454,658],{"class":379},[373,1456,400],{"class":399},[373,1458,1459,1462,1464,1467],{"class":375,"line":749},[373,1460,1461],{"class":1283},"  username",[373,1463,345],{"class":399},[373,1465,1466],{"class":399}," ''",[373,1468,427],{"class":399},[373,1470,1471,1474,1476,1478],{"class":375,"line":768},[373,1472,1473],{"class":1283},"  password",[373,1475,345],{"class":399},[373,1477,1466],{"class":399},[373,1479,427],{"class":399},[373,1481,1482,1485,1487,1489],{"class":375,"line":800},[373,1483,1484],{"class":1283},"  captcha",[373,1486,345],{"class":399},[373,1488,1466],{"class":399},[373,1490,427],{"class":399},[373,1492,1493,1496,1498],{"class":375,"line":810},[373,1494,1495],{"class":1283},"  rememberMe",[373,1497,345],{"class":399},[373,1499,1501],{"class":1500},"sfNiH"," false\n",[373,1503,1504,1507,1509],{"class":375,"line":825},[373,1505,1506],{"class":399},"}",[373,1508,744],{"class":379},[373,1510,682],{"class":399},[373,1512,1513],{"class":375,"line":836},[373,1514,393],{"emptyLinePlaceholder":392},[373,1516,1517,1519,1522,1524,1526,1528,1531,1533],{"class":375,"line":842},[373,1518,1410],{"class":409},[373,1520,1521],{"class":379}," loading ",[373,1523,1003],{"class":399},[373,1525,1313],{"class":731},[373,1527,658],{"class":379},[373,1529,1530],{"class":1500},"false",[373,1532,744],{"class":379},[373,1534,682],{"class":399},[373,1536,1537],{"class":375,"line":847},[373,1538,393],{"emptyLinePlaceholder":392},[373,1540,1541,1544,1547,1550,1552],{"class":375,"line":868},[373,1542,1543],{"class":409},"async",[373,1545,1546],{"class":409}," function",[373,1548,1549],{"class":731}," handleLogin",[373,1551,1420],{"class":399},[373,1553,495],{"class":399},[373,1555,1556,1559],{"class":375,"line":876},[373,1557,1558],{"class":752},"  try",[373,1560,495],{"class":399},[373,1562,1563,1566,1568,1571,1574,1577],{"class":375,"line":889},[373,1564,1565],{"class":379},"    loading",[373,1567,759],{"class":399},[373,1569,1570],{"class":379},"value",[373,1572,1573],{"class":399}," =",[373,1575,1576],{"class":1500}," true",[373,1578,682],{"class":399},[373,1580,1581,1584,1587,1589,1592,1594,1596,1599,1601],{"class":375,"line":907},[373,1582,1583],{"class":409},"    const",[373,1585,1586],{"class":379}," result",[373,1588,1573],{"class":399},[373,1590,1591],{"class":752}," await",[373,1593,1388],{"class":731},[373,1595,658],{"class":1283},[373,1597,1598],{"class":379},"formData",[373,1600,744],{"class":1283},[373,1602,682],{"class":399},[373,1604,1605,1608,1610,1613,1615,1618,1620,1622,1624],{"class":375,"line":950},[373,1606,1607],{"class":379},"    authStore",[373,1609,759],{"class":399},[373,1611,1612],{"class":731},"setToken",[373,1614,658],{"class":1283},[373,1616,1617],{"class":379},"result",[373,1619,759],{"class":399},[373,1621,504],{"class":379},[373,1623,744],{"class":1283},[373,1625,682],{"class":399},[373,1627,1628,1631,1633,1636,1638,1640,1643,1645,1647],{"class":375,"line":958},[373,1629,1630],{"class":379},"    router",[373,1632,759],{"class":399},[373,1634,1635],{"class":731},"push",[373,1637,658],{"class":1283},[373,1639,1333],{"class":399},[373,1641,1642],{"class":421},"/",[373,1644,1333],{"class":399},[373,1646,744],{"class":1283},[373,1648,682],{"class":399},[373,1650,1651,1654,1656,1658,1661,1664],{"class":375,"line":964},[373,1652,1653],{"class":399},"  }",[373,1655,913],{"class":752},[373,1657,916],{"class":1283},[373,1659,1660],{"class":379},"error",[373,1662,1663],{"class":1283},") ",[373,1665,400],{"class":399},[373,1667,1668,1671,1673,1675,1677,1679,1682,1684,1686,1689,1691],{"class":375,"line":969},[373,1669,1670],{"class":379},"    console",[373,1672,759],{"class":399},[373,1674,1660],{"class":731},[373,1676,658],{"class":1283},[373,1678,1333],{"class":399},[373,1680,1681],{"class":421},"登录失败:",[373,1683,1333],{"class":399},[373,1685,1316],{"class":399},[373,1687,1688],{"class":379}," error",[373,1690,744],{"class":1283},[373,1692,682],{"class":399},[373,1694,1695,1697,1700],{"class":375,"line":974},[373,1696,1653],{"class":399},[373,1698,1699],{"class":752}," finally",[373,1701,495],{"class":399},[373,1703,1704,1706,1708,1710,1712,1715],{"class":375,"line":994},[373,1705,1565],{"class":379},[373,1707,759],{"class":399},[373,1709,1570],{"class":379},[373,1711,1573],{"class":399},[373,1713,1714],{"class":1500}," false",[373,1716,682],{"class":399},[373,1718,1719],{"class":375,"line":1014},[373,1720,577],{"class":399},[373,1722,1723],{"class":375,"line":1035},[373,1724,453],{"class":399},[373,1726,1727,1730,1732],{"class":375,"line":1059},[373,1728,1729],{"class":399},"\u003C/",[373,1731,1284],{"class":1283},[373,1733,1302],{"class":399},[373,1735,1736],{"class":375,"line":1064},[373,1737,393],{"emptyLinePlaceholder":392},[373,1739,1741,1743,1746],{"class":375,"line":1740},33,[373,1742,1280],{"class":399},[373,1744,1745],{"class":1283},"template",[373,1747,1302],{"class":399},[373,1749,1751,1754,1757,1759,1761,1763,1766,1768],{"class":375,"line":1750},34,[373,1752,1753],{"class":399},"  \u003C",[373,1755,1756],{"class":1283},"div",[373,1758,637],{"class":409},[373,1760,1003],{"class":399},[373,1762,413],{"class":399},[373,1764,1765],{"class":421},"login-container",[373,1767,413],{"class":399},[373,1769,1302],{"class":399},[373,1771,1773,1776,1778,1780,1782,1784,1787,1789],{"class":375,"line":1772},35,[373,1774,1775],{"class":399},"    \u003C",[373,1777,1756],{"class":1283},[373,1779,637],{"class":409},[373,1781,1003],{"class":399},[373,1783,413],{"class":399},[373,1785,1786],{"class":421},"login-form",[373,1788,413],{"class":399},[373,1790,1302],{"class":399},[373,1792,1794,1797,1799,1802,1805,1807,1809],{"class":375,"line":1793},36,[373,1795,1796],{"class":399},"      \u003C",[373,1798,121],{"class":1283},[373,1800,1801],{"class":399},">",[373,1803,1804],{"class":379},"Tagtag Starter 登录",[373,1806,1729],{"class":399},[373,1808,121],{"class":1283},[373,1810,1302],{"class":399},[373,1812,1814,1816,1819,1822,1824,1826,1828,1830,1833,1835,1837,1840,1842],{"class":375,"line":1813},37,[373,1815,1796],{"class":399},[373,1817,1818],{"class":1283},"Form",[373,1820,1821],{"class":409}," :model",[373,1823,1003],{"class":399},[373,1825,413],{"class":399},[373,1827,1598],{"class":421},[373,1829,413],{"class":399},[373,1831,1832],{"class":409}," @submit.prevent",[373,1834,1003],{"class":399},[373,1836,413],{"class":399},[373,1838,1839],{"class":421},"handleLogin",[373,1841,413],{"class":399},[373,1843,1302],{"class":399},[373,1845,1847,1850,1853,1856,1858,1860,1863,1865,1868],{"class":375,"line":1846},38,[373,1848,1849],{"class":399},"        \u003C",[373,1851,1852],{"class":1283},"FormItem",[373,1854,1855],{"class":409}," label",[373,1857,1003],{"class":399},[373,1859,413],{"class":399},[373,1861,1862],{"class":421},"用户名",[373,1864,413],{"class":399},[373,1866,1867],{"class":409}," required",[373,1869,1302],{"class":399},[373,1871,1873,1876,1879,1882,1884,1886,1889,1891,1894,1896,1898,1901,1903],{"class":375,"line":1872},39,[373,1874,1875],{"class":399},"          \u003C",[373,1877,1878],{"class":1283},"Input",[373,1880,1881],{"class":409}," v-model:value",[373,1883,1003],{"class":399},[373,1885,413],{"class":399},[373,1887,1888],{"class":421},"formData.username",[373,1890,413],{"class":399},[373,1892,1893],{"class":409}," placeholder",[373,1895,1003],{"class":399},[373,1897,413],{"class":399},[373,1899,1900],{"class":421},"请输入用户名",[373,1902,413],{"class":399},[373,1904,1905],{"class":399}," />\n",[373,1907,1909,1912,1914],{"class":375,"line":1908},40,[373,1910,1911],{"class":399},"        \u003C/",[373,1913,1852],{"class":1283},[373,1915,1302],{"class":399},[373,1917,1919,1921,1923,1925,1927,1929,1932,1934,1936],{"class":375,"line":1918},41,[373,1920,1849],{"class":399},[373,1922,1852],{"class":1283},[373,1924,1855],{"class":409},[373,1926,1003],{"class":399},[373,1928,413],{"class":399},[373,1930,1931],{"class":421},"密码",[373,1933,413],{"class":399},[373,1935,1867],{"class":409},[373,1937,1302],{"class":399},[373,1939,1941,1943,1946,1948,1950,1952,1955,1957,1959,1961,1963,1966,1968],{"class":375,"line":1940},42,[373,1942,1875],{"class":399},[373,1944,1945],{"class":1283},"Input.Password",[373,1947,1881],{"class":409},[373,1949,1003],{"class":399},[373,1951,413],{"class":399},[373,1953,1954],{"class":421},"formData.password",[373,1956,413],{"class":399},[373,1958,1893],{"class":409},[373,1960,1003],{"class":399},[373,1962,413],{"class":399},[373,1964,1965],{"class":421},"请输入密码",[373,1967,413],{"class":399},[373,1969,1905],{"class":399},[373,1971,1973,1975,1977],{"class":375,"line":1972},43,[373,1974,1911],{"class":399},[373,1976,1852],{"class":1283},[373,1978,1302],{"class":399},[373,1980,1982,1984,1986,1988,1990,1992,1995,1997,1999],{"class":375,"line":1981},44,[373,1983,1849],{"class":399},[373,1985,1852],{"class":1283},[373,1987,1855],{"class":409},[373,1989,1003],{"class":399},[373,1991,413],{"class":399},[373,1993,1994],{"class":421},"验证码",[373,1996,413],{"class":399},[373,1998,1867],{"class":409},[373,2000,1302],{"class":399},[373,2002,2004,2006,2008,2010,2012,2014,2017,2019,2021,2023,2025,2028,2030],{"class":375,"line":2003},45,[373,2005,1875],{"class":399},[373,2007,1878],{"class":1283},[373,2009,1881],{"class":409},[373,2011,1003],{"class":399},[373,2013,413],{"class":399},[373,2015,2016],{"class":421},"formData.captcha",[373,2018,413],{"class":399},[373,2020,1893],{"class":409},[373,2022,1003],{"class":399},[373,2024,413],{"class":399},[373,2026,2027],{"class":421},"请输入验证码",[373,2029,413],{"class":399},[373,2031,1905],{"class":399},[373,2033,2035,2037,2040,2042,2044,2046,2049,2051,2054,2056,2058,2061,2063,2066,2068,2070,2073,2075],{"class":375,"line":2034},46,[373,2036,1875],{"class":399},[373,2038,2039],{"class":1283},"img",[373,2041,637],{"class":409},[373,2043,1003],{"class":399},[373,2045,413],{"class":399},[373,2047,2048],{"class":421},"captcha-img",[373,2050,413],{"class":399},[373,2052,2053],{"class":409}," src",[373,2055,1003],{"class":399},[373,2057,413],{"class":399},[373,2059,2060],{"class":421},"/api/captcha",[373,2062,413],{"class":399},[373,2064,2065],{"class":409}," @click",[373,2067,1003],{"class":399},[373,2069,413],{"class":399},[373,2071,2072],{"class":421},"refreshCaptcha",[373,2074,413],{"class":399},[373,2076,1905],{"class":399},[373,2078,2080,2082,2084],{"class":375,"line":2079},47,[373,2081,1911],{"class":399},[373,2083,1852],{"class":1283},[373,2085,1302],{"class":399},[373,2087,2089,2091,2093],{"class":375,"line":2088},48,[373,2090,1849],{"class":399},[373,2092,1852],{"class":1283},[373,2094,1302],{"class":399},[373,2096,2098,2100,2103,2106,2108,2110,2113,2115,2117,2120,2122,2124],{"class":375,"line":2097},49,[373,2099,1875],{"class":399},[373,2101,2102],{"class":1283},"Checkbox",[373,2104,2105],{"class":409}," v-model:checked",[373,2107,1003],{"class":399},[373,2109,413],{"class":399},[373,2111,2112],{"class":421},"formData.rememberMe",[373,2114,413],{"class":399},[373,2116,1801],{"class":399},[373,2118,2119],{"class":379},"记住密码",[373,2121,1729],{"class":399},[373,2123,2102],{"class":1283},[373,2125,1302],{"class":399},[373,2127,2129,2131,2133],{"class":375,"line":2128},50,[373,2130,1911],{"class":399},[373,2132,1852],{"class":1283},[373,2134,1302],{"class":399},[373,2136,2138,2140,2142],{"class":375,"line":2137},51,[373,2139,1849],{"class":399},[373,2141,1852],{"class":1283},[373,2143,1302],{"class":399},[373,2145,2147,2149,2152,2155,2157,2159,2162,2164,2167,2169,2171,2174,2176,2179,2181,2183,2186,2188,2191],{"class":375,"line":2146},52,[373,2148,1875],{"class":399},[373,2150,2151],{"class":1283},"Button",[373,2153,2154],{"class":409}," type",[373,2156,1003],{"class":399},[373,2158,413],{"class":399},[373,2160,2161],{"class":421},"primary",[373,2163,413],{"class":399},[373,2165,2166],{"class":409}," html-type",[373,2168,1003],{"class":399},[373,2170,413],{"class":399},[373,2172,2173],{"class":421},"submit",[373,2175,413],{"class":399},[373,2177,2178],{"class":409}," :loading",[373,2180,1003],{"class":399},[373,2182,413],{"class":399},[373,2184,2185],{"class":421},"loading",[373,2187,413],{"class":399},[373,2189,2190],{"class":409}," block",[373,2192,1302],{"class":399},[373,2194,2196],{"class":375,"line":2195},53,[373,2197,2198],{"class":379},"            登录\n",[373,2200,2202,2205,2207],{"class":375,"line":2201},54,[373,2203,2204],{"class":399},"          \u003C/",[373,2206,2151],{"class":1283},[373,2208,1302],{"class":399},[373,2210,2212,2214,2216],{"class":375,"line":2211},55,[373,2213,1911],{"class":399},[373,2215,1852],{"class":1283},[373,2217,1302],{"class":399},[373,2219,2221,2224,2226],{"class":375,"line":2220},56,[373,2222,2223],{"class":399},"      \u003C/",[373,2225,1818],{"class":1283},[373,2227,1302],{"class":399},[373,2229,2231,2234,2236],{"class":375,"line":2230},57,[373,2232,2233],{"class":399},"    \u003C/",[373,2235,1756],{"class":1283},[373,2237,1302],{"class":399},[373,2239,2241,2244,2246],{"class":375,"line":2240},58,[373,2242,2243],{"class":399},"  \u003C/",[373,2245,1756],{"class":1283},[373,2247,1302],{"class":399},[373,2249,2251,2253,2255],{"class":375,"line":2250},59,[373,2252,1729],{"class":399},[373,2254,1745],{"class":1283},[373,2256,1302],{"class":399},[129,2258,2260],{"id":2259},"_62-认证状态管理","6.2 认证状态管理",[113,2262,2263,2265],{},[116,2264,338],{},": 管理用户登录状态，包括令牌存储、用户信息存储和权限管理。",[113,2267,2268,345],{},[116,2269,344],{},[134,2271,2272,2275,2278,2281],{},[137,2273,2274],{},"令牌存储：使用 localStorage 或 cookie 存储令牌",[137,2276,2277],{},"用户信息缓存：缓存用户信息，减少请求次数",[137,2279,2280],{},"权限管理：根据用户权限控制菜单和按钮显示",[137,2282,2283],{},"自动刷新令牌：在令牌过期前自动刷新",[113,2285,2286,345],{},[116,2287,1268],{},[297,2289,2293],{"className":2290,"code":2291,"language":2292,"meta":305,"style":305},"language-typescript shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","import { defineStore } from 'pinia';\nimport { loginApi, logoutApi, refreshTokenApi } from '@/api/core/auth';\n\nexport const useAuthStore = defineStore('auth', {\n  state: () => ({\n    token: localStorage.getItem('token') || '',\n    refreshToken: localStorage.getItem('refreshToken') || '',\n    userInfo: JSON.parse(localStorage.getItem('userInfo') || 'null'),\n    permissions: JSON.parse(localStorage.getItem('permissions') || '[]'),\n    roles: JSON.parse(localStorage.getItem('roles') || '[]')\n  }),\n  actions: {\n    setToken(token: string) {\n      this.token = token;\n      localStorage.setItem('token', token);\n    },\n    setRefreshToken(refreshToken: string) {\n      this.refreshToken = refreshToken;\n      localStorage.setItem('refreshToken', refreshToken);\n    },\n    setUserInfo(userInfo: any) {\n      this.userInfo = userInfo;\n      this.permissions = userInfo.permissions || [];\n      this.roles = userInfo.roles || [];\n      localStorage.setItem('userInfo', JSON.stringify(userInfo));\n      localStorage.setItem('permissions', JSON.stringify(this.permissions));\n      localStorage.setItem('roles', JSON.stringify(this.roles));\n    },\n    async login(loginData: any) {\n      const result = await loginApi(loginData);\n      this.setToken(result.accessToken);\n      this.setRefreshToken(result.refreshToken);\n      return result;\n    },\n    async logout() {\n      await logoutApi();\n      this.clearAuth();\n    },\n    async refreshToken() {\n      const result = await refreshTokenApi({ refreshToken: this.refreshToken });\n      this.setToken(result.accessToken);\n      this.setRefreshToken(result.refreshToken);\n      return result;\n    },\n    clearAuth() {\n      this.token = '';\n      this.refreshToken = '';\n      this.userInfo = null;\n      this.permissions = [];\n      this.roles = [];\n      localStorage.removeItem('token');\n      localStorage.removeItem('refreshToken');\n      localStorage.removeItem('userInfo');\n      localStorage.removeItem('permissions');\n      localStorage.removeItem('roles');\n    }\n  }\n});\n","typescript",[227,2294,2295,2317,2347,2351,2379,2396,2428,2457,2503,2546,2586,2594,2603,2621,2634,2660,2665,2682,2695,2719,2723,2741,2754,2776,2796,2830,2865,2899,2903,2924,2945,2963,2982,2991,2995,3006,3017,3028,3032,3042,3074,3092,3110,3118,3122,3131,3143,3155,3166,3178,3190,3211,3231,3251,3271,3291,3295,3299],{"__ignoreMap":305},[373,2296,2297,2299,2301,2304,2306,2308,2310,2313,2315],{"class":375,"line":376},[373,2298,1307],{"class":752},[373,2300,1310],{"class":399},[373,2302,2303],{"class":379}," defineStore",[373,2305,1322],{"class":399},[373,2307,1325],{"class":752},[373,2309,1328],{"class":399},[373,2311,2312],{"class":421},"pinia",[373,2314,1333],{"class":399},[373,2316,682],{"class":399},[373,2318,2319,2321,2323,2325,2327,2330,2332,2335,2337,2339,2341,2343,2345],{"class":375,"line":383},[373,2320,1307],{"class":752},[373,2322,1310],{"class":399},[373,2324,1388],{"class":379},[373,2326,1316],{"class":399},[373,2328,2329],{"class":379}," logoutApi",[373,2331,1316],{"class":399},[373,2333,2334],{"class":379}," refreshTokenApi",[373,2336,1322],{"class":399},[373,2338,1325],{"class":752},[373,2340,1328],{"class":399},[373,2342,1397],{"class":421},[373,2344,1333],{"class":399},[373,2346,682],{"class":399},[373,2348,2349],{"class":375,"line":389},[373,2350,393],{"emptyLinePlaceholder":392},[373,2352,2353,2356,2359,2362,2364,2366,2368,2370,2373,2375,2377],{"class":375,"line":396},[373,2354,2355],{"class":752},"export",[373,2357,2358],{"class":409}," const",[373,2360,2361],{"class":379}," useAuthStore ",[373,2363,1003],{"class":399},[373,2365,2303],{"class":731},[373,2367,658],{"class":379},[373,2369,1333],{"class":399},[373,2371,2372],{"class":421},"auth",[373,2374,1333],{"class":399},[373,2376,1316],{"class":399},[373,2378,495],{"class":399},[373,2380,2381,2384,2386,2389,2392,2394],{"class":375,"line":403},[373,2382,2383],{"class":731},"  state",[373,2385,345],{"class":399},[373,2387,2388],{"class":399}," ()",[373,2390,2391],{"class":409}," =>",[373,2393,916],{"class":379},[373,2395,400],{"class":399},[373,2397,2398,2401,2403,2406,2408,2411,2413,2415,2417,2419,2421,2424,2426],{"class":375,"line":430},[373,2399,2400],{"class":1283},"    token",[373,2402,345],{"class":399},[373,2404,2405],{"class":379}," localStorage",[373,2407,759],{"class":399},[373,2409,2410],{"class":731},"getItem",[373,2412,658],{"class":379},[373,2414,1333],{"class":399},[373,2416,820],{"class":421},[373,2418,1333],{"class":399},[373,2420,1663],{"class":379},[373,2422,2423],{"class":399},"||",[373,2425,1466],{"class":399},[373,2427,427],{"class":399},[373,2429,2430,2433,2435,2437,2439,2441,2443,2445,2447,2449,2451,2453,2455],{"class":375,"line":450},[373,2431,2432],{"class":1283},"    refreshToken",[373,2434,345],{"class":399},[373,2436,2405],{"class":379},[373,2438,759],{"class":399},[373,2440,2410],{"class":731},[373,2442,658],{"class":379},[373,2444,1333],{"class":399},[373,2446,524],{"class":421},[373,2448,1333],{"class":399},[373,2450,1663],{"class":379},[373,2452,2423],{"class":399},[373,2454,1466],{"class":399},[373,2456,427],{"class":399},[373,2458,2459,2462,2464,2467,2469,2472,2475,2477,2479,2481,2483,2486,2488,2490,2492,2494,2497,2499,2501],{"class":375,"line":574},[373,2460,2461],{"class":1283},"    userInfo",[373,2463,345],{"class":399},[373,2465,2466],{"class":379}," JSON",[373,2468,759],{"class":399},[373,2470,2471],{"class":731},"parse",[373,2473,2474],{"class":379},"(localStorage",[373,2476,759],{"class":399},[373,2478,2410],{"class":731},[373,2480,658],{"class":379},[373,2482,1333],{"class":399},[373,2484,2485],{"class":421},"userInfo",[373,2487,1333],{"class":399},[373,2489,1663],{"class":379},[373,2491,2423],{"class":399},[373,2493,1328],{"class":399},[373,2495,2496],{"class":421},"null",[373,2498,1333],{"class":399},[373,2500,744],{"class":379},[373,2502,427],{"class":399},[373,2504,2505,2508,2510,2512,2514,2516,2518,2520,2522,2524,2526,2529,2531,2533,2535,2537,2540,2542,2544],{"class":375,"line":580},[373,2506,2507],{"class":1283},"    permissions",[373,2509,345],{"class":399},[373,2511,2466],{"class":379},[373,2513,759],{"class":399},[373,2515,2471],{"class":731},[373,2517,2474],{"class":379},[373,2519,759],{"class":399},[373,2521,2410],{"class":731},[373,2523,658],{"class":379},[373,2525,1333],{"class":399},[373,2527,2528],{"class":421},"permissions",[373,2530,1333],{"class":399},[373,2532,1663],{"class":379},[373,2534,2423],{"class":399},[373,2536,1328],{"class":399},[373,2538,2539],{"class":421},"[]",[373,2541,1333],{"class":399},[373,2543,744],{"class":379},[373,2545,427],{"class":399},[373,2547,2548,2551,2553,2555,2557,2559,2561,2563,2565,2567,2569,2572,2574,2576,2578,2580,2582,2584],{"class":375,"line":722},[373,2549,2550],{"class":1283},"    roles",[373,2552,345],{"class":399},[373,2554,2466],{"class":379},[373,2556,759],{"class":399},[373,2558,2471],{"class":731},[373,2560,2474],{"class":379},[373,2562,759],{"class":399},[373,2564,2410],{"class":731},[373,2566,658],{"class":379},[373,2568,1333],{"class":399},[373,2570,2571],{"class":421},"roles",[373,2573,1333],{"class":399},[373,2575,1663],{"class":379},[373,2577,2423],{"class":399},[373,2579,1328],{"class":399},[373,2581,2539],{"class":421},[373,2583,1333],{"class":399},[373,2585,668],{"class":379},[373,2587,2588,2590,2592],{"class":375,"line":749},[373,2589,1653],{"class":399},[373,2591,744],{"class":379},[373,2593,427],{"class":399},[373,2595,2596,2599,2601],{"class":375,"line":768},[373,2597,2598],{"class":1283},"  actions",[373,2600,345],{"class":399},[373,2602,495],{"class":399},[373,2604,2605,2608,2610,2612,2614,2617,2619],{"class":375,"line":800},[373,2606,2607],{"class":1283},"    setToken",[373,2609,658],{"class":399},[373,2611,820],{"class":740},[373,2613,345],{"class":399},[373,2615,2616],{"class":503}," string",[373,2618,744],{"class":399},[373,2620,495],{"class":399},[373,2622,2623,2626,2628,2630,2632],{"class":375,"line":810},[373,2624,2625],{"class":399},"      this.",[373,2627,820],{"class":379},[373,2629,1573],{"class":399},[373,2631,741],{"class":379},[373,2633,682],{"class":399},[373,2635,2636,2639,2641,2644,2646,2648,2650,2652,2654,2656,2658],{"class":375,"line":825},[373,2637,2638],{"class":379},"      localStorage",[373,2640,759],{"class":399},[373,2642,2643],{"class":731},"setItem",[373,2645,658],{"class":1283},[373,2647,1333],{"class":399},[373,2649,820],{"class":421},[373,2651,1333],{"class":399},[373,2653,1316],{"class":399},[373,2655,741],{"class":379},[373,2657,744],{"class":1283},[373,2659,682],{"class":399},[373,2661,2662],{"class":375,"line":836},[373,2663,2664],{"class":399},"    },\n",[373,2666,2667,2670,2672,2674,2676,2678,2680],{"class":375,"line":842},[373,2668,2669],{"class":1283},"    setRefreshToken",[373,2671,658],{"class":399},[373,2673,524],{"class":740},[373,2675,345],{"class":399},[373,2677,2616],{"class":503},[373,2679,744],{"class":399},[373,2681,495],{"class":399},[373,2683,2684,2686,2688,2690,2693],{"class":375,"line":847},[373,2685,2625],{"class":399},[373,2687,524],{"class":379},[373,2689,1573],{"class":399},[373,2691,2692],{"class":379}," refreshToken",[373,2694,682],{"class":399},[373,2696,2697,2699,2701,2703,2705,2707,2709,2711,2713,2715,2717],{"class":375,"line":868},[373,2698,2638],{"class":379},[373,2700,759],{"class":399},[373,2702,2643],{"class":731},[373,2704,658],{"class":1283},[373,2706,1333],{"class":399},[373,2708,524],{"class":421},[373,2710,1333],{"class":399},[373,2712,1316],{"class":399},[373,2714,2692],{"class":379},[373,2716,744],{"class":1283},[373,2718,682],{"class":399},[373,2720,2721],{"class":375,"line":876},[373,2722,2664],{"class":399},[373,2724,2725,2728,2730,2732,2734,2737,2739],{"class":375,"line":889},[373,2726,2727],{"class":1283},"    setUserInfo",[373,2729,658],{"class":399},[373,2731,2485],{"class":740},[373,2733,345],{"class":399},[373,2735,2736],{"class":503}," any",[373,2738,744],{"class":399},[373,2740,495],{"class":399},[373,2742,2743,2745,2747,2749,2752],{"class":375,"line":907},[373,2744,2625],{"class":399},[373,2746,2485],{"class":379},[373,2748,1573],{"class":399},[373,2750,2751],{"class":379}," userInfo",[373,2753,682],{"class":399},[373,2755,2756,2758,2760,2762,2764,2766,2768,2771,2774],{"class":375,"line":950},[373,2757,2625],{"class":399},[373,2759,2528],{"class":379},[373,2761,1573],{"class":399},[373,2763,2751],{"class":379},[373,2765,759],{"class":399},[373,2767,2528],{"class":379},[373,2769,2770],{"class":399}," ||",[373,2772,2773],{"class":1283}," []",[373,2775,682],{"class":399},[373,2777,2778,2780,2782,2784,2786,2788,2790,2792,2794],{"class":375,"line":958},[373,2779,2625],{"class":399},[373,2781,2571],{"class":379},[373,2783,1573],{"class":399},[373,2785,2751],{"class":379},[373,2787,759],{"class":399},[373,2789,2571],{"class":379},[373,2791,2770],{"class":399},[373,2793,2773],{"class":1283},[373,2795,682],{"class":399},[373,2797,2798,2800,2802,2804,2806,2808,2810,2812,2814,2816,2818,2821,2823,2825,2828],{"class":375,"line":964},[373,2799,2638],{"class":379},[373,2801,759],{"class":399},[373,2803,2643],{"class":731},[373,2805,658],{"class":1283},[373,2807,1333],{"class":399},[373,2809,2485],{"class":421},[373,2811,1333],{"class":399},[373,2813,1316],{"class":399},[373,2815,2466],{"class":379},[373,2817,759],{"class":399},[373,2819,2820],{"class":731},"stringify",[373,2822,658],{"class":1283},[373,2824,2485],{"class":379},[373,2826,2827],{"class":1283},"))",[373,2829,682],{"class":399},[373,2831,2832,2834,2836,2838,2840,2842,2844,2846,2848,2850,2852,2854,2856,2859,2861,2863],{"class":375,"line":969},[373,2833,2638],{"class":379},[373,2835,759],{"class":399},[373,2837,2643],{"class":731},[373,2839,658],{"class":1283},[373,2841,1333],{"class":399},[373,2843,2528],{"class":421},[373,2845,1333],{"class":399},[373,2847,1316],{"class":399},[373,2849,2466],{"class":379},[373,2851,759],{"class":399},[373,2853,2820],{"class":731},[373,2855,658],{"class":1283},[373,2857,2858],{"class":399},"this.",[373,2860,2528],{"class":379},[373,2862,2827],{"class":1283},[373,2864,682],{"class":399},[373,2866,2867,2869,2871,2873,2875,2877,2879,2881,2883,2885,2887,2889,2891,2893,2895,2897],{"class":375,"line":974},[373,2868,2638],{"class":379},[373,2870,759],{"class":399},[373,2872,2643],{"class":731},[373,2874,658],{"class":1283},[373,2876,1333],{"class":399},[373,2878,2571],{"class":421},[373,2880,1333],{"class":399},[373,2882,1316],{"class":399},[373,2884,2466],{"class":379},[373,2886,759],{"class":399},[373,2888,2820],{"class":731},[373,2890,658],{"class":1283},[373,2892,2858],{"class":399},[373,2894,2571],{"class":379},[373,2896,2827],{"class":1283},[373,2898,682],{"class":399},[373,2900,2901],{"class":375,"line":994},[373,2902,2664],{"class":399},[373,2904,2905,2908,2911,2913,2916,2918,2920,2922],{"class":375,"line":1014},[373,2906,2907],{"class":409},"    async",[373,2909,2910],{"class":1283}," login",[373,2912,658],{"class":399},[373,2914,2915],{"class":740},"loginData",[373,2917,345],{"class":399},[373,2919,2736],{"class":503},[373,2921,744],{"class":399},[373,2923,495],{"class":399},[373,2925,2926,2929,2931,2933,2935,2937,2939,2941,2943],{"class":375,"line":1035},[373,2927,2928],{"class":409},"      const",[373,2930,1586],{"class":379},[373,2932,1573],{"class":399},[373,2934,1591],{"class":752},[373,2936,1388],{"class":731},[373,2938,658],{"class":1283},[373,2940,2915],{"class":379},[373,2942,744],{"class":1283},[373,2944,682],{"class":399},[373,2946,2947,2949,2951,2953,2955,2957,2959,2961],{"class":375,"line":1059},[373,2948,2625],{"class":399},[373,2950,1612],{"class":731},[373,2952,658],{"class":1283},[373,2954,1617],{"class":379},[373,2956,759],{"class":399},[373,2958,504],{"class":379},[373,2960,744],{"class":1283},[373,2962,682],{"class":399},[373,2964,2965,2967,2970,2972,2974,2976,2978,2980],{"class":375,"line":1064},[373,2966,2625],{"class":399},[373,2968,2969],{"class":731},"setRefreshToken",[373,2971,658],{"class":1283},[373,2973,1617],{"class":379},[373,2975,759],{"class":399},[373,2977,524],{"class":379},[373,2979,744],{"class":1283},[373,2981,682],{"class":399},[373,2983,2984,2987,2989],{"class":375,"line":1740},[373,2985,2986],{"class":752},"      return",[373,2988,1586],{"class":379},[373,2990,682],{"class":399},[373,2992,2993],{"class":375,"line":1750},[373,2994,2664],{"class":399},[373,2996,2997,2999,3002,3004],{"class":375,"line":1772},[373,2998,2907],{"class":409},[373,3000,3001],{"class":1283}," logout",[373,3003,1420],{"class":399},[373,3005,495],{"class":399},[373,3007,3008,3011,3013,3015],{"class":375,"line":1793},[373,3009,3010],{"class":752},"      await",[373,3012,2329],{"class":731},[373,3014,1420],{"class":1283},[373,3016,682],{"class":399},[373,3018,3019,3021,3024,3026],{"class":375,"line":1813},[373,3020,2625],{"class":399},[373,3022,3023],{"class":731},"clearAuth",[373,3025,1420],{"class":1283},[373,3027,682],{"class":399},[373,3029,3030],{"class":375,"line":1846},[373,3031,2664],{"class":399},[373,3033,3034,3036,3038,3040],{"class":375,"line":1872},[373,3035,2907],{"class":409},[373,3037,2692],{"class":1283},[373,3039,1420],{"class":399},[373,3041,495],{"class":399},[373,3043,3044,3046,3048,3050,3052,3054,3056,3059,3061,3063,3066,3068,3070,3072],{"class":375,"line":1908},[373,3045,2928],{"class":409},[373,3047,1586],{"class":379},[373,3049,1573],{"class":399},[373,3051,1591],{"class":752},[373,3053,2334],{"class":731},[373,3055,658],{"class":1283},[373,3057,3058],{"class":399},"{",[373,3060,2692],{"class":1283},[373,3062,345],{"class":399},[373,3064,3065],{"class":399}," this.",[373,3067,524],{"class":379},[373,3069,1322],{"class":399},[373,3071,744],{"class":1283},[373,3073,682],{"class":399},[373,3075,3076,3078,3080,3082,3084,3086,3088,3090],{"class":375,"line":1918},[373,3077,2625],{"class":399},[373,3079,1612],{"class":731},[373,3081,658],{"class":1283},[373,3083,1617],{"class":379},[373,3085,759],{"class":399},[373,3087,504],{"class":379},[373,3089,744],{"class":1283},[373,3091,682],{"class":399},[373,3093,3094,3096,3098,3100,3102,3104,3106,3108],{"class":375,"line":1940},[373,3095,2625],{"class":399},[373,3097,2969],{"class":731},[373,3099,658],{"class":1283},[373,3101,1617],{"class":379},[373,3103,759],{"class":399},[373,3105,524],{"class":379},[373,3107,744],{"class":1283},[373,3109,682],{"class":399},[373,3111,3112,3114,3116],{"class":375,"line":1972},[373,3113,2986],{"class":752},[373,3115,1586],{"class":379},[373,3117,682],{"class":399},[373,3119,3120],{"class":375,"line":1981},[373,3121,2664],{"class":399},[373,3123,3124,3127,3129],{"class":375,"line":2003},[373,3125,3126],{"class":1283},"    clearAuth",[373,3128,1420],{"class":399},[373,3130,495],{"class":399},[373,3132,3133,3135,3137,3139,3141],{"class":375,"line":2034},[373,3134,2625],{"class":399},[373,3136,820],{"class":379},[373,3138,1573],{"class":399},[373,3140,1466],{"class":399},[373,3142,682],{"class":399},[373,3144,3145,3147,3149,3151,3153],{"class":375,"line":2079},[373,3146,2625],{"class":399},[373,3148,524],{"class":379},[373,3150,1573],{"class":399},[373,3152,1466],{"class":399},[373,3154,682],{"class":399},[373,3156,3157,3159,3161,3163],{"class":375,"line":2088},[373,3158,2625],{"class":399},[373,3160,2485],{"class":379},[373,3162,1573],{"class":399},[373,3164,3165],{"class":399}," null;\n",[373,3167,3168,3170,3172,3174,3176],{"class":375,"line":2097},[373,3169,2625],{"class":399},[373,3171,2528],{"class":379},[373,3173,1573],{"class":399},[373,3175,2773],{"class":1283},[373,3177,682],{"class":399},[373,3179,3180,3182,3184,3186,3188],{"class":375,"line":2128},[373,3181,2625],{"class":399},[373,3183,2571],{"class":379},[373,3185,1573],{"class":399},[373,3187,2773],{"class":1283},[373,3189,682],{"class":399},[373,3191,3192,3194,3196,3199,3201,3203,3205,3207,3209],{"class":375,"line":2137},[373,3193,2638],{"class":379},[373,3195,759],{"class":399},[373,3197,3198],{"class":731},"removeItem",[373,3200,658],{"class":1283},[373,3202,1333],{"class":399},[373,3204,820],{"class":421},[373,3206,1333],{"class":399},[373,3208,744],{"class":1283},[373,3210,682],{"class":399},[373,3212,3213,3215,3217,3219,3221,3223,3225,3227,3229],{"class":375,"line":2146},[373,3214,2638],{"class":379},[373,3216,759],{"class":399},[373,3218,3198],{"class":731},[373,3220,658],{"class":1283},[373,3222,1333],{"class":399},[373,3224,524],{"class":421},[373,3226,1333],{"class":399},[373,3228,744],{"class":1283},[373,3230,682],{"class":399},[373,3232,3233,3235,3237,3239,3241,3243,3245,3247,3249],{"class":375,"line":2195},[373,3234,2638],{"class":379},[373,3236,759],{"class":399},[373,3238,3198],{"class":731},[373,3240,658],{"class":1283},[373,3242,1333],{"class":399},[373,3244,2485],{"class":421},[373,3246,1333],{"class":399},[373,3248,744],{"class":1283},[373,3250,682],{"class":399},[373,3252,3253,3255,3257,3259,3261,3263,3265,3267,3269],{"class":375,"line":2201},[373,3254,2638],{"class":379},[373,3256,759],{"class":399},[373,3258,3198],{"class":731},[373,3260,658],{"class":1283},[373,3262,1333],{"class":399},[373,3264,2528],{"class":421},[373,3266,1333],{"class":399},[373,3268,744],{"class":1283},[373,3270,682],{"class":399},[373,3272,3273,3275,3277,3279,3281,3283,3285,3287,3289],{"class":375,"line":2211},[373,3274,2638],{"class":379},[373,3276,759],{"class":399},[373,3278,3198],{"class":731},[373,3280,658],{"class":1283},[373,3282,1333],{"class":399},[373,3284,2571],{"class":421},[373,3286,1333],{"class":399},[373,3288,744],{"class":1283},[373,3290,682],{"class":399},[373,3292,3293],{"class":375,"line":2220},[373,3294,839],{"class":399},[373,3296,3297],{"class":375,"line":2230},[373,3298,577],{"class":399},[373,3300,3301,3303,3305],{"class":375,"line":2240},[373,3302,1506],{"class":399},[373,3304,744],{"class":379},[373,3306,682],{"class":399},[129,3308,3310],{"id":3309},"_63-请求拦截器","6.3 请求拦截器",[113,3312,3313,3315],{},[116,3314,338],{},": 在请求中自动携带 JWT 令牌，处理令牌过期和刷新。",[113,3317,3318,345],{},[116,3319,344],{},[134,3321,3322,3325,3328],{},[137,3323,3324],{},"自动添加令牌：在请求头中添加 Authorization 头",[137,3326,3327],{},"令牌过期处理：捕获 401 错误，尝试刷新令牌",[137,3329,3330],{},"刷新令牌失败：跳转到登录页面",[113,3332,3333,345],{},[116,3334,1268],{},[297,3336,3338],{"className":2290,"code":3337,"language":2292,"meta":305,"style":305},"import axios from 'axios';\nimport { useAuthStore } from '@/store/auth';\n\nconst request = axios.create({\n  baseURL: import.meta.env.VITE_APP_API_BASE_URL,\n  timeout: 10000\n});\n\n// 请求拦截器\nrequest.interceptors.request.use(\n  (config) => {\n    const authStore = useAuthStore();\n    if (authStore.token) {\n      config.headers.Authorization = `Bearer ${authStore.token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// 响应拦截器\nrequest.interceptors.response.use(\n  (response) => {\n    return response.data;\n  },\n  async (error) => {\n    const authStore = useAuthStore();\n    const originalRequest = error.config;\n    \n    // 处理 401 错误\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n      \n      try {\n        // 尝试刷新令牌\n        await authStore.refreshToken();\n        // 使用新令牌重试请求\n        originalRequest.headers.Authorization = `Bearer ${authStore.token}`;\n        return request(originalRequest);\n      } catch (refreshError) {\n        // 刷新令牌失败，跳转到登录页面\n        authStore.clearAuth();\n        window.location.href = '/login';\n        return Promise.reject(refreshError);\n      }\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\nexport default request;\n",[227,3339,3340,3359,3379,3383,3404,3431,3441,3449,3453,3459,3481,3495,3510,3528,3565,3569,3579,3584,3596,3616,3620,3626,3630,3635,3654,3666,3679,3683,3698,3712,3729,3733,3738,3779,3794,3799,3806,3811,3826,3831,3862,3877,3893,3898,3911,3937,3955,3960,3964,3968,3986,3990,3996,4000],{"__ignoreMap":305},[373,3341,3342,3344,3347,3350,3352,3355,3357],{"class":375,"line":376},[373,3343,1307],{"class":752},[373,3345,3346],{"class":379}," axios ",[373,3348,3349],{"class":752},"from",[373,3351,1328],{"class":399},[373,3353,3354],{"class":421},"axios",[373,3356,1333],{"class":399},[373,3358,682],{"class":399},[373,3360,3361,3363,3365,3367,3369,3371,3373,3375,3377],{"class":375,"line":383},[373,3362,1307],{"class":752},[373,3364,1310],{"class":399},[373,3366,1366],{"class":379},[373,3368,1322],{"class":399},[373,3370,1325],{"class":752},[373,3372,1328],{"class":399},[373,3374,1375],{"class":421},[373,3376,1333],{"class":399},[373,3378,682],{"class":399},[373,3380,3381],{"class":375,"line":389},[373,3382,393],{"emptyLinePlaceholder":392},[373,3384,3385,3387,3390,3392,3395,3397,3400,3402],{"class":375,"line":396},[373,3386,1410],{"class":409},[373,3388,3389],{"class":379}," request ",[373,3391,1003],{"class":399},[373,3393,3394],{"class":379}," axios",[373,3396,759],{"class":399},[373,3398,3399],{"class":731},"create",[373,3401,658],{"class":379},[373,3403,400],{"class":399},[373,3405,3406,3409,3411,3414,3416,3419,3421,3424,3426,3429],{"class":375,"line":403},[373,3407,3408],{"class":1283},"  baseURL",[373,3410,345],{"class":399},[373,3412,3413],{"class":752}," import",[373,3415,759],{"class":399},[373,3417,3418],{"class":379},"meta",[373,3420,759],{"class":399},[373,3422,3423],{"class":379},"env",[373,3425,759],{"class":399},[373,3427,3428],{"class":379},"VITE_APP_API_BASE_URL",[373,3430,427],{"class":399},[373,3432,3433,3436,3438],{"class":375,"line":430},[373,3434,3435],{"class":1283},"  timeout",[373,3437,345],{"class":399},[373,3439,3440],{"class":570}," 10000\n",[373,3442,3443,3445,3447],{"class":375,"line":450},[373,3444,1506],{"class":399},[373,3446,744],{"class":379},[373,3448,682],{"class":399},[373,3450,3451],{"class":375,"line":574},[373,3452,393],{"emptyLinePlaceholder":392},[373,3454,3455],{"class":375,"line":580},[373,3456,3458],{"class":3457},"sHwdD","// 请求拦截器\n",[373,3460,3461,3464,3466,3469,3471,3473,3475,3478],{"class":375,"line":722},[373,3462,3463],{"class":379},"request",[373,3465,759],{"class":399},[373,3467,3468],{"class":379},"interceptors",[373,3470,759],{"class":399},[373,3472,3463],{"class":379},[373,3474,759],{"class":399},[373,3476,3477],{"class":731},"use",[373,3479,3480],{"class":379},"(\n",[373,3482,3483,3486,3489,3491,3493],{"class":375,"line":749},[373,3484,3485],{"class":399},"  (",[373,3487,3488],{"class":740},"config",[373,3490,744],{"class":399},[373,3492,2391],{"class":409},[373,3494,495],{"class":399},[373,3496,3497,3499,3502,3504,3506,3508],{"class":375,"line":768},[373,3498,1583],{"class":409},[373,3500,3501],{"class":379}," authStore",[373,3503,1573],{"class":399},[373,3505,1366],{"class":731},[373,3507,1420],{"class":1283},[373,3509,682],{"class":399},[373,3511,3512,3515,3517,3520,3522,3524,3526],{"class":375,"line":800},[373,3513,3514],{"class":752},"    if",[373,3516,916],{"class":1283},[373,3518,3519],{"class":379},"authStore",[373,3521,759],{"class":399},[373,3523,820],{"class":379},[373,3525,1663],{"class":1283},[373,3527,400],{"class":399},[373,3529,3530,3533,3535,3538,3540,3543,3545,3548,3551,3554,3556,3558,3560,3563],{"class":375,"line":810},[373,3531,3532],{"class":379},"      config",[373,3534,759],{"class":399},[373,3536,3537],{"class":379},"headers",[373,3539,759],{"class":399},[373,3541,3542],{"class":379},"Authorization",[373,3544,1573],{"class":399},[373,3546,3547],{"class":399}," `",[373,3549,3550],{"class":421},"Bearer ",[373,3552,3553],{"class":399},"${",[373,3555,3519],{"class":379},[373,3557,759],{"class":399},[373,3559,820],{"class":379},[373,3561,3562],{"class":399},"}`",[373,3564,682],{"class":399},[373,3566,3567],{"class":375,"line":825},[373,3568,839],{"class":399},[373,3570,3571,3574,3577],{"class":375,"line":836},[373,3572,3573],{"class":752},"    return",[373,3575,3576],{"class":379}," config",[373,3578,682],{"class":399},[373,3580,3581],{"class":375,"line":842},[373,3582,3583],{"class":399},"  },\n",[373,3585,3586,3588,3590,3592,3594],{"class":375,"line":847},[373,3587,3485],{"class":399},[373,3589,1660],{"class":740},[373,3591,744],{"class":399},[373,3593,2391],{"class":409},[373,3595,495],{"class":399},[373,3597,3598,3600,3603,3605,3608,3610,3612,3614],{"class":375,"line":868},[373,3599,3573],{"class":752},[373,3601,3602],{"class":503}," Promise",[373,3604,759],{"class":399},[373,3606,3607],{"class":731},"reject",[373,3609,658],{"class":1283},[373,3611,1660],{"class":379},[373,3613,744],{"class":1283},[373,3615,682],{"class":399},[373,3617,3618],{"class":375,"line":876},[373,3619,577],{"class":399},[373,3621,3622,3624],{"class":375,"line":889},[373,3623,744],{"class":379},[373,3625,682],{"class":399},[373,3627,3628],{"class":375,"line":907},[373,3629,393],{"emptyLinePlaceholder":392},[373,3631,3632],{"class":375,"line":950},[373,3633,3634],{"class":3457},"// 响应拦截器\n",[373,3636,3637,3639,3641,3643,3645,3648,3650,3652],{"class":375,"line":958},[373,3638,3463],{"class":379},[373,3640,759],{"class":399},[373,3642,3468],{"class":379},[373,3644,759],{"class":399},[373,3646,3647],{"class":379},"response",[373,3649,759],{"class":399},[373,3651,3477],{"class":731},[373,3653,3480],{"class":379},[373,3655,3656,3658,3660,3662,3664],{"class":375,"line":964},[373,3657,3485],{"class":399},[373,3659,3647],{"class":740},[373,3661,744],{"class":399},[373,3663,2391],{"class":409},[373,3665,495],{"class":399},[373,3667,3668,3670,3673,3675,3677],{"class":375,"line":969},[373,3669,3573],{"class":752},[373,3671,3672],{"class":379}," response",[373,3674,759],{"class":399},[373,3676,488],{"class":379},[373,3678,682],{"class":399},[373,3680,3681],{"class":375,"line":974},[373,3682,3583],{"class":399},[373,3684,3685,3688,3690,3692,3694,3696],{"class":375,"line":994},[373,3686,3687],{"class":409},"  async",[373,3689,916],{"class":399},[373,3691,1660],{"class":740},[373,3693,744],{"class":399},[373,3695,2391],{"class":409},[373,3697,495],{"class":399},[373,3699,3700,3702,3704,3706,3708,3710],{"class":375,"line":1014},[373,3701,1583],{"class":409},[373,3703,3501],{"class":379},[373,3705,1573],{"class":399},[373,3707,1366],{"class":731},[373,3709,1420],{"class":1283},[373,3711,682],{"class":399},[373,3713,3714,3716,3719,3721,3723,3725,3727],{"class":375,"line":1035},[373,3715,1583],{"class":409},[373,3717,3718],{"class":379}," originalRequest",[373,3720,1573],{"class":399},[373,3722,1688],{"class":379},[373,3724,759],{"class":399},[373,3726,3488],{"class":379},[373,3728,682],{"class":399},[373,3730,3731],{"class":375,"line":1059},[373,3732,647],{"class":1283},[373,3734,3735],{"class":375,"line":1064},[373,3736,3737],{"class":3457},"    // 处理 401 错误\n",[373,3739,3740,3742,3744,3746,3748,3750,3753,3756,3759,3762,3765,3767,3770,3772,3775,3777],{"class":375,"line":1740},[373,3741,3514],{"class":752},[373,3743,916],{"class":1283},[373,3745,1660],{"class":379},[373,3747,759],{"class":399},[373,3749,3647],{"class":379},[373,3751,3752],{"class":399},"?.",[373,3754,3755],{"class":379},"status",[373,3757,3758],{"class":399}," ===",[373,3760,3761],{"class":570}," 401",[373,3763,3764],{"class":399}," &&",[373,3766,895],{"class":399},[373,3768,3769],{"class":379},"originalRequest",[373,3771,759],{"class":399},[373,3773,3774],{"class":379},"_retry",[373,3776,1663],{"class":1283},[373,3778,400],{"class":399},[373,3780,3781,3784,3786,3788,3790,3792],{"class":375,"line":1750},[373,3782,3783],{"class":379},"      originalRequest",[373,3785,759],{"class":399},[373,3787,3774],{"class":379},[373,3789,1573],{"class":399},[373,3791,1576],{"class":1500},[373,3793,682],{"class":399},[373,3795,3796],{"class":375,"line":1772},[373,3797,3798],{"class":1283},"      \n",[373,3800,3801,3804],{"class":375,"line":1793},[373,3802,3803],{"class":752},"      try",[373,3805,495],{"class":399},[373,3807,3808],{"class":375,"line":1813},[373,3809,3810],{"class":3457},"        // 尝试刷新令牌\n",[373,3812,3813,3816,3818,3820,3822,3824],{"class":375,"line":1846},[373,3814,3815],{"class":752},"        await",[373,3817,3501],{"class":379},[373,3819,759],{"class":399},[373,3821,524],{"class":731},[373,3823,1420],{"class":1283},[373,3825,682],{"class":399},[373,3827,3828],{"class":375,"line":1872},[373,3829,3830],{"class":3457},"        // 使用新令牌重试请求\n",[373,3832,3833,3836,3838,3840,3842,3844,3846,3848,3850,3852,3854,3856,3858,3860],{"class":375,"line":1908},[373,3834,3835],{"class":379},"        originalRequest",[373,3837,759],{"class":399},[373,3839,3537],{"class":379},[373,3841,759],{"class":399},[373,3843,3542],{"class":379},[373,3845,1573],{"class":399},[373,3847,3547],{"class":399},[373,3849,3550],{"class":421},[373,3851,3553],{"class":399},[373,3853,3519],{"class":379},[373,3855,759],{"class":399},[373,3857,820],{"class":379},[373,3859,3562],{"class":399},[373,3861,682],{"class":399},[373,3863,3864,3866,3869,3871,3873,3875],{"class":375,"line":1918},[373,3865,753],{"class":752},[373,3867,3868],{"class":731}," request",[373,3870,658],{"class":1283},[373,3872,3769],{"class":379},[373,3874,744],{"class":1283},[373,3876,682],{"class":399},[373,3878,3879,3882,3884,3886,3889,3891],{"class":375,"line":1940},[373,3880,3881],{"class":399},"      }",[373,3883,913],{"class":752},[373,3885,916],{"class":1283},[373,3887,3888],{"class":379},"refreshError",[373,3890,1663],{"class":1283},[373,3892,400],{"class":399},[373,3894,3895],{"class":375,"line":1972},[373,3896,3897],{"class":3457},"        // 刷新令牌失败，跳转到登录页面\n",[373,3899,3900,3903,3905,3907,3909],{"class":375,"line":1981},[373,3901,3902],{"class":379},"        authStore",[373,3904,759],{"class":399},[373,3906,3023],{"class":731},[373,3908,1420],{"class":1283},[373,3910,682],{"class":399},[373,3912,3913,3916,3918,3921,3923,3926,3928,3930,3933,3935],{"class":375,"line":2003},[373,3914,3915],{"class":379},"        window",[373,3917,759],{"class":399},[373,3919,3920],{"class":379},"location",[373,3922,759],{"class":399},[373,3924,3925],{"class":379},"href",[373,3927,1573],{"class":399},[373,3929,1328],{"class":399},[373,3931,3932],{"class":421},"/login",[373,3934,1333],{"class":399},[373,3936,682],{"class":399},[373,3938,3939,3941,3943,3945,3947,3949,3951,3953],{"class":375,"line":2034},[373,3940,753],{"class":752},[373,3942,3602],{"class":503},[373,3944,759],{"class":399},[373,3946,3607],{"class":731},[373,3948,658],{"class":1283},[373,3950,3888],{"class":379},[373,3952,744],{"class":1283},[373,3954,682],{"class":399},[373,3956,3957],{"class":375,"line":2079},[373,3958,3959],{"class":399},"      }\n",[373,3961,3962],{"class":375,"line":2088},[373,3963,839],{"class":399},[373,3965,3966],{"class":375,"line":2097},[373,3967,647],{"class":1283},[373,3969,3970,3972,3974,3976,3978,3980,3982,3984],{"class":375,"line":2128},[373,3971,3573],{"class":752},[373,3973,3602],{"class":503},[373,3975,759],{"class":399},[373,3977,3607],{"class":731},[373,3979,658],{"class":1283},[373,3981,1660],{"class":379},[373,3983,744],{"class":1283},[373,3985,682],{"class":399},[373,3987,3988],{"class":375,"line":2137},[373,3989,577],{"class":399},[373,3991,3992,3994],{"class":375,"line":2146},[373,3993,744],{"class":379},[373,3995,682],{"class":399},[373,3997,3998],{"class":375,"line":2195},[373,3999,393],{"emptyLinePlaceholder":392},[373,4001,4002,4004,4007,4009],{"class":375,"line":2201},[373,4003,2355],{"class":752},[373,4005,4006],{"class":752}," default",[373,4008,3868],{"class":379},[373,4010,682],{"class":399},[121,4012,4014],{"id":4013},"_7-api-参考","7. API 参考",[4016,4017,4018,4035],"table",{},[4019,4020,4021],"thead",{},[4022,4023,4024,4029,4032],"tr",{},[4025,4026,4028],"th",{"align":4027},"left","方法",[4025,4030,4031],{"align":4027},"端点",[4025,4033,4034],{"align":4027},"描述",[4036,4037,4038,4052,4064,4076,4089,4101,4113],"tbody",{},[4022,4039,4040,4044,4049],{},[4041,4042,4043],"td",{"align":4027},"POST",[4041,4045,4046],{"align":4027},[227,4047,4048],{},"/auth/login",[4041,4050,4051],{"align":4027},"用户登录",[4022,4053,4054,4056,4061],{},[4041,4055,4043],{"align":4027},[4041,4057,4058],{"align":4027},[227,4059,4060],{},"/auth/logout",[4041,4062,4063],{"align":4027},"用户登出",[4022,4065,4066,4068,4073],{},[4041,4067,4043],{"align":4027},[4041,4069,4070],{"align":4027},[227,4071,4072],{},"/auth/refresh",[4041,4074,4075],{"align":4027},"刷新令牌",[4022,4077,4078,4081,4086],{},[4041,4079,4080],{"align":4027},"GET",[4041,4082,4083],{"align":4027},[227,4084,4085],{},"/auth/me",[4041,4087,4088],{"align":4027},"获取当前用户信息",[4022,4090,4091,4093,4098],{},[4041,4092,4080],{"align":4027},[4041,4094,4095],{"align":4027},[227,4096,4097],{},"/auth/permissions",[4041,4099,4100],{"align":4027},"获取当前用户权限",[4022,4102,4103,4105,4110],{},[4041,4104,4080],{"align":4027},[4041,4106,4107],{"align":4027},[227,4108,4109],{},"/auth/roles",[4041,4111,4112],{"align":4027},"获取当前用户角色",[4022,4114,4115,4117,4122],{},[4041,4116,4080],{"align":4027},[4041,4118,4119],{"align":4027},[227,4120,4121],{},"/captcha",[4041,4123,4124],{"align":4027},"获取验证码",[121,4126,4128],{"id":4127},"_8-最佳实践","8. 最佳实践",[129,4130,4132],{"id":4131},"_81-安全建议","8.1 安全建议",[134,4134,4135,4141,4147,4153,4159,4165,4171],{},[137,4136,4137,4140],{},[116,4138,4139],{},"使用 HTTPS",": 在生产环境中使用 HTTPS 协议，确保数据传输安全",[137,4142,4143,4146],{},[116,4144,4145],{},"强密码策略",": 强制用户使用强密码，定期更换密码",[137,4148,4149,4152],{},[116,4150,4151],{},"令牌过期时间",": 设置合理的令牌过期时间，减少风险",[137,4154,4155,4158],{},[116,4156,4157],{},"刷新令牌机制",": 实现刷新令牌机制，提高用户体验",[137,4160,4161,4164],{},[116,4162,4163],{},"令牌黑名单",": 实现令牌黑名单，支持主动使令牌失效",[137,4166,4167,4170],{},[116,4168,4169],{},"防止 CSRF 攻击",": 实现 CSRF 防护机制",[137,4172,4173,4176],{},[116,4174,4175],{},"防止 XSS 攻击",": 对用户输入进行转义，防止 XSS 攻击",[129,4178,4180],{"id":4179},"_82-性能优化","8.2 性能优化",[134,4182,4183,4189,4195,4201],{},[137,4184,4185,4188],{},[116,4186,4187],{},"令牌缓存",": 缓存令牌，减少数据库查询",[137,4190,4191,4194],{},[116,4192,4193],{},"减少令牌大小",": 只在令牌中包含必要的信息",[137,4196,4197,4200],{},[116,4198,4199],{},"异步验证",": 异步验证令牌，提高系统性能",[137,4202,4203,4206],{},[116,4204,4205],{},"批量权限检查",": 批量检查权限，减少请求次数",[129,4208,4210],{"id":4209},"_83-可扩展性","8.3 可扩展性",[134,4212,4213,4219,4225,4231],{},[137,4214,4215,4218],{},[116,4216,4217],{},"模块化设计",": 认证模块与业务模块分离，便于扩展",[137,4220,4221,4224],{},[116,4222,4223],{},"支持多种认证方式",": 支持用户名密码登录、短信登录、第三方登录等",[137,4226,4227,4230],{},[116,4228,4229],{},"支持多租户",": 支持多租户认证",[137,4232,4233,4236],{},[116,4234,4235],{},"支持 OAuth 2.0",": 支持 OAuth 2.0 协议",[121,4238,4240],{"id":4239},"_9-扩展建议","9. 扩展建议",[129,4242,4244],{"id":4243},"_91-支持多种登录方式","9.1 支持多种登录方式",[134,4246,4247,4253,4259,4265],{},[137,4248,4249,4252],{},[116,4250,4251],{},"短信登录",": 支持短信验证码登录",[137,4254,4255,4258],{},[116,4256,4257],{},"邮箱登录",": 支持邮箱验证码登录",[137,4260,4261,4264],{},[116,4262,4263],{},"第三方登录",": 支持微信、QQ、GitHub 等第三方登录",[137,4266,4267,4270],{},[116,4268,4269],{},"生物识别登录",": 支持指纹、面部识别等生物识别登录",[129,4272,4274],{"id":4273},"_92-增强安全机制","9.2 增强安全机制",[134,4276,4277,4283,4289,4295],{},[137,4278,4279,4282],{},[116,4280,4281],{},"多因素认证",": 支持多因素认证，提高安全性",[137,4284,4285,4288],{},[116,4286,4287],{},"风险控制",": 实现登录风险控制，防止暴力破解",[137,4290,4291,4294],{},[116,4292,4293],{},"审计日志",": 记录认证相关的审计日志",[137,4296,4297,4300],{},[116,4298,4299],{},"异常检测",": 检测异常登录行为",[129,4302,4304],{"id":4303},"_93-支持-sso","9.3 支持 SSO",[113,4306,4307],{},"实现单点登录 (SSO)，支持多系统间的无缝登录。",[129,4309,4311],{"id":4310},"_94-支持-jwt-扩展","9.4 支持 JWT 扩展",[134,4313,4314,4320,4326],{},[137,4315,4316,4319],{},[116,4317,4318],{},"支持 JWT 扩展声明",": 支持自定义声明",[137,4321,4322,4325],{},[116,4323,4324],{},"支持 JWT 加密",": 支持 JWT 加密，提高安全性",[137,4327,4328,4331],{},[116,4329,4330],{},"支持 JWT 吊销",": 支持 JWT 吊销机制",[121,4333,4335],{"id":4334},"_10-总结","10. 总结",[113,4337,4338],{},"认证模块是 Tagtag Starter 系统的安全核心，基于 JWT 实现了无状态认证机制。该模块提供了完整的认证功能，包括用户登录、令牌验证、令牌刷新和用户登出等。",[113,4340,4341],{},"通过认证模块，系统实现了统一的身份验证和授权机制，确保只有授权用户才能访问系统资源。同时，认证模块支持多种扩展方式，可以根据业务需求灵活扩展。",[113,4343,4344],{},"认证模块的设计和实现遵循了安全性、性能和可扩展性原则，为系统提供了可靠的安全保障。",[4346,4347,4348],"style",{},"html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .spNyl, html code.shiki .spNyl{--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sBMFI, html code.shiki .sBMFI{--shiki-light:#E2931D;--shiki-default:#FFCB6B;--shiki-dark:#FFCB6B}html pre.shiki code .sbssI, html code.shiki .sbssI{--shiki-light:#F76D47;--shiki-default:#F78C6C;--shiki-dark:#F78C6C}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .sHdIc, html code.shiki .sHdIc{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#EEFFFF;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s7zQu, html code.shiki .s7zQu{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#89DDFF;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .swJcz, html code.shiki .swJcz{--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178}html pre.shiki code .sfNiH, html code.shiki .sfNiH{--shiki-light:#FF5370;--shiki-default:#FF9CAC;--shiki-dark:#FF9CAC}html pre.shiki code .sHwdD, html code.shiki .sHwdD{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#546E7A;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}",{"title":305,"searchDepth":376,"depth":383,"links":4350},[4351,4355,4361,4366,4372,4376,4381,4382,4387,4393],{"id":123,"depth":383,"text":124,"children":4352},[4353,4354],{"id":131,"depth":389,"text":132},{"id":154,"depth":389,"text":155},{"id":184,"depth":383,"text":185,"children":4356},[4357,4358,4359,4360],{"id":188,"depth":389,"text":189},{"id":195,"depth":389,"text":196},{"id":232,"depth":389,"text":233},{"id":260,"depth":389,"text":261},{"id":290,"depth":383,"text":291,"children":4362},[4363,4364,4365],{"id":294,"depth":389,"text":295},{"id":308,"depth":389,"text":309},{"id":318,"depth":389,"text":319},{"id":328,"depth":383,"text":329,"children":4367},[4368,4369,4370,4371],{"id":332,"depth":389,"text":333},{"id":585,"depth":389,"text":586},{"id":1069,"depth":389,"text":1070},{"id":1143,"depth":389,"text":1144},{"id":1211,"depth":383,"text":1212,"children":4373},[4374,4375],{"id":1215,"depth":389,"text":1216},{"id":1225,"depth":389,"text":1226},{"id":1235,"depth":383,"text":1236,"children":4377},[4378,4379,4380],{"id":1239,"depth":389,"text":1240},{"id":2259,"depth":389,"text":2260},{"id":3309,"depth":389,"text":3310},{"id":4013,"depth":383,"text":4014},{"id":4127,"depth":383,"text":4128,"children":4383},[4384,4385,4386],{"id":4131,"depth":389,"text":4132},{"id":4179,"depth":389,"text":4180},{"id":4209,"depth":389,"text":4210},{"id":4239,"depth":383,"text":4240,"children":4388},[4389,4390,4391,4392],{"id":4243,"depth":389,"text":4244},{"id":4273,"depth":389,"text":4274},{"id":4303,"depth":389,"text":4304},{"id":4310,"depth":389,"text":4311},{"id":4334,"depth":383,"text":4335},"认证与授权模块文档，详细说明JWT认证流程。","md",null,{},{"title":74,"description":4394},"EJAyrnEypnIs_DmHruR8PbRlipJR4V29su525E9ZWHo",[4401,4403],{"title":70,"path":71,"stem":72,"description":4402,"children":-1},"Tagtag Starter 系统模块文档，包括系统配置、字典管理和日志管理等功能。",{"title":78,"path":79,"stem":80,"description":4404,"children":-1},"文件存储模块文档，详细说明存储实现、支持的存储模式和核心功能。",1766993722499]