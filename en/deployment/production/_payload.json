[{"data":1,"prerenderedAt":4410},["ShallowReactive",2],{"navigation":3,"/en/deployment/production":107,"/en/deployment/production-surround":4399},[4,18,35,60,81,94,103],{"title":5,"path":6,"stem":7,"children":8,"page":17},"Getting Started","/getting-started","1.getting-started",[9,13],{"title":10,"path":11,"stem":12},"项目介绍","/getting-started/introduction","1.getting-started/1.introduction",{"title":14,"path":15,"stem":16},"快速上手","/getting-started/quick-start","1.getting-started/2.quick-start",false,{"title":19,"path":20,"stem":21,"children":22,"page":17},"Architecture","/architecture","2.architecture",[23,27,31],{"title":24,"path":25,"stem":26},"架构概览","/architecture/overview","2.architecture/1.overview",{"title":28,"path":29,"stem":30},"项目结构","/architecture/project-structure","2.architecture/2.project-structure",{"title":32,"path":33,"stem":34},"前端架构","/architecture/frontend-architecture","2.architecture/3.frontend-architecture",{"title":36,"path":37,"stem":38,"children":39,"page":17},"Developer Guide","/developer-guide","3.developer-guide",[40,44,48,52,56],{"title":41,"path":42,"stem":43},"实战教程：开发 CRUD 功能","/developer-guide/crud-tutorial","3.developer-guide/1.crud-tutorial",{"title":45,"path":46,"stem":47},"代码规范与最佳实践","/developer-guide/code-style","3.developer-guide/2.code-style",{"title":49,"path":50,"stem":51},"测试指南","/developer-guide/testing","3.developer-guide/3.testing",{"title":53,"path":54,"stem":55},"前端开发指南","/developer-guide/frontend-development","3.developer-guide/4.frontend-development",{"title":57,"path":58,"stem":59},"AI 辅助开发","/developer-guide/ai-development","3.developer-guide/5.ai-development",{"title":61,"path":62,"stem":63,"children":64,"page":17},"Modules","/modules","3.modules",[65,69,73,77],{"title":66,"path":67,"stem":68},"身份管理 (IAM)","/modules/iam","3.modules/1.iam",{"title":70,"path":71,"stem":72},"系统模块","/modules/system","3.modules/2.system",{"title":74,"path":75,"stem":76},"认证模块","/modules/auth","3.modules/3.auth",{"title":78,"path":79,"stem":80},"存储模块","/modules/storage","3.modules/4.storage",{"title":82,"path":83,"stem":84,"children":85,"page":17},"Deployment","/deployment","4.deployment",[86,90],{"title":87,"path":88,"stem":89},"生产环境部署","/deployment/production","4.deployment/1.production",{"title":91,"path":92,"stem":93},"容器化部署","/deployment/containerization","4.deployment/2.containerization",{"title":95,"path":96,"stem":97,"children":98,"page":17},"Maintenance","/maintenance","5.maintenance",[99],{"title":100,"path":101,"stem":102},"监控与维护","/maintenance/monitoring","5.maintenance/1.monitoring",{"title":104,"path":105,"stem":106},"更新日志","/releases","releases",{"id":108,"title":109,"body":110,"description":4391,"extension":4392,"links":4393,"meta":4394,"navigation":316,"path":4395,"seo":4396,"stem":4397,"__hash__":4398},"docs_en/en/4.deployment/1.production.md","Production Deployment",{"type":111,"value":112,"toc":4341},"minimark",[113,117,122,127,130,235,239,242,249,541,545,549,554,570,575,685,689,694,698,712,717,940,944,948,961,966,1315,1319,1328,1333,1781,1785,1789,1793,1805,1809,1887,1891,1895,1909,1913,2226,2230,2234,2245,2249,2333,2338,2472,2476,2480,2484,2713,2717,2722,2743,2747,2821,2825,2830,2850,2854,2946,2950,2953,2973,2978,2989,2993,2997,3001,3147,3151,3155,3172,3177,3188,3193,3204,3208,3212,3229,3233,3253,3257,3280,3284,3304,3308,3312,3315,3353,3357,3377,3382,3399,3403,3407,3412,3499,3504,3534,3539,3740,3744,3748,3968,3972,3976,4002,4006,4032,4037,4057,4061,4065,4071,4076,4156,4160,4165,4169,4250,4254,4259,4263,4327,4331,4334,4337],[114,115,116],"p",{},"This document details the deployment configuration of the Tagtag project in the production environment, including server selection, backend deployment, frontend deployment, database optimization, and security configuration.",[118,119,121],"h2",{"id":120},"_1-server-selection-and-configuration","1. Server Selection and Configuration",[123,124,126],"h3",{"id":125},"_11-server-architecture","1.1 Server Architecture",[114,128,129],{},"Tagtag adopts a front-end and back-end separation architecture. The following server configuration is recommended for the production environment:",[131,132,133,152],"table",{},[134,135,136],"thead",{},[137,138,139,143,146,149],"tr",{},[140,141,142],"th",{},"Service Type",[140,144,145],{},"Recommended Configuration",[140,147,148],{},"Quantity",[140,150,151],{},"Purpose",[153,154,155,170,184,197,211,223],"tbody",{},[137,156,157,161,164,167],{},[158,159,160],"td",{},"Load Balancer",[158,162,163],{},"4-core 8G",[158,165,166],{},"1",[158,168,169],{},"Traffic distribution, SSL termination",[137,171,172,175,178,181],{},[158,173,174],{},"Backend Application",[158,176,177],{},"8-core 16G",[158,179,180],{},"2+",[158,182,183],{},"Run Spring Boot applications",[137,185,186,189,191,194],{},[158,187,188],{},"Frontend Application",[158,190,163],{},[158,192,193],{},"2",[158,195,196],{},"Run Nginx services, deploy static resources",[137,198,199,202,205,208],{},[158,200,201],{},"Database",[158,203,204],{},"16-core 32G",[158,206,207],{},"1 master 1 slave",[158,209,210],{},"Run MySQL database",[137,212,213,216,218,220],{},[158,214,215],{},"Redis",[158,217,163],{},[158,219,207],{},[158,221,222],{},"Cache, session storage",[137,224,225,228,230,232],{},[158,226,227],{},"Monitoring",[158,229,163],{},[158,231,166],{},[158,233,234],{},"Run Prometheus, Grafana and other monitoring tools",[123,236,238],{"id":237},"_12-operating-system-configuration","1.2 Operating System Configuration",[114,240,241],{},"It is recommended to use CentOS 7.9 or Ubuntu 20.04 LTS as the server operating system.",[114,243,244,248],{},[245,246,247],"strong",{},"System Optimization Suggestions",":",[250,251,256],"pre",{"className":252,"code":253,"language":254,"meta":255,"style":255},"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","# Stop unnecessary services\nsystemctl stop firewalld\nsystemctl disable firewalld\nsystemctl stop postfix\nsystemctl disable postfix\n\n# Set system timezone\ntimedatectl set-timezone Asia/Shanghai\n\n# Disable SELinux\nsed -i 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config\nsetenforce 0\n\n# Optimize file descriptor limits\ncat >> /etc/security/limits.conf \u003C\u003C EOF\n* soft nofile 65535\n* hard nofile 65535\nEOF\n\n# Optimize kernel parameters\ncat >> /etc/sysctl.conf \u003C\u003C EOF\n# Network optimization\nnet.core.somaxconn = 65535\nnet.ipv4.tcp_max_syn_backlog = 65535\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_tw_recycle = 1\nnet.ipv4.ip_local_port_range = 1024 65535\n\n# Memory optimization\nvm.swappiness = 10\nvm.overcommit_memory = 1\nEOF\n\n# Apply kernel parameters\nsysctl -p\n","bash","",[257,258,259,268,282,292,302,311,318,324,336,341,347,369,379,384,390,408,414,420,426,431,437,451,457,463,469,475,481,487,493,498,504,510,516,521,526,532],"code",{"__ignoreMap":255},[260,261,264],"span",{"class":262,"line":263},"line",1,[260,265,267],{"class":266},"sHwdD","# Stop unnecessary services\n",[260,269,271,275,279],{"class":262,"line":270},2,[260,272,274],{"class":273},"sBMFI","systemctl",[260,276,278],{"class":277},"sfazB"," stop",[260,280,281],{"class":277}," firewalld\n",[260,283,285,287,290],{"class":262,"line":284},3,[260,286,274],{"class":273},[260,288,289],{"class":277}," disable",[260,291,281],{"class":277},[260,293,295,297,299],{"class":262,"line":294},4,[260,296,274],{"class":273},[260,298,278],{"class":277},[260,300,301],{"class":277}," postfix\n",[260,303,305,307,309],{"class":262,"line":304},5,[260,306,274],{"class":273},[260,308,289],{"class":277},[260,310,301],{"class":277},[260,312,314],{"class":262,"line":313},6,[260,315,317],{"emptyLinePlaceholder":316},true,"\n",[260,319,321],{"class":262,"line":320},7,[260,322,323],{"class":266},"# Set system timezone\n",[260,325,327,330,333],{"class":262,"line":326},8,[260,328,329],{"class":273},"timedatectl",[260,331,332],{"class":277}," set-timezone",[260,334,335],{"class":277}," Asia/Shanghai\n",[260,337,339],{"class":262,"line":338},9,[260,340,317],{"emptyLinePlaceholder":316},[260,342,344],{"class":262,"line":343},10,[260,345,346],{"class":266},"# Disable SELinux\n",[260,348,350,353,356,360,363,366],{"class":262,"line":349},11,[260,351,352],{"class":273},"sed",[260,354,355],{"class":277}," -i",[260,357,359],{"class":358},"sMK4o"," '",[260,361,362],{"class":277},"s/SELINUX=enforcing/SELINUX=disabled/",[260,364,365],{"class":358},"'",[260,367,368],{"class":277}," /etc/selinux/config\n",[260,370,372,375],{"class":262,"line":371},12,[260,373,374],{"class":273},"setenforce",[260,376,378],{"class":377},"sbssI"," 0\n",[260,380,382],{"class":262,"line":381},13,[260,383,317],{"emptyLinePlaceholder":316},[260,385,387],{"class":262,"line":386},14,[260,388,389],{"class":266},"# Optimize file descriptor limits\n",[260,391,393,396,399,402,405],{"class":262,"line":392},15,[260,394,395],{"class":273},"cat",[260,397,398],{"class":358}," >>",[260,400,401],{"class":277}," /etc/security/limits.conf",[260,403,404],{"class":358}," \u003C\u003C",[260,406,407],{"class":358}," EOF\n",[260,409,411],{"class":262,"line":410},16,[260,412,413],{"class":277},"* soft nofile 65535\n",[260,415,417],{"class":262,"line":416},17,[260,418,419],{"class":277},"* hard nofile 65535\n",[260,421,423],{"class":262,"line":422},18,[260,424,425],{"class":358},"EOF\n",[260,427,429],{"class":262,"line":428},19,[260,430,317],{"emptyLinePlaceholder":316},[260,432,434],{"class":262,"line":433},20,[260,435,436],{"class":266},"# Optimize kernel parameters\n",[260,438,440,442,444,447,449],{"class":262,"line":439},21,[260,441,395],{"class":273},[260,443,398],{"class":358},[260,445,446],{"class":277}," /etc/sysctl.conf",[260,448,404],{"class":358},[260,450,407],{"class":358},[260,452,454],{"class":262,"line":453},22,[260,455,456],{"class":277},"# Network optimization\n",[260,458,460],{"class":262,"line":459},23,[260,461,462],{"class":277},"net.core.somaxconn = 65535\n",[260,464,466],{"class":262,"line":465},24,[260,467,468],{"class":277},"net.ipv4.tcp_max_syn_backlog = 65535\n",[260,470,472],{"class":262,"line":471},25,[260,473,474],{"class":277},"net.ipv4.tcp_fin_timeout = 30\n",[260,476,478],{"class":262,"line":477},26,[260,479,480],{"class":277},"net.ipv4.tcp_tw_reuse = 1\n",[260,482,484],{"class":262,"line":483},27,[260,485,486],{"class":277},"net.ipv4.tcp_tw_recycle = 1\n",[260,488,490],{"class":262,"line":489},28,[260,491,492],{"class":277},"net.ipv4.ip_local_port_range = 1024 65535\n",[260,494,496],{"class":262,"line":495},29,[260,497,317],{"emptyLinePlaceholder":316},[260,499,501],{"class":262,"line":500},30,[260,502,503],{"class":277},"# Memory optimization\n",[260,505,507],{"class":262,"line":506},31,[260,508,509],{"class":277},"vm.swappiness = 10\n",[260,511,513],{"class":262,"line":512},32,[260,514,515],{"class":277},"vm.overcommit_memory = 1\n",[260,517,519],{"class":262,"line":518},33,[260,520,425],{"class":358},[260,522,524],{"class":262,"line":523},34,[260,525,317],{"emptyLinePlaceholder":316},[260,527,529],{"class":262,"line":528},35,[260,530,531],{"class":266},"# Apply kernel parameters\n",[260,533,535,538],{"class":262,"line":534},36,[260,536,537],{"class":273},"sysctl",[260,539,540],{"class":277}," -p\n",[118,542,544],{"id":543},"_2-backend-deployment","2. Backend Deployment",[123,546,548],{"id":547},"_21-build-and-package","2.1 Build and Package",[114,550,551,248],{},[245,552,553],{},"Steps",[555,556,557,561,564,567],"ol",{},[558,559,560],"li",{},"Clone the code repository",[558,562,563],{},"Configure environment variables",[558,565,566],{},"Build the Maven project",[558,568,569],{},"Generate Docker image (optional)",[114,571,572,248],{},[245,573,574],{},"Command Example",[250,576,578],{"className":252,"code":577,"language":254,"meta":255,"style":255},"# Clone code\ngit clone https://github.com/your-org/tagtag.git\ncd tagtag\n\n# Configure environment variables\nexport MAVEN_OPTS=\"-Xmx2g -Xms1g\"\n\n# Build project\nmvn clean package -DskipTests\n\n# Generate Docker image (optional)\ndocker build -t tagtag/backend:latest .\n",[257,579,580,585,596,605,609,614,636,640,645,659,663,668],{"__ignoreMap":255},[260,581,582],{"class":262,"line":263},[260,583,584],{"class":266},"# Clone code\n",[260,586,587,590,593],{"class":262,"line":270},[260,588,589],{"class":273},"git",[260,591,592],{"class":277}," clone",[260,594,595],{"class":277}," https://github.com/your-org/tagtag.git\n",[260,597,598,602],{"class":262,"line":284},[260,599,601],{"class":600},"s2Zo4","cd",[260,603,604],{"class":277}," tagtag\n",[260,606,607],{"class":262,"line":294},[260,608,317],{"emptyLinePlaceholder":316},[260,610,611],{"class":262,"line":304},[260,612,613],{"class":266},"# Configure environment variables\n",[260,615,616,620,624,627,630,633],{"class":262,"line":313},[260,617,619],{"class":618},"spNyl","export",[260,621,623],{"class":622},"sTEyZ"," MAVEN_OPTS",[260,625,626],{"class":358},"=",[260,628,629],{"class":358},"\"",[260,631,632],{"class":277},"-Xmx2g -Xms1g",[260,634,635],{"class":358},"\"\n",[260,637,638],{"class":262,"line":320},[260,639,317],{"emptyLinePlaceholder":316},[260,641,642],{"class":262,"line":326},[260,643,644],{"class":266},"# Build project\n",[260,646,647,650,653,656],{"class":262,"line":338},[260,648,649],{"class":273},"mvn",[260,651,652],{"class":277}," clean",[260,654,655],{"class":277}," package",[260,657,658],{"class":277}," -DskipTests\n",[260,660,661],{"class":262,"line":343},[260,662,317],{"emptyLinePlaceholder":316},[260,664,665],{"class":262,"line":349},[260,666,667],{"class":266},"# Generate Docker image (optional)\n",[260,669,670,673,676,679,682],{"class":262,"line":371},[260,671,672],{"class":273},"docker",[260,674,675],{"class":277}," build",[260,677,678],{"class":277}," -t",[260,680,681],{"class":277}," tagtag/backend:latest",[260,683,684],{"class":277}," .\n",[123,686,688],{"id":687},"_22-deployment-methods","2.2 Deployment Methods",[690,691,693],"h4",{"id":692},"_221-traditional-deployment","2.2.1 Traditional Deployment",[114,695,696,248],{},[245,697,553],{},[555,699,700,703,706,709],{},[558,701,702],{},"Upload the built JAR file to the server",[558,704,705],{},"Create a startup script",[558,707,708],{},"Configure Systemd service",[558,710,711],{},"Start the service",[114,713,714,248],{},[245,715,716],{},"Example",[250,718,720],{"className":252,"code":719,"language":254,"meta":255,"style":255},"# Create deployment directory\nmkdir -p /opt/tagtag/backend\ncd /opt/tagtag/backend\n\n# Upload JAR file\nscp target/tagtag-backend.jar root@server:/opt/tagtag/backend/\n\n# Create startup script\ncat > start.sh \u003C\u003C EOF\n#!/bin/bash\njava -jar -Xmx8g -Xms4g -Dspring.profiles.active=prod tagtag-backend.jar\nEOF\n\nchmod +x start.sh\n\n# Configure Systemd service\ncat > /etc/systemd/system/tagtag-backend.service \u003C\u003C EOF\n[Unit]\nDescription=Tagtag Backend Service\nAfter=network.target\n\n[Service]\nUser=root\nWorkingDirectory=/opt/tagtag/backend\nExecStart=/opt/tagtag/backend/start.sh\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Start service\nsystemctl daemon-reload\nsystemctl start tagtag-backend\nsystemctl enable tagtag-backend\n",[257,721,722,727,738,744,748,753,764,768,773,787,792,797,801,805,816,820,825,838,843,848,853,857,862,867,872,877,882,887,891,896,901,905,909,914,921,931],{"__ignoreMap":255},[260,723,724],{"class":262,"line":263},[260,725,726],{"class":266},"# Create deployment directory\n",[260,728,729,732,735],{"class":262,"line":270},[260,730,731],{"class":273},"mkdir",[260,733,734],{"class":277}," -p",[260,736,737],{"class":277}," /opt/tagtag/backend\n",[260,739,740,742],{"class":262,"line":284},[260,741,601],{"class":600},[260,743,737],{"class":277},[260,745,746],{"class":262,"line":294},[260,747,317],{"emptyLinePlaceholder":316},[260,749,750],{"class":262,"line":304},[260,751,752],{"class":266},"# Upload JAR file\n",[260,754,755,758,761],{"class":262,"line":313},[260,756,757],{"class":273},"scp",[260,759,760],{"class":277}," target/tagtag-backend.jar",[260,762,763],{"class":277}," root@server:/opt/tagtag/backend/\n",[260,765,766],{"class":262,"line":320},[260,767,317],{"emptyLinePlaceholder":316},[260,769,770],{"class":262,"line":326},[260,771,772],{"class":266},"# Create startup script\n",[260,774,775,777,780,783,785],{"class":262,"line":338},[260,776,395],{"class":273},[260,778,779],{"class":358}," >",[260,781,782],{"class":277}," start.sh",[260,784,404],{"class":358},[260,786,407],{"class":358},[260,788,789],{"class":262,"line":343},[260,790,791],{"class":277},"#!/bin/bash\n",[260,793,794],{"class":262,"line":349},[260,795,796],{"class":277},"java -jar -Xmx8g -Xms4g -Dspring.profiles.active=prod tagtag-backend.jar\n",[260,798,799],{"class":262,"line":371},[260,800,425],{"class":358},[260,802,803],{"class":262,"line":381},[260,804,317],{"emptyLinePlaceholder":316},[260,806,807,810,813],{"class":262,"line":386},[260,808,809],{"class":273},"chmod",[260,811,812],{"class":277}," +x",[260,814,815],{"class":277}," start.sh\n",[260,817,818],{"class":262,"line":392},[260,819,317],{"emptyLinePlaceholder":316},[260,821,822],{"class":262,"line":410},[260,823,824],{"class":266},"# Configure Systemd service\n",[260,826,827,829,831,834,836],{"class":262,"line":416},[260,828,395],{"class":273},[260,830,779],{"class":358},[260,832,833],{"class":277}," /etc/systemd/system/tagtag-backend.service",[260,835,404],{"class":358},[260,837,407],{"class":358},[260,839,840],{"class":262,"line":422},[260,841,842],{"class":277},"[Unit]\n",[260,844,845],{"class":262,"line":428},[260,846,847],{"class":277},"Description=Tagtag Backend Service\n",[260,849,850],{"class":262,"line":433},[260,851,852],{"class":277},"After=network.target\n",[260,854,855],{"class":262,"line":439},[260,856,317],{"emptyLinePlaceholder":316},[260,858,859],{"class":262,"line":453},[260,860,861],{"class":277},"[Service]\n",[260,863,864],{"class":262,"line":459},[260,865,866],{"class":277},"User=root\n",[260,868,869],{"class":262,"line":465},[260,870,871],{"class":277},"WorkingDirectory=/opt/tagtag/backend\n",[260,873,874],{"class":262,"line":471},[260,875,876],{"class":277},"ExecStart=/opt/tagtag/backend/start.sh\n",[260,878,879],{"class":262,"line":477},[260,880,881],{"class":277},"Restart=always\n",[260,883,884],{"class":262,"line":483},[260,885,886],{"class":277},"RestartSec=5\n",[260,888,889],{"class":262,"line":489},[260,890,317],{"emptyLinePlaceholder":316},[260,892,893],{"class":262,"line":495},[260,894,895],{"class":277},"[Install]\n",[260,897,898],{"class":262,"line":500},[260,899,900],{"class":277},"WantedBy=multi-user.target\n",[260,902,903],{"class":262,"line":506},[260,904,425],{"class":358},[260,906,907],{"class":262,"line":512},[260,908,317],{"emptyLinePlaceholder":316},[260,910,911],{"class":262,"line":518},[260,912,913],{"class":266},"# Start service\n",[260,915,916,918],{"class":262,"line":523},[260,917,274],{"class":273},[260,919,920],{"class":277}," daemon-reload\n",[260,922,923,925,928],{"class":262,"line":528},[260,924,274],{"class":273},[260,926,927],{"class":277}," start",[260,929,930],{"class":277}," tagtag-backend\n",[260,932,933,935,938],{"class":262,"line":534},[260,934,274],{"class":273},[260,936,937],{"class":277}," enable",[260,939,930],{"class":277},[690,941,943],{"id":942},"_222-docker-deployment","2.2.2 Docker Deployment",[114,945,946,248],{},[245,947,553],{},[555,949,950,953,956,959],{},[558,951,952],{},"Install Docker",[558,954,955],{},"Pull or build Docker image",[558,957,958],{},"Create Docker Compose file",[558,960,711],{},[114,962,963,248],{},[245,964,965],{},"Docker Compose Example",[250,967,971],{"className":968,"code":969,"language":970,"meta":255,"style":255},"language-yaml shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","version: '3.8'\n\nservices:\n  tagtag-backend:\n    image: tagtag/backend:latest\n    container_name: tagtag-backend\n    ports:\n      - \"8080:8080\"\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - DB_HOST=mysql\n      - DB_PORT=3306\n      - DB_USERNAME=root\n      - DB_PASSWORD=password\n      - REDIS_HOST=redis\n      - REDIS_PORT=6379\n    depends_on:\n      - mysql\n      - redis\n    restart: always\n    volumes:\n      - ./logs:/opt/tagtag/logs\n\n  mysql:\n    image: mysql:8.0\n    container_name: mysql\n    ports:\n      - \"3306:3306\"\n    environment:\n      - MYSQL_ROOT_PASSWORD=password\n      - MYSQL_DATABASE=tagtag\n    restart: always\n    volumes:\n      - ./mysql/data:/var/lib/mysql\n      - ./mysql/conf:/etc/mysql/conf.d\n\n  redis:\n    image: redis:7.0\n    container_name: redis\n    ports:\n      - \"6379:6379\"\n    restart: always\n    volumes:\n      - ./redis/data:/data\n","yaml",[257,972,973,989,993,1001,1008,1018,1027,1034,1047,1054,1061,1068,1075,1082,1089,1096,1103,1110,1117,1124,1134,1141,1148,1152,1159,1168,1176,1182,1193,1199,1206,1213,1221,1227,1234,1241,1245,1253,1263,1272,1279,1291,1300,1307],{"__ignoreMap":255},[260,974,975,979,981,983,986],{"class":262,"line":263},[260,976,978],{"class":977},"swJcz","version",[260,980,248],{"class":358},[260,982,359],{"class":358},[260,984,985],{"class":277},"3.8",[260,987,988],{"class":358},"'\n",[260,990,991],{"class":262,"line":270},[260,992,317],{"emptyLinePlaceholder":316},[260,994,995,998],{"class":262,"line":284},[260,996,997],{"class":977},"services",[260,999,1000],{"class":358},":\n",[260,1002,1003,1006],{"class":262,"line":294},[260,1004,1005],{"class":977},"  tagtag-backend",[260,1007,1000],{"class":358},[260,1009,1010,1013,1015],{"class":262,"line":304},[260,1011,1012],{"class":977},"    image",[260,1014,248],{"class":358},[260,1016,1017],{"class":277}," tagtag/backend:latest\n",[260,1019,1020,1023,1025],{"class":262,"line":313},[260,1021,1022],{"class":977},"    container_name",[260,1024,248],{"class":358},[260,1026,930],{"class":277},[260,1028,1029,1032],{"class":262,"line":320},[260,1030,1031],{"class":977},"    ports",[260,1033,1000],{"class":358},[260,1035,1036,1039,1042,1045],{"class":262,"line":326},[260,1037,1038],{"class":358},"      -",[260,1040,1041],{"class":358}," \"",[260,1043,1044],{"class":277},"8080:8080",[260,1046,635],{"class":358},[260,1048,1049,1052],{"class":262,"line":338},[260,1050,1051],{"class":977},"    environment",[260,1053,1000],{"class":358},[260,1055,1056,1058],{"class":262,"line":343},[260,1057,1038],{"class":358},[260,1059,1060],{"class":277}," SPRING_PROFILES_ACTIVE=prod\n",[260,1062,1063,1065],{"class":262,"line":349},[260,1064,1038],{"class":358},[260,1066,1067],{"class":277}," DB_HOST=mysql\n",[260,1069,1070,1072],{"class":262,"line":371},[260,1071,1038],{"class":358},[260,1073,1074],{"class":277}," DB_PORT=3306\n",[260,1076,1077,1079],{"class":262,"line":381},[260,1078,1038],{"class":358},[260,1080,1081],{"class":277}," DB_USERNAME=root\n",[260,1083,1084,1086],{"class":262,"line":386},[260,1085,1038],{"class":358},[260,1087,1088],{"class":277}," DB_PASSWORD=password\n",[260,1090,1091,1093],{"class":262,"line":392},[260,1092,1038],{"class":358},[260,1094,1095],{"class":277}," REDIS_HOST=redis\n",[260,1097,1098,1100],{"class":262,"line":410},[260,1099,1038],{"class":358},[260,1101,1102],{"class":277}," REDIS_PORT=6379\n",[260,1104,1105,1108],{"class":262,"line":416},[260,1106,1107],{"class":977},"    depends_on",[260,1109,1000],{"class":358},[260,1111,1112,1114],{"class":262,"line":422},[260,1113,1038],{"class":358},[260,1115,1116],{"class":277}," mysql\n",[260,1118,1119,1121],{"class":262,"line":428},[260,1120,1038],{"class":358},[260,1122,1123],{"class":277}," redis\n",[260,1125,1126,1129,1131],{"class":262,"line":433},[260,1127,1128],{"class":977},"    restart",[260,1130,248],{"class":358},[260,1132,1133],{"class":277}," always\n",[260,1135,1136,1139],{"class":262,"line":439},[260,1137,1138],{"class":977},"    volumes",[260,1140,1000],{"class":358},[260,1142,1143,1145],{"class":262,"line":453},[260,1144,1038],{"class":358},[260,1146,1147],{"class":277}," ./logs:/opt/tagtag/logs\n",[260,1149,1150],{"class":262,"line":459},[260,1151,317],{"emptyLinePlaceholder":316},[260,1153,1154,1157],{"class":262,"line":465},[260,1155,1156],{"class":977},"  mysql",[260,1158,1000],{"class":358},[260,1160,1161,1163,1165],{"class":262,"line":471},[260,1162,1012],{"class":977},[260,1164,248],{"class":358},[260,1166,1167],{"class":277}," mysql:8.0\n",[260,1169,1170,1172,1174],{"class":262,"line":477},[260,1171,1022],{"class":977},[260,1173,248],{"class":358},[260,1175,1116],{"class":277},[260,1177,1178,1180],{"class":262,"line":483},[260,1179,1031],{"class":977},[260,1181,1000],{"class":358},[260,1183,1184,1186,1188,1191],{"class":262,"line":489},[260,1185,1038],{"class":358},[260,1187,1041],{"class":358},[260,1189,1190],{"class":277},"3306:3306",[260,1192,635],{"class":358},[260,1194,1195,1197],{"class":262,"line":495},[260,1196,1051],{"class":977},[260,1198,1000],{"class":358},[260,1200,1201,1203],{"class":262,"line":500},[260,1202,1038],{"class":358},[260,1204,1205],{"class":277}," MYSQL_ROOT_PASSWORD=password\n",[260,1207,1208,1210],{"class":262,"line":506},[260,1209,1038],{"class":358},[260,1211,1212],{"class":277}," MYSQL_DATABASE=tagtag\n",[260,1214,1215,1217,1219],{"class":262,"line":512},[260,1216,1128],{"class":977},[260,1218,248],{"class":358},[260,1220,1133],{"class":277},[260,1222,1223,1225],{"class":262,"line":518},[260,1224,1138],{"class":977},[260,1226,1000],{"class":358},[260,1228,1229,1231],{"class":262,"line":523},[260,1230,1038],{"class":358},[260,1232,1233],{"class":277}," ./mysql/data:/var/lib/mysql\n",[260,1235,1236,1238],{"class":262,"line":528},[260,1237,1038],{"class":358},[260,1239,1240],{"class":277}," ./mysql/conf:/etc/mysql/conf.d\n",[260,1242,1243],{"class":262,"line":534},[260,1244,317],{"emptyLinePlaceholder":316},[260,1246,1248,1251],{"class":262,"line":1247},37,[260,1249,1250],{"class":977},"  redis",[260,1252,1000],{"class":358},[260,1254,1256,1258,1260],{"class":262,"line":1255},38,[260,1257,1012],{"class":977},[260,1259,248],{"class":358},[260,1261,1262],{"class":277}," redis:7.0\n",[260,1264,1266,1268,1270],{"class":262,"line":1265},39,[260,1267,1022],{"class":977},[260,1269,248],{"class":358},[260,1271,1123],{"class":277},[260,1273,1275,1277],{"class":262,"line":1274},40,[260,1276,1031],{"class":977},[260,1278,1000],{"class":358},[260,1280,1282,1284,1286,1289],{"class":262,"line":1281},41,[260,1283,1038],{"class":358},[260,1285,1041],{"class":358},[260,1287,1288],{"class":277},"6379:6379",[260,1290,635],{"class":358},[260,1292,1294,1296,1298],{"class":262,"line":1293},42,[260,1295,1128],{"class":977},[260,1297,248],{"class":358},[260,1299,1133],{"class":277},[260,1301,1303,1305],{"class":262,"line":1302},43,[260,1304,1138],{"class":977},[260,1306,1000],{"class":358},[260,1308,1310,1312],{"class":262,"line":1309},44,[260,1311,1038],{"class":358},[260,1313,1314],{"class":277}," ./redis/data:/data\n",[123,1316,1318],{"id":1317},"_23-configuration-file-management","2.3 Configuration File Management",[114,1320,1321,1324,1325],{},[245,1322,1323],{},"Production environment configuration file",": ",[257,1326,1327],{},"application-prod.yml",[114,1329,1330,248],{},[245,1331,1332],{},"Core configuration items",[250,1334,1336],{"className":968,"code":1335,"language":970,"meta":255,"style":255},"# Server configuration\nserver:\n  port: 8080\n  servlet:\n    context-path: /api\n  tomcat:\n    threads:\n      max: 200\n      min-spare: 10\n    connection-timeout: 30000\n\n# Database configuration\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/tagtag?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai\n    username: root\n    password: password\n    hikari:\n      maximum-pool-size: 50\n      minimum-idle: 10\n      connection-timeout: 30000\n      idle-timeout: 600000\n      max-lifetime: 1800000\n\n# Redis configuration\n  redis:\n    host: localhost\n    port: 6379\n    password: \n    database: 0\n    timeout: 3000ms\n    lettuce:\n      pool:\n        max-active: 100\n        max-idle: 20\n        min-idle: 5\n        max-wait: -1ms\n\n# JWT configuration\njwt:\n  secret: your-secret-key\n  expiration: 3600\n  refresh-expiration: 86400\n\n# Log configuration\nlogging:\n  level:\n    root: info\n    com.tagtag: debug\n  file:\n    name: /opt/tagtag/logs/tagtag.log\n    max-size: 100MB\n    max-history: 30\n",[257,1337,1338,1343,1350,1360,1367,1377,1384,1391,1401,1411,1421,1425,1430,1437,1444,1454,1464,1474,1481,1491,1500,1509,1519,1529,1533,1538,1544,1554,1564,1573,1582,1592,1599,1606,1616,1626,1636,1646,1650,1655,1662,1672,1682,1692,1696,1702,1710,1718,1729,1740,1748,1759,1770],{"__ignoreMap":255},[260,1339,1340],{"class":262,"line":263},[260,1341,1342],{"class":266},"# Server configuration\n",[260,1344,1345,1348],{"class":262,"line":270},[260,1346,1347],{"class":977},"server",[260,1349,1000],{"class":358},[260,1351,1352,1355,1357],{"class":262,"line":284},[260,1353,1354],{"class":977},"  port",[260,1356,248],{"class":358},[260,1358,1359],{"class":377}," 8080\n",[260,1361,1362,1365],{"class":262,"line":294},[260,1363,1364],{"class":977},"  servlet",[260,1366,1000],{"class":358},[260,1368,1369,1372,1374],{"class":262,"line":304},[260,1370,1371],{"class":977},"    context-path",[260,1373,248],{"class":358},[260,1375,1376],{"class":277}," /api\n",[260,1378,1379,1382],{"class":262,"line":313},[260,1380,1381],{"class":977},"  tomcat",[260,1383,1000],{"class":358},[260,1385,1386,1389],{"class":262,"line":320},[260,1387,1388],{"class":977},"    threads",[260,1390,1000],{"class":358},[260,1392,1393,1396,1398],{"class":262,"line":326},[260,1394,1395],{"class":977},"      max",[260,1397,248],{"class":358},[260,1399,1400],{"class":377}," 200\n",[260,1402,1403,1406,1408],{"class":262,"line":338},[260,1404,1405],{"class":977},"      min-spare",[260,1407,248],{"class":358},[260,1409,1410],{"class":377}," 10\n",[260,1412,1413,1416,1418],{"class":262,"line":343},[260,1414,1415],{"class":977},"    connection-timeout",[260,1417,248],{"class":358},[260,1419,1420],{"class":377}," 30000\n",[260,1422,1423],{"class":262,"line":349},[260,1424,317],{"emptyLinePlaceholder":316},[260,1426,1427],{"class":262,"line":371},[260,1428,1429],{"class":266},"# Database configuration\n",[260,1431,1432,1435],{"class":262,"line":381},[260,1433,1434],{"class":977},"spring",[260,1436,1000],{"class":358},[260,1438,1439,1442],{"class":262,"line":386},[260,1440,1441],{"class":977},"  datasource",[260,1443,1000],{"class":358},[260,1445,1446,1449,1451],{"class":262,"line":392},[260,1447,1448],{"class":977},"    url",[260,1450,248],{"class":358},[260,1452,1453],{"class":277}," jdbc:mysql://localhost:3306/tagtag?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai\n",[260,1455,1456,1459,1461],{"class":262,"line":410},[260,1457,1458],{"class":977},"    username",[260,1460,248],{"class":358},[260,1462,1463],{"class":277}," root\n",[260,1465,1466,1469,1471],{"class":262,"line":416},[260,1467,1468],{"class":977},"    password",[260,1470,248],{"class":358},[260,1472,1473],{"class":277}," password\n",[260,1475,1476,1479],{"class":262,"line":422},[260,1477,1478],{"class":977},"    hikari",[260,1480,1000],{"class":358},[260,1482,1483,1486,1488],{"class":262,"line":428},[260,1484,1485],{"class":977},"      maximum-pool-size",[260,1487,248],{"class":358},[260,1489,1490],{"class":377}," 50\n",[260,1492,1493,1496,1498],{"class":262,"line":433},[260,1494,1495],{"class":977},"      minimum-idle",[260,1497,248],{"class":358},[260,1499,1410],{"class":377},[260,1501,1502,1505,1507],{"class":262,"line":439},[260,1503,1504],{"class":977},"      connection-timeout",[260,1506,248],{"class":358},[260,1508,1420],{"class":377},[260,1510,1511,1514,1516],{"class":262,"line":453},[260,1512,1513],{"class":977},"      idle-timeout",[260,1515,248],{"class":358},[260,1517,1518],{"class":377}," 600000\n",[260,1520,1521,1524,1526],{"class":262,"line":459},[260,1522,1523],{"class":977},"      max-lifetime",[260,1525,248],{"class":358},[260,1527,1528],{"class":377}," 1800000\n",[260,1530,1531],{"class":262,"line":465},[260,1532,317],{"emptyLinePlaceholder":316},[260,1534,1535],{"class":262,"line":471},[260,1536,1537],{"class":266},"# Redis configuration\n",[260,1539,1540,1542],{"class":262,"line":477},[260,1541,1250],{"class":977},[260,1543,1000],{"class":358},[260,1545,1546,1549,1551],{"class":262,"line":483},[260,1547,1548],{"class":977},"    host",[260,1550,248],{"class":358},[260,1552,1553],{"class":277}," localhost\n",[260,1555,1556,1559,1561],{"class":262,"line":489},[260,1557,1558],{"class":977},"    port",[260,1560,248],{"class":358},[260,1562,1563],{"class":377}," 6379\n",[260,1565,1566,1568,1570],{"class":262,"line":495},[260,1567,1468],{"class":977},[260,1569,248],{"class":358},[260,1571,1572],{"class":622}," \n",[260,1574,1575,1578,1580],{"class":262,"line":500},[260,1576,1577],{"class":977},"    database",[260,1579,248],{"class":358},[260,1581,378],{"class":377},[260,1583,1584,1587,1589],{"class":262,"line":506},[260,1585,1586],{"class":977},"    timeout",[260,1588,248],{"class":358},[260,1590,1591],{"class":277}," 3000ms\n",[260,1593,1594,1597],{"class":262,"line":512},[260,1595,1596],{"class":977},"    lettuce",[260,1598,1000],{"class":358},[260,1600,1601,1604],{"class":262,"line":518},[260,1602,1603],{"class":977},"      pool",[260,1605,1000],{"class":358},[260,1607,1608,1611,1613],{"class":262,"line":523},[260,1609,1610],{"class":977},"        max-active",[260,1612,248],{"class":358},[260,1614,1615],{"class":377}," 100\n",[260,1617,1618,1621,1623],{"class":262,"line":528},[260,1619,1620],{"class":977},"        max-idle",[260,1622,248],{"class":358},[260,1624,1625],{"class":377}," 20\n",[260,1627,1628,1631,1633],{"class":262,"line":534},[260,1629,1630],{"class":977},"        min-idle",[260,1632,248],{"class":358},[260,1634,1635],{"class":377}," 5\n",[260,1637,1638,1641,1643],{"class":262,"line":1247},[260,1639,1640],{"class":977},"        max-wait",[260,1642,248],{"class":358},[260,1644,1645],{"class":277}," -1ms\n",[260,1647,1648],{"class":262,"line":1255},[260,1649,317],{"emptyLinePlaceholder":316},[260,1651,1652],{"class":262,"line":1265},[260,1653,1654],{"class":266},"# JWT configuration\n",[260,1656,1657,1660],{"class":262,"line":1274},[260,1658,1659],{"class":977},"jwt",[260,1661,1000],{"class":358},[260,1663,1664,1667,1669],{"class":262,"line":1281},[260,1665,1666],{"class":977},"  secret",[260,1668,248],{"class":358},[260,1670,1671],{"class":277}," your-secret-key\n",[260,1673,1674,1677,1679],{"class":262,"line":1293},[260,1675,1676],{"class":977},"  expiration",[260,1678,248],{"class":358},[260,1680,1681],{"class":377}," 3600\n",[260,1683,1684,1687,1689],{"class":262,"line":1302},[260,1685,1686],{"class":977},"  refresh-expiration",[260,1688,248],{"class":358},[260,1690,1691],{"class":377}," 86400\n",[260,1693,1694],{"class":262,"line":1309},[260,1695,317],{"emptyLinePlaceholder":316},[260,1697,1699],{"class":262,"line":1698},45,[260,1700,1701],{"class":266},"# Log configuration\n",[260,1703,1705,1708],{"class":262,"line":1704},46,[260,1706,1707],{"class":977},"logging",[260,1709,1000],{"class":358},[260,1711,1713,1716],{"class":262,"line":1712},47,[260,1714,1715],{"class":977},"  level",[260,1717,1000],{"class":358},[260,1719,1721,1724,1726],{"class":262,"line":1720},48,[260,1722,1723],{"class":977},"    root",[260,1725,248],{"class":358},[260,1727,1728],{"class":277}," info\n",[260,1730,1732,1735,1737],{"class":262,"line":1731},49,[260,1733,1734],{"class":977},"    com.tagtag",[260,1736,248],{"class":358},[260,1738,1739],{"class":277}," debug\n",[260,1741,1743,1746],{"class":262,"line":1742},50,[260,1744,1745],{"class":977},"  file",[260,1747,1000],{"class":358},[260,1749,1751,1754,1756],{"class":262,"line":1750},51,[260,1752,1753],{"class":977},"    name",[260,1755,248],{"class":358},[260,1757,1758],{"class":277}," /opt/tagtag/logs/tagtag.log\n",[260,1760,1762,1765,1767],{"class":262,"line":1761},52,[260,1763,1764],{"class":977},"    max-size",[260,1766,248],{"class":358},[260,1768,1769],{"class":277}," 100MB\n",[260,1771,1773,1776,1778],{"class":262,"line":1772},53,[260,1774,1775],{"class":977},"    max-history",[260,1777,248],{"class":358},[260,1779,1780],{"class":377}," 30\n",[118,1782,1784],{"id":1783},"_3-frontend-deployment","3. Frontend Deployment",[123,1786,1788],{"id":1787},"_31-build-and-package","3.1 Build and Package",[114,1790,1791,248],{},[245,1792,553],{},[555,1794,1795,1797,1800,1803],{},[558,1796,560],{},[558,1798,1799],{},"Install dependencies",[558,1801,1802],{},"Build the production version",[558,1804,569],{},[114,1806,1807,248],{},[245,1808,574],{},[250,1810,1812],{"className":252,"code":1811,"language":254,"meta":255,"style":255},"# Clone code\ngit clone https://github.com/your-org/tagtag.git\ncd tagtag/tagtag-ui\n\n# Install dependencies\npnpm install\n\n# Build production version\npnpm build\n\n# Generate Docker image (optional)\ndocker build -t tagtag/frontend:latest .\n",[257,1813,1814,1818,1826,1833,1837,1842,1850,1854,1859,1866,1870,1874],{"__ignoreMap":255},[260,1815,1816],{"class":262,"line":263},[260,1817,584],{"class":266},[260,1819,1820,1822,1824],{"class":262,"line":270},[260,1821,589],{"class":273},[260,1823,592],{"class":277},[260,1825,595],{"class":277},[260,1827,1828,1830],{"class":262,"line":284},[260,1829,601],{"class":600},[260,1831,1832],{"class":277}," tagtag/tagtag-ui\n",[260,1834,1835],{"class":262,"line":294},[260,1836,317],{"emptyLinePlaceholder":316},[260,1838,1839],{"class":262,"line":304},[260,1840,1841],{"class":266},"# Install dependencies\n",[260,1843,1844,1847],{"class":262,"line":313},[260,1845,1846],{"class":273},"pnpm",[260,1848,1849],{"class":277}," install\n",[260,1851,1852],{"class":262,"line":320},[260,1853,317],{"emptyLinePlaceholder":316},[260,1855,1856],{"class":262,"line":326},[260,1857,1858],{"class":266},"# Build production version\n",[260,1860,1861,1863],{"class":262,"line":338},[260,1862,1846],{"class":273},[260,1864,1865],{"class":277}," build\n",[260,1867,1868],{"class":262,"line":343},[260,1869,317],{"emptyLinePlaceholder":316},[260,1871,1872],{"class":262,"line":349},[260,1873,667],{"class":266},[260,1875,1876,1878,1880,1882,1885],{"class":262,"line":371},[260,1877,672],{"class":273},[260,1879,675],{"class":277},[260,1881,678],{"class":277},[260,1883,1884],{"class":277}," tagtag/frontend:latest",[260,1886,684],{"class":277},[123,1888,1890],{"id":1889},"_32-nginx-deployment","3.2 Nginx Deployment",[114,1892,1893,248],{},[245,1894,553],{},[555,1896,1897,1900,1903,1906],{},[558,1898,1899],{},"Install Nginx",[558,1901,1902],{},"Configure Nginx virtual host",[558,1904,1905],{},"Copy the built static files to the Nginx directory",[558,1907,1908],{},"Start the Nginx service",[114,1910,1911,248],{},[245,1912,716],{},[250,1914,1916],{"className":252,"code":1915,"language":254,"meta":255,"style":255},"# Install Nginx\nyum install -y nginx\n\n# Create deployment directory\nmkdir -p /usr/share/nginx/html/tagtag\n\n# Copy static files\ncp -r dist/* /usr/share/nginx/html/tagtag/\n\n# Configure Nginx\ncat > /etc/nginx/conf.d/tagtag.conf \u003C\u003C EOF\nserver {\n    listen 80;\n    server_name tagtag.your-domain.com;\n    \n    # Static resource configuration\n    location / {\n        root /usr/share/nginx/html/tagtag;\n        index index.html;\n        try_files $uri $uri/ /index.html;\n    }\n    \n    # API proxy configuration\n    location /api {\n        proxy_pass http://backend-server:8080;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        # WebSocket support\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n    }\n    \n    # Log configuration\n    access_log /var/log/nginx/tagtag.access.log main;\n    error_log /var/log/nginx/tagtag.error.log error;\n}\nEOF\n\n# Check Nginx configuration\nnginx -t\n\n# Restart Nginx\nsystemctl restart nginx\nsystemctl enable nginx\n",[257,1917,1918,1923,1937,1941,1945,1954,1958,1963,1980,1984,1989,2002,2007,2012,2017,2022,2027,2032,2037,2042,2056,2061,2065,2070,2075,2080,2091,2101,2111,2121,2126,2131,2136,2146,2151,2155,2159,2164,2169,2174,2179,2183,2187,2192,2200,2204,2209,2218],{"__ignoreMap":255},[260,1919,1920],{"class":262,"line":263},[260,1921,1922],{"class":266},"# Install Nginx\n",[260,1924,1925,1928,1931,1934],{"class":262,"line":270},[260,1926,1927],{"class":273},"yum",[260,1929,1930],{"class":277}," install",[260,1932,1933],{"class":277}," -y",[260,1935,1936],{"class":277}," nginx\n",[260,1938,1939],{"class":262,"line":284},[260,1940,317],{"emptyLinePlaceholder":316},[260,1942,1943],{"class":262,"line":294},[260,1944,726],{"class":266},[260,1946,1947,1949,1951],{"class":262,"line":304},[260,1948,731],{"class":273},[260,1950,734],{"class":277},[260,1952,1953],{"class":277}," /usr/share/nginx/html/tagtag\n",[260,1955,1956],{"class":262,"line":313},[260,1957,317],{"emptyLinePlaceholder":316},[260,1959,1960],{"class":262,"line":320},[260,1961,1962],{"class":266},"# Copy static files\n",[260,1964,1965,1968,1971,1974,1977],{"class":262,"line":326},[260,1966,1967],{"class":273},"cp",[260,1969,1970],{"class":277}," -r",[260,1972,1973],{"class":277}," dist/",[260,1975,1976],{"class":622},"*",[260,1978,1979],{"class":277}," /usr/share/nginx/html/tagtag/\n",[260,1981,1982],{"class":262,"line":338},[260,1983,317],{"emptyLinePlaceholder":316},[260,1985,1986],{"class":262,"line":343},[260,1987,1988],{"class":266},"# Configure Nginx\n",[260,1990,1991,1993,1995,1998,2000],{"class":262,"line":349},[260,1992,395],{"class":273},[260,1994,779],{"class":358},[260,1996,1997],{"class":277}," /etc/nginx/conf.d/tagtag.conf",[260,1999,404],{"class":358},[260,2001,407],{"class":358},[260,2003,2004],{"class":262,"line":371},[260,2005,2006],{"class":277},"server {\n",[260,2008,2009],{"class":262,"line":381},[260,2010,2011],{"class":277},"    listen 80;\n",[260,2013,2014],{"class":262,"line":386},[260,2015,2016],{"class":277},"    server_name tagtag.your-domain.com;\n",[260,2018,2019],{"class":262,"line":392},[260,2020,2021],{"class":277},"    \n",[260,2023,2024],{"class":262,"line":410},[260,2025,2026],{"class":277},"    # Static resource configuration\n",[260,2028,2029],{"class":262,"line":416},[260,2030,2031],{"class":277},"    location / {\n",[260,2033,2034],{"class":262,"line":422},[260,2035,2036],{"class":277},"        root /usr/share/nginx/html/tagtag;\n",[260,2038,2039],{"class":262,"line":428},[260,2040,2041],{"class":277},"        index index.html;\n",[260,2043,2044,2047,2050,2053],{"class":262,"line":433},[260,2045,2046],{"class":277},"        try_files ",[260,2048,2049],{"class":622},"$uri",[260,2051,2052],{"class":622}," $uri",[260,2054,2055],{"class":277},"/ /index.html;\n",[260,2057,2058],{"class":262,"line":439},[260,2059,2060],{"class":277},"    }\n",[260,2062,2063],{"class":262,"line":453},[260,2064,2021],{"class":277},[260,2066,2067],{"class":262,"line":459},[260,2068,2069],{"class":277},"    # API proxy configuration\n",[260,2071,2072],{"class":262,"line":465},[260,2073,2074],{"class":277},"    location /api {\n",[260,2076,2077],{"class":262,"line":471},[260,2078,2079],{"class":277},"        proxy_pass http://backend-server:8080;\n",[260,2081,2082,2085,2088],{"class":262,"line":477},[260,2083,2084],{"class":277},"        proxy_set_header Host ",[260,2086,2087],{"class":622},"$host",[260,2089,2090],{"class":277},";\n",[260,2092,2093,2096,2099],{"class":262,"line":483},[260,2094,2095],{"class":277},"        proxy_set_header X-Real-IP ",[260,2097,2098],{"class":622},"$remote_addr",[260,2100,2090],{"class":277},[260,2102,2103,2106,2109],{"class":262,"line":489},[260,2104,2105],{"class":277},"        proxy_set_header X-Forwarded-For ",[260,2107,2108],{"class":622},"$proxy_add_x_forwarded_for",[260,2110,2090],{"class":277},[260,2112,2113,2116,2119],{"class":262,"line":495},[260,2114,2115],{"class":277},"        proxy_set_header X-Forwarded-Proto ",[260,2117,2118],{"class":622},"$scheme",[260,2120,2090],{"class":277},[260,2122,2123],{"class":262,"line":500},[260,2124,2125],{"class":277},"        \n",[260,2127,2128],{"class":262,"line":506},[260,2129,2130],{"class":277},"        # WebSocket support\n",[260,2132,2133],{"class":262,"line":512},[260,2134,2135],{"class":277},"        proxy_http_version 1.1;\n",[260,2137,2138,2141,2144],{"class":262,"line":518},[260,2139,2140],{"class":277},"        proxy_set_header Upgrade ",[260,2142,2143],{"class":622},"$http_upgrade",[260,2145,2090],{"class":277},[260,2147,2148],{"class":262,"line":523},[260,2149,2150],{"class":277},"        proxy_set_header Connection \"upgrade\";\n",[260,2152,2153],{"class":262,"line":528},[260,2154,2060],{"class":277},[260,2156,2157],{"class":262,"line":534},[260,2158,2021],{"class":277},[260,2160,2161],{"class":262,"line":1247},[260,2162,2163],{"class":277},"    # Log configuration\n",[260,2165,2166],{"class":262,"line":1255},[260,2167,2168],{"class":277},"    access_log /var/log/nginx/tagtag.access.log main;\n",[260,2170,2171],{"class":262,"line":1265},[260,2172,2173],{"class":277},"    error_log /var/log/nginx/tagtag.error.log error;\n",[260,2175,2176],{"class":262,"line":1274},[260,2177,2178],{"class":277},"}\n",[260,2180,2181],{"class":262,"line":1281},[260,2182,425],{"class":358},[260,2184,2185],{"class":262,"line":1293},[260,2186,317],{"emptyLinePlaceholder":316},[260,2188,2189],{"class":262,"line":1302},[260,2190,2191],{"class":266},"# Check Nginx configuration\n",[260,2193,2194,2197],{"class":262,"line":1309},[260,2195,2196],{"class":273},"nginx",[260,2198,2199],{"class":277}," -t\n",[260,2201,2202],{"class":262,"line":1698},[260,2203,317],{"emptyLinePlaceholder":316},[260,2205,2206],{"class":262,"line":1704},[260,2207,2208],{"class":266},"# Restart Nginx\n",[260,2210,2211,2213,2216],{"class":262,"line":1712},[260,2212,274],{"class":273},[260,2214,2215],{"class":277}," restart",[260,2217,1936],{"class":277},[260,2219,2220,2222,2224],{"class":262,"line":1720},[260,2221,274],{"class":273},[260,2223,937],{"class":277},[260,2225,1936],{"class":277},[123,2227,2229],{"id":2228},"_33-ssl-configuration","3.3 SSL Configuration",[114,2231,2232,248],{},[245,2233,553],{},[555,2235,2236,2239,2242],{},[558,2237,2238],{},"Apply for an SSL certificate (recommended: Let's Encrypt)",[558,2240,2241],{},"Configure Nginx SSL",[558,2243,2244],{},"Force HTTPS redirection",[114,2246,2247,248],{},[245,2248,716],{},[250,2250,2252],{"className":252,"code":2251,"language":254,"meta":255,"style":255},"# Install Certbot\nyum install -y epel-release\nyum install -y certbot python3-certbot-nginx\n\n# Apply for SSL certificate\ncertbot --nginx -d tagtag.your-domain.com\n\n# Automatic renewal\necho \"0 3 * * * certbot renew --quiet\" >> /var/spool/cron/root\n",[257,2253,2254,2259,2270,2284,2288,2293,2307,2311,2316],{"__ignoreMap":255},[260,2255,2256],{"class":262,"line":263},[260,2257,2258],{"class":266},"# Install Certbot\n",[260,2260,2261,2263,2265,2267],{"class":262,"line":270},[260,2262,1927],{"class":273},[260,2264,1930],{"class":277},[260,2266,1933],{"class":277},[260,2268,2269],{"class":277}," epel-release\n",[260,2271,2272,2274,2276,2278,2281],{"class":262,"line":284},[260,2273,1927],{"class":273},[260,2275,1930],{"class":277},[260,2277,1933],{"class":277},[260,2279,2280],{"class":277}," certbot",[260,2282,2283],{"class":277}," python3-certbot-nginx\n",[260,2285,2286],{"class":262,"line":294},[260,2287,317],{"emptyLinePlaceholder":316},[260,2289,2290],{"class":262,"line":304},[260,2291,2292],{"class":266},"# Apply for SSL certificate\n",[260,2294,2295,2298,2301,2304],{"class":262,"line":313},[260,2296,2297],{"class":273},"certbot",[260,2299,2300],{"class":277}," --nginx",[260,2302,2303],{"class":277}," -d",[260,2305,2306],{"class":277}," tagtag.your-domain.com\n",[260,2308,2309],{"class":262,"line":320},[260,2310,317],{"emptyLinePlaceholder":316},[260,2312,2313],{"class":262,"line":326},[260,2314,2315],{"class":266},"# Automatic renewal\n",[260,2317,2318,2321,2323,2326,2328,2330],{"class":262,"line":338},[260,2319,2320],{"class":600},"echo",[260,2322,1041],{"class":358},[260,2324,2325],{"class":277},"0 3 * * * certbot renew --quiet",[260,2327,629],{"class":358},[260,2329,398],{"class":358},[260,2331,2332],{"class":277}," /var/spool/cron/root\n",[114,2334,2335,248],{},[245,2336,2337],{},"Nginx SSL Configuration",[250,2339,2342],{"className":2340,"code":2341,"language":2196,"meta":255,"style":255},"language-nginx shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","server {\n    listen 443 ssl http2;\n    server_name tagtag.your-domain.com;\n    \n    # SSL configuration\n    ssl_certificate /etc/letsencrypt/live/tagtag.your-domain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/tagtag.your-domain.com/privkey.pem;\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:MozSSL:10m;\n    ssl_session_tickets off;\n    \n    # TLS configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # HSTS configuration\n    add_header Strict-Transport-Security \"max-age=63072000\" always;\n    \n    # Other configurations...\n}\n\n# Force HTTPS redirection\nserver {\n    listen 80;\n    server_name tagtag.your-domain.com;\n    return 301 https://$server_name$request_uri;\n}\n",[257,2343,2344,2348,2353,2357,2361,2366,2371,2376,2381,2386,2391,2395,2400,2405,2410,2415,2419,2424,2429,2433,2438,2442,2446,2451,2455,2459,2463,2468],{"__ignoreMap":255},[260,2345,2346],{"class":262,"line":263},[260,2347,2006],{},[260,2349,2350],{"class":262,"line":270},[260,2351,2352],{},"    listen 443 ssl http2;\n",[260,2354,2355],{"class":262,"line":284},[260,2356,2016],{},[260,2358,2359],{"class":262,"line":294},[260,2360,2021],{},[260,2362,2363],{"class":262,"line":304},[260,2364,2365],{},"    # SSL configuration\n",[260,2367,2368],{"class":262,"line":313},[260,2369,2370],{},"    ssl_certificate /etc/letsencrypt/live/tagtag.your-domain.com/fullchain.pem;\n",[260,2372,2373],{"class":262,"line":320},[260,2374,2375],{},"    ssl_certificate_key /etc/letsencrypt/live/tagtag.your-domain.com/privkey.pem;\n",[260,2377,2378],{"class":262,"line":326},[260,2379,2380],{},"    ssl_session_timeout 1d;\n",[260,2382,2383],{"class":262,"line":338},[260,2384,2385],{},"    ssl_session_cache shared:MozSSL:10m;\n",[260,2387,2388],{"class":262,"line":343},[260,2389,2390],{},"    ssl_session_tickets off;\n",[260,2392,2393],{"class":262,"line":349},[260,2394,2021],{},[260,2396,2397],{"class":262,"line":371},[260,2398,2399],{},"    # TLS configuration\n",[260,2401,2402],{"class":262,"line":381},[260,2403,2404],{},"    ssl_protocols TLSv1.2 TLSv1.3;\n",[260,2406,2407],{"class":262,"line":386},[260,2408,2409],{},"    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n",[260,2411,2412],{"class":262,"line":392},[260,2413,2414],{},"    ssl_prefer_server_ciphers off;\n",[260,2416,2417],{"class":262,"line":410},[260,2418,2021],{},[260,2420,2421],{"class":262,"line":416},[260,2422,2423],{},"    # HSTS configuration\n",[260,2425,2426],{"class":262,"line":422},[260,2427,2428],{},"    add_header Strict-Transport-Security \"max-age=63072000\" always;\n",[260,2430,2431],{"class":262,"line":428},[260,2432,2021],{},[260,2434,2435],{"class":262,"line":433},[260,2436,2437],{},"    # Other configurations...\n",[260,2439,2440],{"class":262,"line":439},[260,2441,2178],{},[260,2443,2444],{"class":262,"line":453},[260,2445,317],{"emptyLinePlaceholder":316},[260,2447,2448],{"class":262,"line":459},[260,2449,2450],{},"# Force HTTPS redirection\n",[260,2452,2453],{"class":262,"line":465},[260,2454,2006],{},[260,2456,2457],{"class":262,"line":471},[260,2458,2011],{},[260,2460,2461],{"class":262,"line":477},[260,2462,2016],{},[260,2464,2465],{"class":262,"line":483},[260,2466,2467],{},"    return 301 https://$server_name$request_uri;\n",[260,2469,2470],{"class":262,"line":489},[260,2471,2178],{},[118,2473,2475],{"id":2474},"_4-database-optimization","4. Database Optimization",[123,2477,2479],{"id":2478},"_41-mysql-configuration-optimization","4.1 MySQL Configuration Optimization",[114,2481,2482,248],{},[245,2483,1332],{},[250,2485,2489],{"className":2486,"code":2487,"language":2488,"meta":255,"style":255},"language-ini shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","# /etc/my.cnf\n\n[mysqld]\n# Basic configuration\nuser = mysql\ndatadir = /var/lib/mysql\nsocket = /var/lib/mysql/mysql.sock\npid-file = /var/run/mysqld/mysqld.pid\n\n# Character set configuration\ncharacter-set-server = utf8mb4\ncollation-server = utf8mb4_unicode_ci\ninit_connect = 'SET NAMES utf8mb4'\n\n# Memory configuration\ninnodb_buffer_pool_size = 20G  # Recommended: 50%-70% of server memory\ninnodb_log_buffer_size = 128M\nkey_buffer_size = 256M\nquery_cache_size = 0\nquery_cache_type = 0\n\n# Connection configuration\nmax_connections = 2000\nmax_connect_errors = 10000\nwait_timeout = 600\ninteractive_timeout = 600\n\n# InnoDB configuration\ninnodb_file_per_table = 1\ninnodb_flush_log_at_trx_commit = 2  # Recommended: 2 for production environment\ninnodb_log_file_size = 2G\ninnodb_log_files_in_group = 2\ninnodb_io_capacity = 4000\ninnodb_io_capacity_max = 8000\ninnodb_doublewrite = 1\ninnodb_thread_concurrency = 0\n\n# Log configuration\nslow_query_log = 1\nslow_query_log_file = /var/lib/mysql/slow.log\nlong_query_time = 2\nlog_queries_not_using_indexes = 0\n\n# Other configuration\nskip-name-resolve\nlower_case_table_names = 1\n","ini",[257,2490,2491,2496,2500,2505,2510,2515,2520,2525,2530,2534,2539,2544,2549,2554,2558,2563,2568,2573,2578,2583,2588,2592,2597,2602,2607,2612,2617,2621,2626,2631,2636,2641,2646,2651,2656,2661,2666,2670,2674,2679,2684,2689,2694,2698,2703,2708],{"__ignoreMap":255},[260,2492,2493],{"class":262,"line":263},[260,2494,2495],{},"# /etc/my.cnf\n",[260,2497,2498],{"class":262,"line":270},[260,2499,317],{"emptyLinePlaceholder":316},[260,2501,2502],{"class":262,"line":284},[260,2503,2504],{},"[mysqld]\n",[260,2506,2507],{"class":262,"line":294},[260,2508,2509],{},"# Basic configuration\n",[260,2511,2512],{"class":262,"line":304},[260,2513,2514],{},"user = mysql\n",[260,2516,2517],{"class":262,"line":313},[260,2518,2519],{},"datadir = /var/lib/mysql\n",[260,2521,2522],{"class":262,"line":320},[260,2523,2524],{},"socket = /var/lib/mysql/mysql.sock\n",[260,2526,2527],{"class":262,"line":326},[260,2528,2529],{},"pid-file = /var/run/mysqld/mysqld.pid\n",[260,2531,2532],{"class":262,"line":338},[260,2533,317],{"emptyLinePlaceholder":316},[260,2535,2536],{"class":262,"line":343},[260,2537,2538],{},"# Character set configuration\n",[260,2540,2541],{"class":262,"line":349},[260,2542,2543],{},"character-set-server = utf8mb4\n",[260,2545,2546],{"class":262,"line":371},[260,2547,2548],{},"collation-server = utf8mb4_unicode_ci\n",[260,2550,2551],{"class":262,"line":381},[260,2552,2553],{},"init_connect = 'SET NAMES utf8mb4'\n",[260,2555,2556],{"class":262,"line":386},[260,2557,317],{"emptyLinePlaceholder":316},[260,2559,2560],{"class":262,"line":392},[260,2561,2562],{},"# Memory configuration\n",[260,2564,2565],{"class":262,"line":410},[260,2566,2567],{},"innodb_buffer_pool_size = 20G  # Recommended: 50%-70% of server memory\n",[260,2569,2570],{"class":262,"line":416},[260,2571,2572],{},"innodb_log_buffer_size = 128M\n",[260,2574,2575],{"class":262,"line":422},[260,2576,2577],{},"key_buffer_size = 256M\n",[260,2579,2580],{"class":262,"line":428},[260,2581,2582],{},"query_cache_size = 0\n",[260,2584,2585],{"class":262,"line":433},[260,2586,2587],{},"query_cache_type = 0\n",[260,2589,2590],{"class":262,"line":439},[260,2591,317],{"emptyLinePlaceholder":316},[260,2593,2594],{"class":262,"line":453},[260,2595,2596],{},"# Connection configuration\n",[260,2598,2599],{"class":262,"line":459},[260,2600,2601],{},"max_connections = 2000\n",[260,2603,2604],{"class":262,"line":465},[260,2605,2606],{},"max_connect_errors = 10000\n",[260,2608,2609],{"class":262,"line":471},[260,2610,2611],{},"wait_timeout = 600\n",[260,2613,2614],{"class":262,"line":477},[260,2615,2616],{},"interactive_timeout = 600\n",[260,2618,2619],{"class":262,"line":483},[260,2620,317],{"emptyLinePlaceholder":316},[260,2622,2623],{"class":262,"line":489},[260,2624,2625],{},"# InnoDB configuration\n",[260,2627,2628],{"class":262,"line":495},[260,2629,2630],{},"innodb_file_per_table = 1\n",[260,2632,2633],{"class":262,"line":500},[260,2634,2635],{},"innodb_flush_log_at_trx_commit = 2  # Recommended: 2 for production environment\n",[260,2637,2638],{"class":262,"line":506},[260,2639,2640],{},"innodb_log_file_size = 2G\n",[260,2642,2643],{"class":262,"line":512},[260,2644,2645],{},"innodb_log_files_in_group = 2\n",[260,2647,2648],{"class":262,"line":518},[260,2649,2650],{},"innodb_io_capacity = 4000\n",[260,2652,2653],{"class":262,"line":523},[260,2654,2655],{},"innodb_io_capacity_max = 8000\n",[260,2657,2658],{"class":262,"line":528},[260,2659,2660],{},"innodb_doublewrite = 1\n",[260,2662,2663],{"class":262,"line":534},[260,2664,2665],{},"innodb_thread_concurrency = 0\n",[260,2667,2668],{"class":262,"line":1247},[260,2669,317],{"emptyLinePlaceholder":316},[260,2671,2672],{"class":262,"line":1255},[260,2673,1701],{},[260,2675,2676],{"class":262,"line":1265},[260,2677,2678],{},"slow_query_log = 1\n",[260,2680,2681],{"class":262,"line":1274},[260,2682,2683],{},"slow_query_log_file = /var/lib/mysql/slow.log\n",[260,2685,2686],{"class":262,"line":1281},[260,2687,2688],{},"long_query_time = 2\n",[260,2690,2691],{"class":262,"line":1293},[260,2692,2693],{},"log_queries_not_using_indexes = 0\n",[260,2695,2696],{"class":262,"line":1302},[260,2697,317],{"emptyLinePlaceholder":316},[260,2699,2700],{"class":262,"line":1309},[260,2701,2702],{},"# Other configuration\n",[260,2704,2705],{"class":262,"line":1698},[260,2706,2707],{},"skip-name-resolve\n",[260,2709,2710],{"class":262,"line":1704},[260,2711,2712],{},"lower_case_table_names = 1\n",[123,2714,2716],{"id":2715},"_42-index-optimization","4.2 Index Optimization",[114,2718,2719,248],{},[245,2720,2721],{},"Index Design Principles",[2723,2724,2725,2728,2731,2734,2737,2740],"ul",{},[558,2726,2727],{},"Create indexes for frequently queried fields",[558,2729,2730],{},"Create indexes for JOIN condition fields",[558,2732,2733],{},"Create indexes for ORDER BY and GROUP BY fields",[558,2735,2736],{},"Avoid creating too many indexes",[558,2738,2739],{},"When using composite indexes, put the most frequently used fields first",[558,2741,2742],{},"Regularly optimize tables and rebuild indexes",[114,2744,2745,248],{},[245,2746,716],{},[250,2748,2752],{"className":2749,"code":2750,"language":2751,"meta":255,"style":255},"language-sql shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","-- Create composite index\nCREATE INDEX idx_user_name_email ON sys_user(username, email);\n\n-- Rebuild index\nALTER TABLE sys_user ENGINE=InnoDB;\n\n-- Analyze table\nANALYZE TABLE sys_user;\n","sql",[257,2753,2754,2759,2776,2780,2785,2801,2805,2810],{"__ignoreMap":255},[260,2755,2756],{"class":262,"line":263},[260,2757,2758],{"class":266},"-- Create composite index\n",[260,2760,2761,2764,2767,2770,2773],{"class":262,"line":270},[260,2762,2763],{"class":377},"CREATE",[260,2765,2766],{"class":377}," INDEX",[260,2768,2769],{"class":600}," idx_user_name_email",[260,2771,2772],{"class":377}," ON",[260,2774,2775],{"class":622}," sys_user(username, email);\n",[260,2777,2778],{"class":262,"line":284},[260,2779,317],{"emptyLinePlaceholder":316},[260,2781,2782],{"class":262,"line":294},[260,2783,2784],{"class":266},"-- Rebuild index\n",[260,2786,2787,2790,2793,2796,2798],{"class":262,"line":304},[260,2788,2789],{"class":377},"ALTER",[260,2791,2792],{"class":377}," TABLE",[260,2794,2795],{"class":622}," sys_user ENGINE",[260,2797,626],{"class":358},[260,2799,2800],{"class":622},"InnoDB;\n",[260,2802,2803],{"class":262,"line":313},[260,2804,317],{"emptyLinePlaceholder":316},[260,2806,2807],{"class":262,"line":320},[260,2808,2809],{"class":266},"-- Analyze table\n",[260,2811,2812,2815,2818],{"class":262,"line":326},[260,2813,2814],{"class":622},"ANALYZE ",[260,2816,2817],{"class":377},"TABLE",[260,2819,2820],{"class":622}," sys_user;\n",[123,2822,2824],{"id":2823},"_43-query-optimization","4.3 Query Optimization",[114,2826,2827,248],{},[245,2828,2829],{},"Optimization Suggestions",[2723,2831,2832,2835,2838,2841,2844,2847],{},[558,2833,2834],{},"Use EXPLAIN to analyze query plans",[558,2836,2837],{},"Avoid SELECT *, only query needed fields",[558,2839,2840],{},"Avoid using functions in WHERE clause",[558,2842,2843],{},"Avoid performing operations on fields in WHERE clause",[558,2845,2846],{},"Use LIMIT to restrict returned results",[558,2848,2849],{},"Use JOIN reasonably to avoid Cartesian product",[114,2851,2852,248],{},[245,2853,716],{},[250,2855,2857],{"className":2749,"code":2856,"language":2751,"meta":255,"style":255},"-- Bad query\nSELECT * FROM sys_user WHERE DATE(create_time) = '2023-01-01';\n\n-- Optimized query\nSELECT id, username, email FROM sys_user WHERE create_time BETWEEN '2023-01-01 00:00:00' AND '2023-01-01 23:59:59';\n",[257,2858,2859,2864,2898,2902,2907],{"__ignoreMap":255},[260,2860,2861],{"class":262,"line":263},[260,2862,2863],{"class":266},"-- Bad query\n",[260,2865,2866,2869,2872,2875,2878,2881,2884,2887,2889,2891,2894,2896],{"class":262,"line":270},[260,2867,2868],{"class":377},"SELECT",[260,2870,2871],{"class":358}," *",[260,2873,2874],{"class":377}," FROM",[260,2876,2877],{"class":622}," sys_user ",[260,2879,2880],{"class":377},"WHERE",[260,2882,2883],{"class":618}," DATE",[260,2885,2886],{"class":622},"(create_time) ",[260,2888,626],{"class":358},[260,2890,359],{"class":358},[260,2892,2893],{"class":277},"2023-01-01",[260,2895,365],{"class":358},[260,2897,2090],{"class":622},[260,2899,2900],{"class":262,"line":284},[260,2901,317],{"emptyLinePlaceholder":316},[260,2903,2904],{"class":262,"line":294},[260,2905,2906],{"class":266},"-- Optimized query\n",[260,2908,2909,2911,2914,2917,2919,2921,2924,2927,2929,2932,2934,2937,2939,2942,2944],{"class":262,"line":304},[260,2910,2868],{"class":377},[260,2912,2913],{"class":622}," id, username, email ",[260,2915,2916],{"class":377},"FROM",[260,2918,2877],{"class":622},[260,2920,2880],{"class":377},[260,2922,2923],{"class":622}," create_time ",[260,2925,2926],{"class":377},"BETWEEN",[260,2928,359],{"class":358},[260,2930,2931],{"class":277},"2023-01-01 00:00:00",[260,2933,365],{"class":358},[260,2935,2936],{"class":377}," AND",[260,2938,359],{"class":358},[260,2940,2941],{"class":277},"2023-01-01 23:59:59",[260,2943,365],{"class":358},[260,2945,2090],{"class":622},[123,2947,2949],{"id":2948},"_44-database-sharding","4.4 Database Sharding",[114,2951,2952],{},"When the data volume reaches a certain scale, consider database sharding:",[2723,2954,2955,2961,2967],{},[558,2956,2957,2960],{},[245,2958,2959],{},"Horizontal Sharding",": Distribute data from the same table into multiple tables according to certain rules",[558,2962,2963,2966],{},[245,2964,2965],{},"Vertical Sharding",": Distribute fields of a table into multiple tables according to access frequency and size",[558,2968,2969,2972],{},[245,2970,2971],{},"Database Sharding",": Distribute data from different businesses into different databases",[114,2974,2975,248],{},[245,2976,2977],{},"Sharding Strategies",[2723,2979,2980,2983,2986],{},[558,2981,2982],{},"Time-based sharding (e.g., by month)",[558,2984,2985],{},"ID-based sharding (e.g., hash sharding)",[558,2987,2988],{},"Business field-based sharding (e.g., by user ID)",[118,2990,2992],{"id":2991},"_5-redis-optimization","5. Redis Optimization",[123,2994,2996],{"id":2995},"_51-configuration-optimization","5.1 Configuration Optimization",[114,2998,2999,248],{},[245,3000,1332],{},[250,3002,3004],{"className":2486,"code":3003,"language":2488,"meta":255,"style":255},"# /etc/redis.conf\n\n# Basic configuration\nbind 0.0.0.0\nprotected-mode yes\nport 6379\ndaemonize yes\npidfile /var/run/redis_6379.pid\nlogfile /var/log/redis/redis.log\n\n# Memory configuration\nmaxmemory 6G  # Recommended: 50%-70% of server memory\nmaxmemory-policy allkeys-lru  # Eviction policy when memory is insufficient\n\n# Persistence configuration\nsave 900 1\nsave 300 10\nsave 60 10000\ndbfilename dump.rdb\ndir /var/lib/redis\nappendonly yes\nappendfilename \"appendonly.aof\"\nappendfsync everysec  # Recommended: everysec for production environment\n\n# Connection configuration\ntimeout 300\nmaxclients 10000\n\n# Other configuration\ntcp-keepalive 300\n",[257,3005,3006,3011,3015,3019,3024,3029,3034,3039,3044,3049,3053,3057,3062,3067,3071,3076,3081,3086,3091,3096,3101,3106,3111,3116,3120,3124,3129,3134,3138,3142],{"__ignoreMap":255},[260,3007,3008],{"class":262,"line":263},[260,3009,3010],{},"# /etc/redis.conf\n",[260,3012,3013],{"class":262,"line":270},[260,3014,317],{"emptyLinePlaceholder":316},[260,3016,3017],{"class":262,"line":284},[260,3018,2509],{},[260,3020,3021],{"class":262,"line":294},[260,3022,3023],{},"bind 0.0.0.0\n",[260,3025,3026],{"class":262,"line":304},[260,3027,3028],{},"protected-mode yes\n",[260,3030,3031],{"class":262,"line":313},[260,3032,3033],{},"port 6379\n",[260,3035,3036],{"class":262,"line":320},[260,3037,3038],{},"daemonize yes\n",[260,3040,3041],{"class":262,"line":326},[260,3042,3043],{},"pidfile /var/run/redis_6379.pid\n",[260,3045,3046],{"class":262,"line":338},[260,3047,3048],{},"logfile /var/log/redis/redis.log\n",[260,3050,3051],{"class":262,"line":343},[260,3052,317],{"emptyLinePlaceholder":316},[260,3054,3055],{"class":262,"line":349},[260,3056,2562],{},[260,3058,3059],{"class":262,"line":371},[260,3060,3061],{},"maxmemory 6G  # Recommended: 50%-70% of server memory\n",[260,3063,3064],{"class":262,"line":381},[260,3065,3066],{},"maxmemory-policy allkeys-lru  # Eviction policy when memory is insufficient\n",[260,3068,3069],{"class":262,"line":386},[260,3070,317],{"emptyLinePlaceholder":316},[260,3072,3073],{"class":262,"line":392},[260,3074,3075],{},"# Persistence configuration\n",[260,3077,3078],{"class":262,"line":410},[260,3079,3080],{},"save 900 1\n",[260,3082,3083],{"class":262,"line":416},[260,3084,3085],{},"save 300 10\n",[260,3087,3088],{"class":262,"line":422},[260,3089,3090],{},"save 60 10000\n",[260,3092,3093],{"class":262,"line":428},[260,3094,3095],{},"dbfilename dump.rdb\n",[260,3097,3098],{"class":262,"line":433},[260,3099,3100],{},"dir /var/lib/redis\n",[260,3102,3103],{"class":262,"line":439},[260,3104,3105],{},"appendonly yes\n",[260,3107,3108],{"class":262,"line":453},[260,3109,3110],{},"appendfilename \"appendonly.aof\"\n",[260,3112,3113],{"class":262,"line":459},[260,3114,3115],{},"appendfsync everysec  # Recommended: everysec for production environment\n",[260,3117,3118],{"class":262,"line":465},[260,3119,317],{"emptyLinePlaceholder":316},[260,3121,3122],{"class":262,"line":471},[260,3123,2596],{},[260,3125,3126],{"class":262,"line":477},[260,3127,3128],{},"timeout 300\n",[260,3130,3131],{"class":262,"line":483},[260,3132,3133],{},"maxclients 10000\n",[260,3135,3136],{"class":262,"line":489},[260,3137,317],{"emptyLinePlaceholder":316},[260,3139,3140],{"class":262,"line":495},[260,3141,2702],{},[260,3143,3144],{"class":262,"line":500},[260,3145,3146],{},"tcp-keepalive 300\n",[123,3148,3150],{"id":3149},"_52-cache-optimization","5.2 Cache Optimization",[114,3152,3153,248],{},[245,3154,2829],{},[2723,3156,3157,3160,3163,3166,3169],{},[558,3158,3159],{},"Set reasonable cache expiration time",[558,3161,3162],{},"Avoid cache avalanche, cache breakdown, and cache penetration",[558,3164,3165],{},"Use cache warming",[558,3167,3168],{},"Regularly clean up expired cache",[558,3170,3171],{},"Reasonably use Redis data structures",[114,3173,3174,248],{},[245,3175,3176],{},"Cache Avalanche Solutions",[2723,3178,3179,3182,3185],{},[558,3180,3181],{},"Set random expiration time",[558,3183,3184],{},"Use Redis cluster",[558,3186,3187],{},"Implement cache degradation",[114,3189,3190,248],{},[245,3191,3192],{},"Cache Penetration Solutions",[2723,3194,3195,3198,3201],{},[558,3196,3197],{},"Use Bloom filters",[558,3199,3200],{},"Cache null values",[558,3202,3203],{},"Rate limiting and circuit breaking",[118,3205,3207],{"id":3206},"_6-security-configuration","6. Security Configuration",[123,3209,3211],{"id":3210},"_61-network-security","6.1 Network Security",[2723,3213,3214,3217,3220,3223,3226],{},[558,3215,3216],{},"Use firewall to limit access ports",[558,3218,3219],{},"Configure VPN or dedicated line connection",[558,3221,3222],{},"Use SSL/TLS for encrypted transmission",[558,3224,3225],{},"Regular security scans",[558,3227,3228],{},"Configure Intrusion Detection System (IDS)",[123,3230,3232],{"id":3231},"_62-server-security","6.2 Server Security",[2723,3234,3235,3238,3241,3244,3247,3250],{},[558,3236,3237],{},"Regularly update system and software packages",[558,3239,3240],{},"Use strong passwords and key authentication",[558,3242,3243],{},"Disable root remote login",[558,3245,3246],{},"Configure sudo permissions",[558,3248,3249],{},"Enable log auditing",[558,3251,3252],{},"Regularly back up server configuration",[123,3254,3256],{"id":3255},"_63-application-security","6.3 Application Security",[2723,3258,3259,3262,3265,3268,3271,3274,3277],{},[558,3260,3261],{},"Implement fine-grained permission control",[558,3263,3264],{},"Encrypt sensitive data storage",[558,3266,3267],{},"Prevent SQL injection",[558,3269,3270],{},"Prevent XSS attacks",[558,3272,3273],{},"Prevent CSRF attacks",[558,3275,3276],{},"Implement API rate limiting and circuit breaking",[558,3278,3279],{},"Regular code auditing",[123,3281,3283],{"id":3282},"_64-data-security","6.4 Data Security",[2723,3285,3286,3289,3292,3295,3298,3301],{},[558,3287,3288],{},"Regular database backups",[558,3290,3291],{},"Implement data encryption",[558,3293,3294],{},"Configure Access Control Lists (ACL)",[558,3296,3297],{},"Data desensitization processing",[558,3299,3300],{},"Implement data recovery mechanisms",[558,3302,3303],{},"Regular data integrity checks",[118,3305,3307],{"id":3306},"_7-monitoring-and-logging","7. Monitoring and Logging",[123,3309,3311],{"id":3310},"_71-monitoring-system","7.1 Monitoring System",[114,3313,3314],{},"It is recommended to use Prometheus + Grafana to build a monitoring system:",[2723,3316,3317,3323,3329,3335,3341,3347],{},[558,3318,3319,3322],{},[245,3320,3321],{},"Prometheus",": Collect monitoring data",[558,3324,3325,3328],{},[245,3326,3327],{},"Grafana",": Visualize monitoring data",[558,3330,3331,3334],{},[245,3332,3333],{},"Node Exporter",": Monitor server metrics",[558,3336,3337,3340],{},[245,3338,3339],{},"JMX Exporter",": Monitor Java applications",[558,3342,3343,3346],{},[245,3344,3345],{},"MySQL Exporter",": Monitor MySQL database",[558,3348,3349,3352],{},[245,3350,3351],{},"Redis Exporter",": Monitor Redis",[123,3354,3356],{"id":3355},"_72-log-management","7.2 Log Management",[2723,3358,3359,3365,3371],{},[558,3360,3361,3364],{},[245,3362,3363],{},"ELK Stack",": Elasticsearch + Logstash + Kibana",[558,3366,3367,3370],{},[245,3368,3369],{},"Loki",": Lightweight log aggregation system",[558,3372,3373,3376],{},[245,3374,3375],{},"Filebeat",": Log collector",[114,3378,3379,248],{},[245,3380,3381],{},"Log Configuration Suggestions",[2723,3383,3384,3387,3390,3393,3396],{},[558,3385,3386],{},"Unified log format",[558,3388,3389],{},"Include necessary context information",[558,3391,3392],{},"Implement log grading",[558,3394,3395],{},"Regularly clean up expired logs",[558,3397,3398],{},"Configure log alerts",[118,3400,3402],{"id":3401},"_8-backup-and-recovery","8. Backup and Recovery",[123,3404,3406],{"id":3405},"_81-database-backup","8.1 Database Backup",[114,3408,3409,248],{},[245,3410,3411],{},"Full Backup",[250,3413,3415],{"className":252,"code":3414,"language":254,"meta":255,"style":255},"# Use mysqldump for full backup\nmysqldump -u root -p --all-databases --single-transaction --routines --triggers --events > /backup/mysql/full_backup_$(date +%Y%m%d_%H%M%S).sql\n\n# Use xtrabackup for full backup\nxtrabackup --backup --target-dir=/backup/mysql/full_backup_$(date +%Y%m%d_%H%M%S)\n",[257,3416,3417,3422,3470,3474,3479],{"__ignoreMap":255},[260,3418,3419],{"class":262,"line":263},[260,3420,3421],{"class":266},"# Use mysqldump for full backup\n",[260,3423,3424,3427,3430,3433,3435,3438,3441,3444,3447,3450,3452,3455,3458,3461,3464,3467],{"class":262,"line":270},[260,3425,3426],{"class":273},"mysqldump",[260,3428,3429],{"class":277}," -u",[260,3431,3432],{"class":277}," root",[260,3434,734],{"class":277},[260,3436,3437],{"class":277}," --all-databases",[260,3439,3440],{"class":277}," --single-transaction",[260,3442,3443],{"class":277}," --routines",[260,3445,3446],{"class":277}," --triggers",[260,3448,3449],{"class":277}," --events",[260,3451,779],{"class":358},[260,3453,3454],{"class":277}," /backup/mysql/full_backup_",[260,3456,3457],{"class":358},"$(",[260,3459,3460],{"class":273},"date",[260,3462,3463],{"class":277}," +%Y%m%d_%H%M%S",[260,3465,3466],{"class":358},")",[260,3468,3469],{"class":277},".sql\n",[260,3471,3472],{"class":262,"line":284},[260,3473,317],{"emptyLinePlaceholder":316},[260,3475,3476],{"class":262,"line":294},[260,3477,3478],{"class":266},"# Use xtrabackup for full backup\n",[260,3480,3481,3484,3487,3490,3492,3494,3496],{"class":262,"line":304},[260,3482,3483],{"class":273},"xtrabackup",[260,3485,3486],{"class":277}," --backup",[260,3488,3489],{"class":277}," --target-dir=/backup/mysql/full_backup_",[260,3491,3457],{"class":358},[260,3493,3460],{"class":273},[260,3495,3463],{"class":277},[260,3497,3498],{"class":358},")\n",[114,3500,3501,248],{},[245,3502,3503],{},"Incremental Backup",[250,3505,3507],{"className":252,"code":3506,"language":254,"meta":255,"style":255},"# Use xtrabackup for incremental backup\nxtrabackup --backup --target-dir=/backup/mysql/incremental_$(date +%Y%m%d_%H%M%S) --incremental-basedir=/backup/mysql/full_backup_20230101_000000\n",[257,3508,3509,3514],{"__ignoreMap":255},[260,3510,3511],{"class":262,"line":263},[260,3512,3513],{"class":266},"# Use xtrabackup for incremental backup\n",[260,3515,3516,3518,3520,3523,3525,3527,3529,3531],{"class":262,"line":270},[260,3517,3483],{"class":273},[260,3519,3486],{"class":277},[260,3521,3522],{"class":277}," --target-dir=/backup/mysql/incremental_",[260,3524,3457],{"class":358},[260,3526,3460],{"class":273},[260,3528,3463],{"class":277},[260,3530,3466],{"class":358},[260,3532,3533],{"class":277}," --incremental-basedir=/backup/mysql/full_backup_20230101_000000\n",[114,3535,3536,248],{},[245,3537,3538],{},"Scheduled Backup Script",[250,3540,3542],{"className":252,"code":3541,"language":254,"meta":255,"style":255},"cat > /usr/local/bin/mysql_backup.sh \u003C\u003C EOF\n#!/bin/bash\n\nBACKUP_DIR=\"/backup/mysql\"\nDATE=$(date +%Y%m%d_%H%M%S)\nFULL_BACKUP_DIR=\"$BACKUP_DIR/full_$DATE\"\n\n# Create backup directory\nmkdir -p $FULL_BACKUP_DIR\n\n# Execute full backup\nmysqldump -u root -p\"password\" --all-databases --single-transaction --routines --triggers --events > $FULL_BACKUP_DIR/full_backup.sql\n\n# Compress backup file\ntar -czf $BACKUP_DIR/full_backup_$DATE.tar.gz -C $BACKUP_DIR full_$DATE\n\n# Delete temporary directory\nrm -rf $FULL_BACKUP_DIR\n\n# Delete backups older than 7 days\nfind $BACKUP_DIR -name \"full_backup_*.tar.gz\" -mtime +7 -delete\nEOF\n\n# Add to crontab\nchmod +x /usr/local/bin/mysql_backup.sh\necho \"0 2 * * * /usr/local/bin/mysql_backup.sh\" >> /var/spool/cron/root\n",[257,3543,3544,3557,3561,3565,3570,3583,3599,3603,3608,3616,3620,3625,3636,3640,3645,3668,3672,3677,3684,3688,3693,3703,3707,3711,3716,3725],{"__ignoreMap":255},[260,3545,3546,3548,3550,3553,3555],{"class":262,"line":263},[260,3547,395],{"class":273},[260,3549,779],{"class":358},[260,3551,3552],{"class":277}," /usr/local/bin/mysql_backup.sh",[260,3554,404],{"class":358},[260,3556,407],{"class":358},[260,3558,3559],{"class":262,"line":270},[260,3560,791],{"class":277},[260,3562,3563],{"class":262,"line":284},[260,3564,317],{"emptyLinePlaceholder":316},[260,3566,3567],{"class":262,"line":294},[260,3568,3569],{"class":277},"BACKUP_DIR=\"/backup/mysql\"\n",[260,3571,3572,3575,3577,3579,3581],{"class":262,"line":304},[260,3573,3574],{"class":277},"DATE=",[260,3576,3457],{"class":358},[260,3578,3460],{"class":273},[260,3580,3463],{"class":277},[260,3582,3498],{"class":358},[260,3584,3585,3588,3591,3594,3597],{"class":262,"line":313},[260,3586,3587],{"class":277},"FULL_BACKUP_DIR=\"",[260,3589,3590],{"class":622},"$BACKUP_DIR",[260,3592,3593],{"class":277},"/full_",[260,3595,3596],{"class":622},"$DATE",[260,3598,635],{"class":277},[260,3600,3601],{"class":262,"line":320},[260,3602,317],{"emptyLinePlaceholder":316},[260,3604,3605],{"class":262,"line":326},[260,3606,3607],{"class":277},"# Create backup directory\n",[260,3609,3610,3613],{"class":262,"line":338},[260,3611,3612],{"class":277},"mkdir -p ",[260,3614,3615],{"class":622},"$FULL_BACKUP_DIR\n",[260,3617,3618],{"class":262,"line":343},[260,3619,317],{"emptyLinePlaceholder":316},[260,3621,3622],{"class":262,"line":349},[260,3623,3624],{"class":277},"# Execute full backup\n",[260,3626,3627,3630,3633],{"class":262,"line":371},[260,3628,3629],{"class":277},"mysqldump -u root -p\"password\" --all-databases --single-transaction --routines --triggers --events > ",[260,3631,3632],{"class":622},"$FULL_BACKUP_DIR",[260,3634,3635],{"class":277},"/full_backup.sql\n",[260,3637,3638],{"class":262,"line":381},[260,3639,317],{"emptyLinePlaceholder":316},[260,3641,3642],{"class":262,"line":386},[260,3643,3644],{"class":277},"# Compress backup file\n",[260,3646,3647,3650,3652,3655,3657,3660,3662,3665],{"class":262,"line":392},[260,3648,3649],{"class":277},"tar -czf ",[260,3651,3590],{"class":622},[260,3653,3654],{"class":277},"/full_backup_",[260,3656,3596],{"class":622},[260,3658,3659],{"class":277},".tar.gz -C ",[260,3661,3590],{"class":622},[260,3663,3664],{"class":277}," full_",[260,3666,3667],{"class":622},"$DATE\n",[260,3669,3670],{"class":262,"line":410},[260,3671,317],{"emptyLinePlaceholder":316},[260,3673,3674],{"class":262,"line":416},[260,3675,3676],{"class":277},"# Delete temporary directory\n",[260,3678,3679,3682],{"class":262,"line":422},[260,3680,3681],{"class":277},"rm -rf ",[260,3683,3615],{"class":622},[260,3685,3686],{"class":262,"line":428},[260,3687,317],{"emptyLinePlaceholder":316},[260,3689,3690],{"class":262,"line":433},[260,3691,3692],{"class":277},"# Delete backups older than 7 days\n",[260,3694,3695,3698,3700],{"class":262,"line":439},[260,3696,3697],{"class":277},"find ",[260,3699,3590],{"class":622},[260,3701,3702],{"class":277}," -name \"full_backup_*.tar.gz\" -mtime +7 -delete\n",[260,3704,3705],{"class":262,"line":453},[260,3706,425],{"class":358},[260,3708,3709],{"class":262,"line":459},[260,3710,317],{"emptyLinePlaceholder":316},[260,3712,3713],{"class":262,"line":465},[260,3714,3715],{"class":266},"# Add to crontab\n",[260,3717,3718,3720,3722],{"class":262,"line":471},[260,3719,809],{"class":273},[260,3721,812],{"class":277},[260,3723,3724],{"class":277}," /usr/local/bin/mysql_backup.sh\n",[260,3726,3727,3729,3731,3734,3736,3738],{"class":262,"line":477},[260,3728,2320],{"class":600},[260,3730,1041],{"class":358},[260,3732,3733],{"class":277},"0 2 * * * /usr/local/bin/mysql_backup.sh",[260,3735,629],{"class":358},[260,3737,398],{"class":358},[260,3739,2332],{"class":277},[123,3741,3743],{"id":3742},"_82-application-backup","8.2 Application Backup",[114,3745,3746,248],{},[245,3747,716],{},[250,3749,3751],{"className":252,"code":3750,"language":254,"meta":255,"style":255},"# Backup application configuration and data\nBACKUP_DIR=\"/backup/app\"\nDATE=$(date +%Y%m%d_%H%M%S)\nmkdir -p $BACKUP_DIR/$DATE\n\n# Backup configuration files\ncp -r /opt/tagtag/backend/config $BACKUP_DIR/$DATE/\n\n# Backup logs (optional)\ncp -r /opt/tagtag/backend/logs $BACKUP_DIR/$DATE/\n\n# Backup static resources\ncp -r /usr/share/nginx/html/tagtag $BACKUP_DIR/$DATE/\n\n# Compress backup file\ntar -czf $BACKUP_DIR/app_backup_$DATE.tar.gz -C $BACKUP_DIR $DATE\n\n# Delete temporary directory\nrm -rf $BACKUP_DIR/$DATE\n\n# Delete backups older than 7 days\nfind $BACKUP_DIR -name \"app_backup_*.tar.gz\" -mtime +7 -delete\n",[257,3752,3753,3758,3772,3786,3800,3804,3809,3827,3831,3836,3853,3857,3862,3879,3883,3887,3911,3915,3919,3933,3937,3941],{"__ignoreMap":255},[260,3754,3755],{"class":262,"line":263},[260,3756,3757],{"class":266},"# Backup application configuration and data\n",[260,3759,3760,3763,3765,3767,3770],{"class":262,"line":270},[260,3761,3762],{"class":622},"BACKUP_DIR",[260,3764,626],{"class":358},[260,3766,629],{"class":358},[260,3768,3769],{"class":277},"/backup/app",[260,3771,635],{"class":358},[260,3773,3774,3777,3780,3782,3784],{"class":262,"line":284},[260,3775,3776],{"class":622},"DATE",[260,3778,3779],{"class":358},"=$(",[260,3781,3460],{"class":273},[260,3783,3463],{"class":277},[260,3785,3498],{"class":358},[260,3787,3788,3790,3792,3795,3798],{"class":262,"line":294},[260,3789,731],{"class":273},[260,3791,734],{"class":277},[260,3793,3794],{"class":622}," $BACKUP_DIR",[260,3796,3797],{"class":277},"/",[260,3799,3667],{"class":622},[260,3801,3802],{"class":262,"line":304},[260,3803,317],{"emptyLinePlaceholder":316},[260,3805,3806],{"class":262,"line":313},[260,3807,3808],{"class":266},"# Backup configuration files\n",[260,3810,3811,3813,3815,3818,3820,3822,3824],{"class":262,"line":320},[260,3812,1967],{"class":273},[260,3814,1970],{"class":277},[260,3816,3817],{"class":277}," /opt/tagtag/backend/config",[260,3819,3794],{"class":622},[260,3821,3797],{"class":277},[260,3823,3596],{"class":622},[260,3825,3826],{"class":277},"/\n",[260,3828,3829],{"class":262,"line":326},[260,3830,317],{"emptyLinePlaceholder":316},[260,3832,3833],{"class":262,"line":338},[260,3834,3835],{"class":266},"# Backup logs (optional)\n",[260,3837,3838,3840,3842,3845,3847,3849,3851],{"class":262,"line":343},[260,3839,1967],{"class":273},[260,3841,1970],{"class":277},[260,3843,3844],{"class":277}," /opt/tagtag/backend/logs",[260,3846,3794],{"class":622},[260,3848,3797],{"class":277},[260,3850,3596],{"class":622},[260,3852,3826],{"class":277},[260,3854,3855],{"class":262,"line":349},[260,3856,317],{"emptyLinePlaceholder":316},[260,3858,3859],{"class":262,"line":371},[260,3860,3861],{"class":266},"# Backup static resources\n",[260,3863,3864,3866,3868,3871,3873,3875,3877],{"class":262,"line":381},[260,3865,1967],{"class":273},[260,3867,1970],{"class":277},[260,3869,3870],{"class":277}," /usr/share/nginx/html/tagtag",[260,3872,3794],{"class":622},[260,3874,3797],{"class":277},[260,3876,3596],{"class":622},[260,3878,3826],{"class":277},[260,3880,3881],{"class":262,"line":386},[260,3882,317],{"emptyLinePlaceholder":316},[260,3884,3885],{"class":262,"line":392},[260,3886,3644],{"class":266},[260,3888,3889,3892,3895,3897,3900,3902,3905,3908],{"class":262,"line":410},[260,3890,3891],{"class":273},"tar",[260,3893,3894],{"class":277}," -czf",[260,3896,3794],{"class":622},[260,3898,3899],{"class":277},"/app_backup_",[260,3901,3596],{"class":622},[260,3903,3904],{"class":277},".tar.gz",[260,3906,3907],{"class":277}," -C",[260,3909,3910],{"class":622}," $BACKUP_DIR $DATE\n",[260,3912,3913],{"class":262,"line":416},[260,3914,317],{"emptyLinePlaceholder":316},[260,3916,3917],{"class":262,"line":422},[260,3918,3676],{"class":266},[260,3920,3921,3924,3927,3929,3931],{"class":262,"line":428},[260,3922,3923],{"class":273},"rm",[260,3925,3926],{"class":277}," -rf",[260,3928,3794],{"class":622},[260,3930,3797],{"class":277},[260,3932,3667],{"class":622},[260,3934,3935],{"class":262,"line":433},[260,3936,317],{"emptyLinePlaceholder":316},[260,3938,3939],{"class":262,"line":439},[260,3940,3692],{"class":266},[260,3942,3943,3946,3949,3952,3954,3957,3959,3962,3965],{"class":262,"line":453},[260,3944,3945],{"class":273},"find",[260,3947,3948],{"class":622}," $BACKUP_DIR ",[260,3950,3951],{"class":277},"-name",[260,3953,1041],{"class":358},[260,3955,3956],{"class":277},"app_backup_*.tar.gz",[260,3958,629],{"class":358},[260,3960,3961],{"class":277}," -mtime",[260,3963,3964],{"class":277}," +7",[260,3966,3967],{"class":277}," -delete\n",[118,3969,3971],{"id":3970},"_9-performance-testing","9. Performance Testing",[123,3973,3975],{"id":3974},"_91-load-testing-tools","9.1 Load Testing Tools",[2723,3977,3978,3984,3990,3996],{},[558,3979,3980,3983],{},[245,3981,3982],{},"JMeter",": Powerful load testing tool",[558,3985,3986,3989],{},[245,3987,3988],{},"Gatling",": High-performance load testing tool based on Scala",[558,3991,3992,3995],{},[245,3993,3994],{},"k6",": Modern load testing tool",[558,3997,3998,4001],{},[245,3999,4000],{},"Apache Benchmark (ab)",": Simple and easy-to-use HTTP load testing tool",[123,4003,4005],{"id":4004},"_92-testing-scenarios","9.2 Testing Scenarios",[2723,4007,4008,4014,4020,4026],{},[558,4009,4010,4013],{},[245,4011,4012],{},"Concurrent Testing",": Test system performance under different concurrency numbers",[558,4015,4016,4019],{},[245,4017,4018],{},"Stress Testing",": Test system limit performance",[558,4021,4022,4025],{},[245,4023,4024],{},"Stability Testing",": Long-term operation test to check system stability",[558,4027,4028,4031],{},[245,4029,4030],{},"Capacity Testing",": Test system maximum capacity",[114,4033,4034,248],{},[245,4035,4036],{},"JMeter Testing Example",[555,4038,4039,4042,4045,4048,4051,4054],{},[558,4040,4041],{},"Create a test plan",[558,4043,4044],{},"Add thread group",[558,4046,4047],{},"Add HTTP request",[558,4049,4050],{},"Add listeners (such as aggregate report, graph results)",[558,4052,4053],{},"Run the test",[558,4055,4056],{},"Analyze results",[118,4058,4060],{"id":4059},"_10-common-issues-and-solutions","10. Common Issues and Solutions",[123,4062,4064],{"id":4063},"_101-application-startup-failure","10.1 Application Startup Failure",[114,4066,4067,4070],{},[245,4068,4069],{},"Problem",": Application exits immediately after startup",[114,4072,4073,248],{},[245,4074,4075],{},"Solution",[250,4077,4079],{"className":252,"code":4078,"language":254,"meta":255,"style":255},"# Check logs\ncat /opt/tagtag/backend/logs/application.log\n\n# Check port occupancy\nnetstat -tlnp | grep 8080\n\n# Check database connection\ntelnet mysql-server 3306\n\n# Check Redis connection\ntelnet redis-server 6379\n",[257,4080,4081,4086,4093,4097,4102,4118,4122,4127,4138,4142,4147],{"__ignoreMap":255},[260,4082,4083],{"class":262,"line":263},[260,4084,4085],{"class":266},"# Check logs\n",[260,4087,4088,4090],{"class":262,"line":270},[260,4089,395],{"class":273},[260,4091,4092],{"class":277}," /opt/tagtag/backend/logs/application.log\n",[260,4094,4095],{"class":262,"line":284},[260,4096,317],{"emptyLinePlaceholder":316},[260,4098,4099],{"class":262,"line":294},[260,4100,4101],{"class":266},"# Check port occupancy\n",[260,4103,4104,4107,4110,4113,4116],{"class":262,"line":304},[260,4105,4106],{"class":273},"netstat",[260,4108,4109],{"class":277}," -tlnp",[260,4111,4112],{"class":358}," |",[260,4114,4115],{"class":273}," grep",[260,4117,1359],{"class":377},[260,4119,4120],{"class":262,"line":313},[260,4121,317],{"emptyLinePlaceholder":316},[260,4123,4124],{"class":262,"line":320},[260,4125,4126],{"class":266},"# Check database connection\n",[260,4128,4129,4132,4135],{"class":262,"line":326},[260,4130,4131],{"class":273},"telnet",[260,4133,4134],{"class":277}," mysql-server",[260,4136,4137],{"class":377}," 3306\n",[260,4139,4140],{"class":262,"line":338},[260,4141,317],{"emptyLinePlaceholder":316},[260,4143,4144],{"class":262,"line":343},[260,4145,4146],{"class":266},"# Check Redis connection\n",[260,4148,4149,4151,4154],{"class":262,"line":349},[260,4150,4131],{"class":273},[260,4152,4153],{"class":277}," redis-server",[260,4155,1563],{"class":377},[123,4157,4159],{"id":4158},"_102-database-connection-failure","10.2 Database Connection Failure",[114,4161,4162,4164],{},[245,4163,4069],{},": Application cannot connect to the database",[114,4166,4167,248],{},[245,4168,4075],{},[250,4170,4172],{"className":252,"code":4171,"language":254,"meta":255,"style":255},"# Check database service status\nsystemctl status mysqld\n\n# Check database user permissions\nmysql -u root -p -e \"SHOW GRANTS FOR 'tagtag'@'%';\"\n\n# Check firewall settings\nfirewall-cmd --list-ports\n\n# Check SELinux settings\ngetenforce\n",[257,4173,4174,4179,4189,4193,4198,4219,4223,4228,4236,4240,4245],{"__ignoreMap":255},[260,4175,4176],{"class":262,"line":263},[260,4177,4178],{"class":266},"# Check database service status\n",[260,4180,4181,4183,4186],{"class":262,"line":270},[260,4182,274],{"class":273},[260,4184,4185],{"class":277}," status",[260,4187,4188],{"class":277}," mysqld\n",[260,4190,4191],{"class":262,"line":284},[260,4192,317],{"emptyLinePlaceholder":316},[260,4194,4195],{"class":262,"line":294},[260,4196,4197],{"class":266},"# Check database user permissions\n",[260,4199,4200,4203,4205,4207,4209,4212,4214,4217],{"class":262,"line":304},[260,4201,4202],{"class":273},"mysql",[260,4204,3429],{"class":277},[260,4206,3432],{"class":277},[260,4208,734],{"class":277},[260,4210,4211],{"class":277}," -e",[260,4213,1041],{"class":358},[260,4215,4216],{"class":277},"SHOW GRANTS FOR 'tagtag'@'%';",[260,4218,635],{"class":358},[260,4220,4221],{"class":262,"line":313},[260,4222,317],{"emptyLinePlaceholder":316},[260,4224,4225],{"class":262,"line":320},[260,4226,4227],{"class":266},"# Check firewall settings\n",[260,4229,4230,4233],{"class":262,"line":326},[260,4231,4232],{"class":273},"firewall-cmd",[260,4234,4235],{"class":277}," --list-ports\n",[260,4237,4238],{"class":262,"line":338},[260,4239,317],{"emptyLinePlaceholder":316},[260,4241,4242],{"class":262,"line":343},[260,4243,4244],{"class":266},"# Check SELinux settings\n",[260,4246,4247],{"class":262,"line":349},[260,4248,4249],{"class":273},"getenforce\n",[123,4251,4253],{"id":4252},"_103-frontend-page-cannot-be-accessed","10.3 Frontend Page Cannot Be Accessed",[114,4255,4256,4258],{},[245,4257,4069],{},": Accessing the frontend page shows 404 or blank page",[114,4260,4261,248],{},[245,4262,4075],{},[250,4264,4266],{"className":252,"code":4265,"language":254,"meta":255,"style":255},"# Check Nginx configuration\nnginx -t\n\n# Check Nginx logs\ncat /var/log/nginx/tagtag.error.log\n\n# Check static file permissions\nls -la /usr/share/nginx/html/tagtag/\n\n# Check frontend routing configuration\n# Ensure Nginx is configured with try_files $uri $uri/ /index.html;\n",[257,4267,4268,4272,4278,4282,4287,4294,4298,4303,4313,4317,4322],{"__ignoreMap":255},[260,4269,4270],{"class":262,"line":263},[260,4271,2191],{"class":266},[260,4273,4274,4276],{"class":262,"line":270},[260,4275,2196],{"class":273},[260,4277,2199],{"class":277},[260,4279,4280],{"class":262,"line":284},[260,4281,317],{"emptyLinePlaceholder":316},[260,4283,4284],{"class":262,"line":294},[260,4285,4286],{"class":266},"# Check Nginx logs\n",[260,4288,4289,4291],{"class":262,"line":304},[260,4290,395],{"class":273},[260,4292,4293],{"class":277}," /var/log/nginx/tagtag.error.log\n",[260,4295,4296],{"class":262,"line":313},[260,4297,317],{"emptyLinePlaceholder":316},[260,4299,4300],{"class":262,"line":320},[260,4301,4302],{"class":266},"# Check static file permissions\n",[260,4304,4305,4308,4311],{"class":262,"line":326},[260,4306,4307],{"class":273},"ls",[260,4309,4310],{"class":277}," -la",[260,4312,1979],{"class":277},[260,4314,4315],{"class":262,"line":338},[260,4316,317],{"emptyLinePlaceholder":316},[260,4318,4319],{"class":262,"line":343},[260,4320,4321],{"class":266},"# Check frontend routing configuration\n",[260,4323,4324],{"class":262,"line":349},[260,4325,4326],{"class":266},"# Ensure Nginx is configured with try_files $uri $uri/ /index.html;\n",[118,4328,4330],{"id":4329},"_11-summary","11. Summary",[114,4332,4333],{},"Production environment deployment is a complex process that involves server configuration, application deployment, database optimization, security configuration, monitoring logging, and backup recovery. This document provides a detailed guide for deploying the Tagtag project in a production environment, hoping to help you successfully complete the deployment work.",[114,4335,4336],{},"In the actual deployment process, it is recommended to flexibly adjust configuration parameters according to your business needs and server resources to ensure high performance, high availability, and high security of the system.",[4338,4339,4340],"style",{},"html pre.shiki code .sHwdD, html code.shiki .sHwdD{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#546E7A;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sBMFI, html code.shiki .sBMFI{--shiki-light:#E2931D;--shiki-default:#FFCB6B;--shiki-dark:#FFCB6B}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .sbssI, html code.shiki .sbssI{--shiki-light:#F76D47;--shiki-default:#F78C6C;--shiki-dark:#F78C6C}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .spNyl, html code.shiki .spNyl{--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA}html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}html pre.shiki code .swJcz, html code.shiki .swJcz{--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178}",{"title":255,"searchDepth":263,"depth":270,"links":4342},[4343,4347,4352,4357,4363,4367,4373,4377,4381,4385,4390],{"id":120,"depth":270,"text":121,"children":4344},[4345,4346],{"id":125,"depth":284,"text":126},{"id":237,"depth":284,"text":238},{"id":543,"depth":270,"text":544,"children":4348},[4349,4350,4351],{"id":547,"depth":284,"text":548},{"id":687,"depth":284,"text":688},{"id":1317,"depth":284,"text":1318},{"id":1783,"depth":270,"text":1784,"children":4353},[4354,4355,4356],{"id":1787,"depth":284,"text":1788},{"id":1889,"depth":284,"text":1890},{"id":2228,"depth":284,"text":2229},{"id":2474,"depth":270,"text":2475,"children":4358},[4359,4360,4361,4362],{"id":2478,"depth":284,"text":2479},{"id":2715,"depth":284,"text":2716},{"id":2823,"depth":284,"text":2824},{"id":2948,"depth":284,"text":2949},{"id":2991,"depth":270,"text":2992,"children":4364},[4365,4366],{"id":2995,"depth":284,"text":2996},{"id":3149,"depth":284,"text":3150},{"id":3206,"depth":270,"text":3207,"children":4368},[4369,4370,4371,4372],{"id":3210,"depth":284,"text":3211},{"id":3231,"depth":284,"text":3232},{"id":3255,"depth":284,"text":3256},{"id":3282,"depth":284,"text":3283},{"id":3306,"depth":270,"text":3307,"children":4374},[4375,4376],{"id":3310,"depth":284,"text":3311},{"id":3355,"depth":284,"text":3356},{"id":3401,"depth":270,"text":3402,"children":4378},[4379,4380],{"id":3405,"depth":284,"text":3406},{"id":3742,"depth":284,"text":3743},{"id":3970,"depth":270,"text":3971,"children":4382},[4383,4384],{"id":3974,"depth":284,"text":3975},{"id":4004,"depth":284,"text":4005},{"id":4059,"depth":270,"text":4060,"children":4386},[4387,4388,4389],{"id":4063,"depth":284,"text":4064},{"id":4158,"depth":284,"text":4159},{"id":4252,"depth":284,"text":4253},{"id":4329,"depth":270,"text":4330},"Tagtag production environment deployment guide, including server configuration, database optimization, and security configuration.","md",null,{},"/en/deployment/production",{"title":109,"description":4391},"en/4.deployment/1.production","CRcywtUUIXDWKWynr3qxWyz28EMaBN-EXYxUWLo-Lb8",[4400,4405],{"title":4401,"path":4402,"stem":4403,"description":4404,"children":-1},"Storage Module","/en/modules/storage","en/3.modules/4.storage","File storage module documentation, detailing storage implementation, supported storage modes, and core functionalities.",{"title":4406,"path":4407,"stem":4408,"description":4409,"children":-1},"Containerization Deployment","/en/deployment/containerization","en/4.deployment/2.containerization","Tagtag containerization deployment guide, including Docker and Kubernetes deployment solutions.",1767077443263]